"use strict";(self.webpackChunkangular_portfolio=self.webpackChunkangular_portfolio||[]).push([[179],{58:(Pi,Wn,Qe)=>{Qe.d(Wn,{BH:()=>jt,G6:()=>ei,L:()=>ut,LL:()=>H,Pz:()=>Ot,Sg:()=>Rr,UG:()=>J,ZB:()=>Ae,ZR:()=>te,aH:()=>Kt,b$:()=>Rn,eu:()=>j,hl:()=>V,jU:()=>on,m9:()=>xa,ne:()=>Di,pd:()=>qc,r3:()=>Cr,ru:()=>Zt,tV:()=>ee,uI:()=>Un,vZ:()=>Mi,w1:()=>Jo,xO:()=>zc,xb:()=>Jr,z$:()=>nt,zd:()=>ko});const He=function(P){const T=[];let M=0;for(let Y=0;Y<P.length;Y++){let x=P.charCodeAt(Y);x<128?T[M++]=x:x<2048?(T[M++]=x>>6|192,T[M++]=63&x|128):55296==(64512&x)&&Y+1<P.length&&56320==(64512&P.charCodeAt(Y+1))?(x=65536+((1023&x)<<10)+(1023&P.charCodeAt(++Y)),T[M++]=x>>18|240,T[M++]=x>>12&63|128,T[M++]=x>>6&63|128,T[M++]=63&x|128):(T[M++]=x>>12|224,T[M++]=x>>6&63|128,T[M++]=63&x|128)}return T},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,T){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let x=0;x<P.length;x+=3){const G=P[x],ze=x+1<P.length,rt=ze?P[x+1]:0,bt=x+2<P.length,an=bt?P[x+2]:0;let Xn=(15&rt)<<2|an>>6,Ft=63&an;bt||(Ft=64,ze||(Xn=64)),Y.push(M[G>>2],M[(3&G)<<4|rt>>4],M[Xn],M[Ft])}return Y.join("")},encodeString(P,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(P):this.encodeByteArray(He(P),T)},decodeString(P,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(P):function(P){const T=[];let M=0,Y=0;for(;M<P.length;){const x=P[M++];if(x<128)T[Y++]=String.fromCharCode(x);else if(x>191&&x<224){const G=P[M++];T[Y++]=String.fromCharCode((31&x)<<6|63&G)}else if(x>239&&x<365){const bt=((7&x)<<18|(63&P[M++])<<12|(63&P[M++])<<6|63&P[M++])-65536;T[Y++]=String.fromCharCode(55296+(bt>>10)),T[Y++]=String.fromCharCode(56320+(1023&bt))}else{const G=P[M++],ze=P[M++];T[Y++]=String.fromCharCode((15&x)<<12|(63&G)<<6|63&ze)}}return T.join("")}(this.decodeStringToByteArray(P,T))},decodeStringToByteArray(P,T){this.init_();const M=T?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let x=0;x<P.length;){const G=M[P.charAt(x++)],rt=x<P.length?M[P.charAt(x)]:0;++x;const an=x<P.length?M[P.charAt(x)]:64;++x;const we=x<P.length?M[P.charAt(x)]:64;if(++x,null==G||null==rt||null==an||null==we)throw new hn;Y.push(G<<2|rt>>4),64!==an&&(Y.push(rt<<4&240|an>>2),64!==we&&Y.push(an<<6&192|we))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class hn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(P){return function(P){const T=He(P);return rn.encodeByteArray(T,!0)}(P).replace(/\./g,"")},ee=function(P){try{return rn.decodeString(P,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function Ae(P,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return T}for(const M in T)!T.hasOwnProperty(M)||!at(M)||(P[M]=Ae(P[M],T[M]));return P}function at(P){return"__proto__"!==P}const tt=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=P&&ee(P[1]);return T&&JSON.parse(T)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},Kt=()=>{var P;return null===(P=tt())||void 0===P?void 0:P.config},Ot=P=>{var T;return null===(T=tt())||void 0===T?void 0:T[`_${P}`]};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,M)=>{this.resolve=T,this.reject=M})}wrapCallback(T){return(M,Y)=>{M?this.reject(M):this.resolve(Y),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(M):T(M,Y))}}}function Rr(P,T){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=T||"demo-project",x=P.iat||0,G=P.sub||P.user_id;if(!G)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:x,exp:x+3600,auth_time:x,sub:G,user_id:G,firebase:{sign_in_provider:"custom",identities:{}}},P);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(ze)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Un(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function J(){var P;const T=null===(P=tt())||void 0===P?void 0:P.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function Zt(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Jo(){const P=nt();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function ei(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((P,T)=>{try{let M=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(Y);x.onsuccess=()=>{x.result.close(),M||self.indexedDB.deleteDatabase(Y),P(!0)},x.onupgradeneeded=()=>{M=!1},x.onerror=()=>{var G;T((null===(G=x.error)||void 0===G?void 0:G.message)||"")}}catch(M){T(M)}})}class te extends Error{constructor(T,M,Y){super(M),this.code=T,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(T,M,Y){this.service=T,this.serviceName=M,this.errors=Y}create(T,...M){const Y=M[0]||{},x=`${this.service}/${T}`,G=this.errors[T],ze=G?function me(P,T){return P.replace(mt,(M,Y)=>{const x=T[Y];return null!=x?String(x):`<${Y}?>`})}(G,Y):"Error";return new te(x,`${this.serviceName}: ${ze} (${x}).`,Y)}}const mt=/\{\$([^}]+)}/g;function Cr(P,T){return Object.prototype.hasOwnProperty.call(P,T)}function Jr(P){for(const T in P)if(Object.prototype.hasOwnProperty.call(P,T))return!1;return!0}function Mi(P,T){if(P===T)return!0;const M=Object.keys(P),Y=Object.keys(T);for(const x of M){if(!Y.includes(x))return!1;const G=P[x],ze=T[x];if(xn(G)&&xn(ze)){if(!Mi(G,ze))return!1}else if(G!==ze)return!1}for(const x of Y)if(!M.includes(x))return!1;return!0}function xn(P){return null!==P&&"object"==typeof P}function zc(P){const T=[];for(const[M,Y]of Object.entries(P))Array.isArray(Y)?Y.forEach(x=>{T.push(encodeURIComponent(M)+"="+encodeURIComponent(x))}):T.push(encodeURIComponent(M)+"="+encodeURIComponent(Y));return T.length?"&"+T.join("&"):""}function ko(P){const T={};return P.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[x,G]=Y.split("=");T[decodeURIComponent(x)]=decodeURIComponent(G)}}),T}function qc(P){const T=P.indexOf("?");if(!T)return"";const M=P.indexOf("#",T);return P.substring(T,M>0?M:void 0)}function Di(P,T){const M=new Ki(P,T);return M.subscribe.bind(M)}class Ki{constructor(T,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then(()=>{T(this)}).catch(Y=>{this.error(Y)})}next(T){this.forEachObserver(M=>{M.next(T)})}error(T){this.forEachObserver(M=>{M.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,M,Y){let x;if(void 0===T&&void 0===M&&void 0===Y)throw new Error("Missing Observer.");x=function $s(P,T){if("object"!=typeof P||null===P)return!1;for(const M of T)if(M in P&&"function"==typeof P[M])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:M,complete:Y},void 0===x.next&&(x.next=Qt),void 0===x.error&&(x.error=Qt),void 0===x.complete&&(x.complete=Qt);const G=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),G}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,T)}sendOne(T,M){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{M(this.observers[T])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qt(){}function xa(P){return P&&P._delegate?P._delegate:P}},406:(Pi,Wn,Qe)=>{function E(n){return"function"==typeof n}function $e(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const z=$e(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function He(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(i){e=i instanceof z?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Kn(i)}catch(s){e=e??[],s instanceof z?e=[...e,...s.errors]:e.push(s)}}if(e)throw new z(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Kn(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&He(t,e)}remove(e){const{_finalizers:t}=this;t&&He(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const rn=Tt.EMPTY;function hn(n){return n instanceof Tt||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function Kn(n){E(n)?n():n.unsubscribe()}const ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:r}=ee;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ae(n){ee.setTimeout(()=>{const{onUnhandledError:e}=ut;if(!e)throw n;e(n)})}function Ae(){}const at=At("C",void 0,void 0);function At(n,e,t){return{kind:n,value:e,error:t}}let We=null;function tt(n){if(ut.useDeprecatedSynchronousErrorHandling){const e=!We;if(e&&(We={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=We;if(We=null,t)throw r}}else n()}class Yn extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hn(e)&&e.add(this)):this.destination=on}static create(e,t,r){return new Rr(e,t,r)}next(e){this.isStopped?J(function Zn(n){return At("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?J(function Pt(n){return At("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?J(at,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Kt=Function.prototype.bind;function Ot(n,e){return Kt.call(n,e)}class jt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nt(r)}else nt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nt(t)}}}class Rr extends Yn{constructor(e,t,r){let o;if(super(),E(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ut.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Ot(e.next,i),error:e.error&&Ot(e.error,i),complete:e.complete&&Ot(e.complete,i)}):o=e}this.destination=new jt(o)}}function nt(n){ut.useDeprecatedSynchronousErrorHandling?function Qn(n){ut.useDeprecatedSynchronousErrorHandling&&We&&(We.errorThrown=!0,We.error=n)}(n):ae(n)}function J(n,e){const{onStoppedNotification:t}=ut;t&&ee.setTimeout(()=>t(n,e))}const on={closed:!0,next:Ae,error:function Un(n){throw n},complete:Ae},Zt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rn(n){return n}function Jo(n){return 0===n.length?Rn:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function V(n){return n&&n instanceof Yn||function ei(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&hn(n)}(t)?t:new Rr(t,r,o);return tt(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=js(r))((o,i)=>{const s=new Rr({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Zt](){return this}pipe(...t){return Jo(t)(this)}toPromise(t){return new(t=js(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function js(n){var e;return null!==(e=n??ut.Promise)&&void 0!==e?e:Promise}const j=$e(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let B=(()=>{class n extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new K(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new j}next(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?rn:(this.currentObservers=null,i.push(t),new Tt(()=>{this.currentObservers=null,He(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return n.create=(e,t)=>new K(e,t),n})();class K extends B{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rn}}function te(n){return E(n?.lift)}function H(n){return e=>{if(te(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,o){return new mt(n,e,t,r,o)}class mt extends Yn{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(n,e){return H((t,r)=>{let o=0;t.subscribe(me(r,i=>{r.next(n.call(e,i,o++))}))})}var Se=Qe(582);const Et=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function sn(n){return E(n?.then)}function zt(n){return E(n[Zt])}function ur(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Bn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xr=function Cr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jr(n){return E(n?.[xr])}function Hc(n){return(0,Se.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield(0,Se.qq)(t.read());if(o)return yield(0,Se.qq)(void 0);yield yield(0,Se.qq)(r)}}finally{t.releaseLock()}})}function Mi(n){return E(n?.getReader)}function xn(n){if(n instanceof ht)return n;if(null!=n){if(zt(n))return function Da(n){return new ht(e=>{const t=n[Zt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Et(n))return function zc(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(sn(n))return function ko(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ae)})}(n);if(ur(n))return Nr(n);if(Jr(n))return function qc(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Mi(n))return function Di(n){return Nr(Hc(n))}(n)}throw Bn(n)}function Nr(n){return new ht(e=>{(function Ki(n,e){var t,r,o,i;return(0,Se.mG)(this,void 0,void 0,function*(){try{for(t=(0,Se.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function fr(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Qt(n,e,t=1/0){return E(e)?Qt((r,o)=>ve((i,s)=>e(r,i,o,s))(xn(n(r,o))),t):("number"==typeof e&&(t=e),H((r,o)=>function $s(n,e,t,r,o,i,s,a){const c=[];let u=0,d=0,g=!1;const m=()=>{g&&!c.length&&!u&&e.complete()},y=C=>u<r?v(C):c.push(C),v=C=>{i&&e.next(C),u++;let w=!1;xn(t(C,d++)).subscribe(me(e,O=>{o?.(O),i?y(O):e.next(O)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){const O=c.shift();s?fr(e,s,()=>v(O)):v(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(me(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,o,n,t)))}function Fo(n=1/0){return Qt(Rn,n)}const jn=new ht(n=>n.complete());function Zi(n){return n[n.length-1]}function Oa(n){return E(Zi(n))?n.pop():void 0}function Qi(n){return function Io(n){return n&&E(n.schedule)}(Zi(n))?n.pop():void 0}function dr(n,e=0){return H((t,r)=>{t.subscribe(me(r,o=>fr(r,n,()=>r.next(o),e),()=>fr(r,n,()=>r.complete(),e),o=>fr(r,n,()=>r.error(o),e)))})}function kr(n,e=0){return H((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xa(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{fr(t,e,()=>{const r=n[Symbol.asyncIterator]();fr(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function M(n,e){return e?function T(n,e){if(null!=n){if(zt(n))return function Yi(n,e){return xn(n).pipe(kr(e),dr(e))}(n,e);if(Et(n))return function Tu(n,e){return new ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(sn(n))return function Ra(n,e){return xn(n).pipe(kr(e),dr(e))}(n,e);if(ur(n))return xa(n,e);if(Jr(n))return function Gc(n,e){return new ht(t=>{let r;return fr(t,e,()=>{r=n[xr](),fr(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>E(r?.return)&&r.return()})}(n,e);if(Mi(n))return function P(n,e){return xa(Hc(n),e)}(n,e)}throw Bn(n)}(n,e):xn(n)}function Y(...n){const e=Qi(n),t=function Sa(n,e){return"number"==typeof Zi(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?xn(r[0]):Fo(t)(M(r,e)):jn}class x extends B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function G(...n){return M(n,Qi(n))}function ze(n={}){const{connector:e=(()=>new B),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,c,u=0,d=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=c=void 0,d=g=!1},v=()=>{const C=s;y(),C?.unsubscribe()};return H((C,w)=>{u++,!g&&!d&&m();const O=c=c??e();w.add(()=>{u--,0===u&&!g&&!d&&(a=rt(v,o))}),O.subscribe(w),!s&&u>0&&(s=new Rr({next:D=>O.next(D),error:D=>{g=!0,m(),a=rt(y,t,D),O.error(D)},complete:()=>{d=!0,m(),a=rt(y,r),O.complete()}}),xn(C).subscribe(s))})(i)}}function rt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Rr({next:()=>{r.unsubscribe(),n()}});return xn(e(...t)).subscribe(r)}function bt(n,e){return H((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(me(r,c=>{o?.unsubscribe();let u=0;const d=i++;xn(n(c,d)).subscribe(o=me(r,g=>r.next(e?e(c,g,d,u++):g),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function an(n,e=Rn){return n=n??$n,H((t,r)=>{let o,i=!0;t.subscribe(me(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function $n(n,e){return n===e}function we(n){for(let e in n)if(n[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Xn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ti(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Pu=we({__forward_ref__:we});function F(n){return n.__forward_ref__=F,n.toString=function(){return Ft(this())},n}function A(n){return oe(n)?n():n}function oe(n){return"function"==typeof n&&n.hasOwnProperty(Pu)&&n.__forward_ref__===F}function Ie(n){return n&&!!n.\u0275providers}const ft="https://g.co/ng/security#xss";class N extends Error{constructor(e,t){super(function pn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function Wc(n,e){throw new N(-201,!1)}function Fr(n,e){null==n&&function ke(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kc(n){return ih(n,Zc)||ih(n,e_)}function ih(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ai(n){return n&&(n.hasOwnProperty(Qc)||n.hasOwnProperty(sh))?n[Qc]:null}const Zc=we({\u0275prov:we}),Qc=we({\u0275inj:we}),e_=we({ngInjectableDef:we}),sh=we({ngInjectorDef:we});var dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(dt||{});let Yc;function hr(n){const e=Yc;return Yc=n,e}function n_(n,e,t){const r=Kc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&dt.Optional?null:void 0!==e?e:void Wc(Ft(n))}const Rt=globalThis;class le{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const to={},tl="__NG_DI_FLAG__",Du="ngTempTokenPath",IE=/\n/gm,c_="__source";let Ji;function ri(n){const e=Ji;return Ji=n,e}function PE(n,e=dt.Default){if(void 0===Ji)throw new N(-203,!1);return null===Ji?n_(n,void 0,e):Ji.get(n,e&dt.Optional?null:void 0,e)}function W(n,e=dt.Default){return(function t_(){return Yc}()||PE)(A(n),e)}function fe(n,e=dt.Default){return W(n,Ou(e))}function Ou(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lh(n){const e=[];for(let t=0;t<n.length;t++){const r=A(n[t]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let o,i=dt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=JA(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}e.push(W(o,i))}else e.push(W(r))}return e}function Oi(n,e){return n[tl]=e,n.prototype[tl]=e,n}function JA(n){return n[tl]}function Vr(n){return{toString:n}.toString()}var Ri=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ri||{}),no=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(no||{});const Vo={},wt=[],Su=we({\u0275cmp:we}),es=we({\u0275dir:we}),fh=we({\u0275pipe:we}),nl=we({\u0275mod:we}),oi=we({\u0275fac:we}),ka=we({__NG_ELEMENT_ID__:we}),Ru=we({__NG_ENV_ID__:we});function ro(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}function xu(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];Nu(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function l_(n){return 3===n||4===n||6===n}function Nu(n){return 64===n.charCodeAt(0)}function ts(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||dh(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function dh(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}const hh="ng-template";function ME(n,e,t){let r=0,o=!0;for(;r<n.length;){let i=n[r++];if("string"==typeof i&&o){const s=n[r++];if(t&&"class"===i&&-1!==ro(s.toLowerCase(),e,0))return!0}else{if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function ku(n){return 4===n.type&&n.value!==hh}function ph(n,e,t){return e===(4!==n.type||t?n.value:hh)}function gh(n,e,t){let r=4;const o=n.attrs||[],i=function u_(n){for(let e=0;e<n.length;e++)if(l_(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ph(n,c,t)||""===c&&1===e.length){if(Lr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!ME(n.attrs,u,t)){if(Lr(r))return!1;s=!0}continue}const g=mh(8&r?"class":c,o,ku(n),t);if(-1===g){if(Lr(r))return!1;s=!0;continue}if(""!==u){let m;m=g>i?"":o[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==ro(y,u,0)||2&r&&u!==m){if(Lr(r))return!1;s=!0}}}}else{if(!s&&!Lr(r)&&!Lr(c))return!1;if(s&&Lr(c))continue;s=!1,r=c|1&r}}return Lr(r)||s}function Lr(n){return 0==(1&n)}function mh(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function bh(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function _h(n,e,t=!1){for(let r=0;r<e.length;r++)if(gh(n,e[r],t))return!0;return!1}function Fu(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function Vu(n,e){return n?":not("+e.trim()+")":e}function f_(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Lr(s)&&(e+=Vu(i,o),o=""),r=s,i=i||!Lr(r);t++}return""!==o&&(e+=Vu(i,o)),e}function pr(n){return Vr(()=>{const e=Uu(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ri.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||no.Emulated,styles:n.styles||wt,_:null,schemas:n.schemas||null,tView:null,id:""};h_(t);const r=n.dependencies;return t.directiveDefs=Fa(r,!1),t.pipeDefs=Fa(r,!0),t.id=function Eh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const o of t)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Ch(n){return pt(n)||Nn(n)}function AE(n){return null!==n}function Cn(n){return Vr(()=>({type:n.type,bootstrap:n.bootstrap||wt,declarations:n.declarations||wt,imports:n.imports||wt,exports:n.exports||wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Lu(n,e){if(null==n)return Vo;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}function je(n){return Vr(()=>{const e=Uu(n);return h_(e),e})}function Jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function pt(n){return n[Su]||null}function Nn(n){return n[es]||null}function Er(n){return n[fh]||null}function oo(n,e){const t=n[nl]||null;if(!t&&!0===e)throw new Error(`Type ${Ft(n)} does not have '\u0275mod' property.`);return t}function Uu(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Vo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lu(n.inputs,e),outputs:Lu(n.outputs)}}function h_(n){n.features?.forEach(e=>e(n))}function Fa(n,e){if(!n)return null;const t=e?Er:Ch;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(AE)}const gn=0,ge=1,Ye=2,$t=3,Lo=4,ol=5,Hn=6,Va=7,En=8,ii=9,La=10,qe=11,il=12,Bu=13,Ua=14,cn=15,sl=16,rs=17,si=18,Hs=19,g_=20,ai=21,xi=22,al=23,Ba=24,st=25,os=1,wh=2,ci=7,ja=9,er=11;function io(n){return Array.isArray(n)&&"object"==typeof n[os]}function Ur(n){return Array.isArray(n)&&!0===n[os]}function ll(n){return 0!=(4&n.flags)}function zs(n){return n.componentOffset>-1}function $u(n){return 1==(1&n.flags)}function li(n){return!!n.template}function m_(n){return 0!=(512&n[Ye])}function ui(n,e){return n.hasOwnProperty(oi)?n[oi]:null}let tr=null,is=!1;function To(n){const e=tr;return tr=n,e}const wn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hu(n){if(!as(n)||n.dirty){if(!n.producerMustRecompute(n)&&!I_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function w_(n){n.dirty=!0,function E_(n){if(void 0===n.liveConsumerNode)return;const e=is;is=!0;try{for(const t of n.liveConsumerNode)t.dirty||w_(t)}finally{is=e}}(n),n.consumerMarkedDirty?.(n)}function Mh(n){return n&&(n.nextProducerIndex=0),To(n)}function zu(n,e){if(To(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(as(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ss(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function I_(n){Ha(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Hu(t),r!==t.version))return!0}return!1}function fl(n){if(Ha(n),as(n))for(let e=0;e<n.producerNode.length;e++)ss(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ss(n,e){if(function qu(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ha(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)ss(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],o=n.liveConsumerNode[e];Ha(o),o.producerIndexOfThis[r]=e}}function as(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ha(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let M_=null;const O_=()=>{},FE=(()=>({...wn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:O_}))();class VE{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function so(){return S_}function S_(n){return n.type.prototype.ngOnChanges&&(n.setInput=UE),LE}function LE(){const n=R_(this),e=n?.current;if(e){const t=n.previous;if(t===Vo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function UE(n,e,t,r){const o=this.declaredInputs[t],i=R_(n)||function Sh(n,e){return n[Wu]=e}(n,{previous:Vo,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new VE(c&&c.currentValue,e,a===Vo),n[r]=e}so.ngInherit=!0;const Wu="__ngSimpleChanges__";function R_(n){return n[Wu]||null}const fi=function(n,e,t){};function kt(n){for(;Array.isArray(n);)n=n[gn];return n}function qa(n,e){return kt(e[n])}function zn(n,e){return kt(e[n.index])}function Zu(n,e){return n.data[e]}function Ga(n,e){return n[e]}function ao(n,e){const t=e[n];return io(t)?t:t[gn]}function cs(n,e){return null==e?null:n[e]}function N_(n){n[rs]=0}function Fh(n){1024&n[Ye]||(n[Ye]|=1024,Qu(n,1))}function k_(n){1024&n[Ye]&&(n[Ye]&=-1025,Qu(n,-1))}function Qu(n,e){let t=n[$t];if(null===t)return;t[ol]+=e;let r=t;for(t=t[$t];null!==t&&(1===e&&1===r[ol]||-1===e&&0===r[ol]);)t[ol]+=e,r=t,t=t[$t]}const Ve={lFrame:$_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xu(){return Ve.bindingsEnabled}function ls(){return null!==Ve.skipHydrationRootTNode}function ne(){return Ve.lFrame.lView}function gt(){return Ve.lFrame.tView}function Le(n){return Ve.lFrame.contextLView=n,n[En]}function Ue(n){return Ve.lFrame.contextLView=null,n}function kn(){let n=B_();for(;null!==n&&64===n.type;)n=n.parent;return n}function B_(){return Ve.lFrame.currentTNode}function Po(n,e){const t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function Bh(){return Ve.lFrame.isParent}function gl(){Ve.lFrame.isParent=!1}function nr(){const n=Ve.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ks(){return Ve.lFrame.bindingIndex++}function di(n){const e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zh(n,e){const t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,qh(e)}function qh(n){Ve.lFrame.currentDirectiveIndex=n}function Gh(n){const e=Ve.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function ef(){return Ve.lFrame.currentQueryIndex}function Wh(n){Ve.lFrame.currentQueryIndex=n}function WE(n){const e=n[ge];return 2===e.type?e.declTNode:1===e.type?n[Hn]:null}function Kh(n,e,t){if(t&dt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&dt.Host||(o=WE(i),null===o||(i=i[Ua],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Ve.lFrame=ml();return r.currentTNode=e,r.lView=n,!0}function Zh(n){const e=ml(),t=n[ge];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ml(){const n=Ve.lFrame,e=null===n?null:n.child;return null===e?$_(n):e}function $_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function H_(){const n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z_=H_;function Qh(){const n=H_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wr(){return Ve.lFrame.selectedIndex}function Zs(n){Ve.lFrame.selectedIndex=n}function qt(){const n=Ve.lFrame;return Zu(n.tView,n.selectedIndex)}let Yh=!0;function tf(){return Yh}function us(n){Yh=n}function nf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function rf(n,e,t){K_(n,e,3,t)}function Wa(n,e,t,r){(3&n[Ye])===t&&K_(n,e,t,r)}function _l(n,e){let t=n[Ye];(3&t)===e&&(t&=8191,t+=1,n[Ye]=t)}function K_(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[rs]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[rs]+=65536),(a<i||-1==i)&&(JE(n,t,e,c),n[rs]=(4294901760&n[rs])+c+2),c++}function sf(n,e){fi(4,n,e);const t=To(null);try{e.call(n)}finally{To(t),fi(5,n,e)}}function JE(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];o?n[Ye]>>13<n[rs]>>16&&(3&n[Ye])===e&&(n[Ye]+=8192,sf(a,i)):sf(a,i)}const Qs=-1;class yl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Jh(n){return n!==Qs}function bl(n){return 32767&n}function vl(n,e){let t=function nw(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ua],t--;return r}let ep=!0;function Cl(n){const e=ep;return ep=n,e}const rw=255,fs=5;let ow=0;const hi={};function cf(n,e){const t=X_(n,e);if(-1!==t)return t;const r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,El(r.data,n),El(e,null),El(r.blueprint,null));const o=lf(n,e),i=n.injectorIndex;if(Jh(o)){const s=bl(o),a=vl(o,e),c=a[ge].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function El(n,e){n.push(0,0,0,0,0,0,0,0,e)}function X_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=oy(o),null===r)return Qs;if(t++,o=o[Ua],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Qs}function wl(n,e,t){!function tp(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ka)&&(r=t[ka]),null==r&&(r=t[ka]=ow++);const o=r&rw;e.data[n+(o>>fs)]|=1<<o}(n,e,t)}function J_(n,e,t){if(t&dt.Optional||void 0!==n)return n;Wc()}function uf(n,e,t,r){if(t&dt.Optional&&void 0===r&&(r=null),!(t&(dt.Self|dt.Host))){const o=n[ii],i=hr(void 0);try{return o?o.get(e,r,t&dt.Optional):n_(e,r,t&dt.Optional)}finally{hr(i)}}return J_(r,0,t)}function ey(n,e,t,r=dt.Default,o){if(null!==n){if(2048&e[Ye]&&!(r&dt.Self)){const s=function cw(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&2048&s[Ye]&&!(512&s[Ye]);){const a=ty(i,s,t,r|dt.Self,hi);if(a!==hi)return a;let c=i.parent;if(!c){const u=s[g_];if(u){const d=u.get(t,hi,r);if(d!==hi)return d}c=oy(s),s=s[Ua]}i=c}return o}(n,e,t,r,hi);if(s!==hi)return s}const i=ty(n,e,t,r,hi);if(i!==hi)return i}return uf(e,t,r,o)}function ty(n,e,t,r,o){const i=function ny(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ka)?n[ka]:void 0;return"number"==typeof e?e>=0?e&rw:aw:e}(t);if("function"==typeof i){if(!Kh(e,n,r))return r&dt.Host?J_(o,0,r):uf(e,t,r,o);try{let s;if(s=i(r),null!=s||r&dt.Optional)return s;Wc()}finally{z_()}}else if("number"==typeof i){let s=null,a=X_(n,e),c=Qs,u=r&dt.Host?e[cn][Hn]:null;for((-1===a||r&dt.SkipSelf)&&(c=-1===a?lf(n,e):e[a+8],c!==Qs&&ry(r,!1)?(s=e[ge],a=bl(c),e=vl(c,e)):a=-1);-1!==a;){const d=e[ge];if(df(i,a,d.data)){const g=sw(a,e,t,s,r,u);if(g!==hi)return g}c=e[a+8],c!==Qs&&ry(r,e[ge].data[a+8]===u)&&df(i,a,e)?(s=d,a=bl(c),e=vl(c,e)):a=-1}}return o}function sw(n,e,t,r,o,i){const s=e[ge],a=s.data[n+8],d=ff(a,s,t,null==r?zs(a)&&ep:r!=s&&0!=(3&a.type),o&dt.Host&&i===a);return null!==d?Ys(e,s,d,a):hi}function ff(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,c=n.directiveStart,d=i>>20,m=o?a+d:n.directiveEnd;for(let y=r?a:a+d;y<m;y++){const v=s[y];if(y<c&&t===v||y>=c&&v.type===t)return y}if(o){const y=s[c];if(y&&li(y)&&y.type===t)return c}return null}function Ys(n,e,t,r){let o=n[t];const i=e.data;if(function Xh(n){return n instanceof yl}(o)){const s=o;s.resolving&&function Na(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new N(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}(i[t]));const a=Cl(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?hr(s.injectImpl):null;Kh(n,r,dt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function XE(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=S_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}(t,i[t],e)}finally{null!==u&&hr(u),Cl(a),s.resolving=!1,z_()}}return o}function df(n,e,t){return!!(t[e+(n>>fs)]&1<<n)}function ry(n,e){return!(n&dt.Self||n&dt.Host&&e)}class rr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ey(this._tNode,this._lView,e,Ou(r),t)}}function aw(){return new rr(kn(),ne())}function or(n){return Vr(()=>{const e=n.prototype.constructor,t=e[oi]||Ka(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[oi]||Ka(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ka(n){return oe(n)?()=>{const e=Ka(A(n));return e&&e()}:ui(n)}function oy(n){const e=n[ge],t=e.type;return 2===t?e.declTNode:1===t?n[Hn]:null}function Za(n){return function iw(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(l_(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(kn(),n)}const Qa="__parameters__";function pi(n,e,t){return Vr(()=>{const r=function rp(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,d){const g=c.hasOwnProperty(Qa)?c[Qa]:Object.defineProperty(c,Qa,{value:[]})[Qa];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(s),c}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}function Xa(n,e){n.forEach(t=>Array.isArray(t)?Xa(t,e):e(t))}function hf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ja(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function lo(n,e,t){let r=ec(n,e);return r>=0?n[1|r]=t:(r=~r,function hs(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function op(n,e){const t=ec(n,e);if(t>=0)return n[1|t]}function ec(n,e){return function Ir(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Dl=Oi(pi("Optional"),8),mf=Oi(pi("SkipSelf"),4);function _y(n){return 128==(128&n.flags)}var nc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(nc||{});const p5=/^>|^->|<!--|-->|--!>|<!-$/g,g5=/(<|>)/g,m5="\u200b$1\u200b";const vw=new Map;let _5=0;const Ew="__ngContext__";function Br(n,e){io(e)?(n[Ew]=e[Hs],function b5(n){vw.set(n[Hs],n)}(e)):n[Ew]=e}let ww;function Iw(n,e){return ww(n,e)}function fp(n){const e=n[$t];return Ur(e)?e[$t]:e}function BO(n){return $O(n[il])}function jO(n){return $O(n[Lo])}function $O(n){for(;null!==n&&!Ur(n);)n=n[Lo];return n}function vf(n,e,t,r,o){if(null!=r){let i,s=!1;Ur(r)?i=r:io(r)&&(s=!0,r=r[gn]);const a=kt(r);0===n&&null!==t?null==o?GO(e,t,a):Ol(e,t,a,o||null,!0):1===n&&null!==t?Ol(e,t,a,o||null,!0):2===n?function Iy(n,e,t){const r=Ey(n,e);r&&function L5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function j5(n,e,t,r,o){const i=t[ci];i!==kt(t)&&vf(e,n,r,i,o);for(let a=er;a<t.length;a++){const c=t[a];hp(c[ge],c,n,e,r,i)}}(e,n,i,t,o)}}function Tw(n,e){return n.createComment(function RO(n){return n.replace(p5,e=>e.replace(g5,m5))}(e))}function vy(n,e,t){return n.createElement(e,t)}function zO(n,e){const t=n[ja],r=t.indexOf(e);k_(e),t.splice(r,1)}function Cy(n,e){if(n.length<=er)return;const t=er+e,r=n[t];if(r){const o=r[sl];null!==o&&o!==n&&zO(o,r),e>0&&(n[t-1][Lo]=r[Lo]);const i=Ja(n,er+e);!function O5(n,e){hp(n,e,e[qe],2,null,null),e[gn]=null,e[Hn]=null}(r[ge],r);const s=i[si];null!==s&&s.detachView(i[ge]),r[$t]=null,r[Lo]=null,r[Ye]&=-129}return r}function Pw(n,e){if(!(256&e[Ye])){const t=e[qe];e[al]&&fl(e[al]),e[Ba]&&fl(e[Ba]),t.destroyNode&&hp(n,e,t,3,null,null),function x5(n){let e=n[il];if(!e)return Mw(n[ge],n);for(;e;){let t=null;if(io(e))t=e[il];else{const r=e[er];r&&(t=r)}if(!t){for(;e&&!e[Lo]&&e!==n;)io(e)&&Mw(e[ge],e),e=e[$t];null===e&&(e=n),io(e)&&Mw(e[ge],e),t=e&&e[Lo]}e=t}}(e)}}function Mw(n,e){if(!(256&e[Ye])){e[Ye]&=-129,e[Ye]|=256,function V5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof yl)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];fi(4,a,c);try{c.call(a)}finally{fi(5,a,c)}}else{fi(4,o,i);try{i.call(o)}finally{fi(5,o,i)}}}}}(n,e),function F5(n,e){const t=n.cleanup,r=e[Va];if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else t[i].call(r[t[i+1]]);null!==r&&(e[Va]=null);const o=e[ai];if(null!==o){e[ai]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(n,e),1===e[ge].type&&e[qe].destroy();const t=e[sl];if(null!==t&&Ur(e[$t])){t!==e[$t]&&zO(t,e);const r=e[si];null!==r&&r.detachView(n)}!function v5(n){vw.delete(n[Hs])}(e)}}function Dw(n,e,t){return function qO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[gn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===no.None||i===no.Emulated)return null}return zn(r,t)}}(n,e.parent,t)}function Ol(n,e,t,r,o){n.insertBefore(e,t,r,o)}function GO(n,e,t){n.appendChild(e,t)}function WO(n,e,t,r,o){null!==r?Ol(n,e,t,r,o):GO(n,e,t)}function Ey(n,e){return n.parentNode(e)}function KO(n,e,t){return QO(n,e,t)}let Aw,Ty,xw,Py,QO=function ZO(n,e,t){return 40&n.type?zn(n,t):null};function wy(n,e,t,r){const o=Dw(n,r,e),i=e[qe],a=KO(r.parent||e[Hn],r,e);if(null!=o)if(Array.isArray(t))for(let c=0;c<t.length;c++)WO(i,o,t[c],a,!1);else WO(i,o,t,a,!1);void 0!==Aw&&Aw(i,r,e,t,o)}function dp(n,e){if(null!==e){const t=e.type;if(3&t)return zn(e,n);if(4&t)return Ow(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return dp(n,r);{const o=n[e.index];return Ur(o)?Ow(-1,o):kt(o)}}if(32&t)return Iw(e,n)()||kt(n[e.index]);{const r=XO(n,e);return null!==r?Array.isArray(r)?r[0]:dp(fp(n[cn]),r):dp(n,e.next)}}return null}function XO(n,e){return null!==e?n[cn][Hn].projection[e.projection]:null}function Ow(n,e){const t=er+n+1;if(t<e.length){const r=e[t],o=r[ge].firstChild;if(null!==o)return dp(r,o)}return e[ci]}function Sw(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Br(kt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Sw(n,e,t.child,r,o,i,!1),vf(e,n,o,a,i);else if(32&c){const u=Iw(t,r);let d;for(;d=u();)vf(e,n,o,d,i);vf(e,n,o,a,i)}else 16&c?eS(n,e,r,t,o,i):vf(e,n,o,a,i);t=s?t.projectionNext:t.next}}function hp(n,e,t,r,o,i){Sw(t,r,n.firstChild,e,o,i,!1)}function eS(n,e,t,r,o,i){const s=t[cn],c=s[Hn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)vf(e,n,o,c[u],i);else{let u=c;const d=s[$t];_y(r)&&(u.flags|=128),Sw(n,e,u,d,o,i,!0)}}function tS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function nS(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&xu(n,e,r),null!==o&&tS(n,e,o),null!==i&&function H5(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function Cf(n){return function Rw(){if(void 0===Ty&&(Ty=null,Rt.trustedTypes))try{Ty=Rt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ty}()?.createHTML(n)||n}function Ef(){if(void 0!==xw)return xw;if(typeof document<"u")return document;throw new N(210,!1)}function Nw(){if(void 0===Py&&(Py=null,Rt.trustedTypes))try{Py=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Py}function rS(n){return Nw()?.createHTML(n)||n}function iS(n){return Nw()?.createScriptURL(n)||n}class Sl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class K5 extends Sl{getTypeName(){return"HTML"}}class Z5 extends Sl{getTypeName(){return"Style"}}class Q5 extends Sl{getTypeName(){return"Script"}}class Y5 extends Sl{getTypeName(){return"URL"}}class X5 extends Sl{getTypeName(){return"ResourceURL"}}function Bo(n){return n instanceof Sl?n.changingThisBreaksApplicationSecurity:n}function ps(n,e){const t=function J5(n){return n instanceof Sl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ft})`)}return t===e}class i${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Cf(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class s${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Cf(e),t}}const c$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function My(n){return(n=String(n)).match(c$)?n:"unsafe:"+n}function Js(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function pp(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const aS=Js("area,br,col,hr,img,wbr"),cS=Js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lS=Js("rp,rt"),kw=pp(aS,pp(cS,Js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pp(lS,Js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pp(lS,cS)),Fw=Js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uS=pp(Fw,Js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),l$=Js("script,style,template");class u${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!kw.hasOwnProperty(t))return this.sanitizedSomething=!0,!l$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!uS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Fw[a]&&(c=My(c)),this.buf.push(" ",s,'="',fS(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();kw.hasOwnProperty(t)&&!aS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const f$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d$=/([^\#-~ |!])/g;function fS(n){return n.replace(/&/g,"&amp;").replace(f$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(d$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dy;function dS(n,e){let t=null;try{Dy=Dy||function sS(n){const e=new s$(n);return function a$(){try{return!!(new window.DOMParser).parseFromString(Cf(""),"text/html")}catch{return!1}}()?new i$(e):e}(n);let r=e?String(e):"";t=Dy.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Dy.getInertBodyElement(r)}while(r!==i);return Cf((new u$).sanitizeChildren(Vw(t)||t))}finally{if(t){const r=Vw(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Vw(n){return"content"in n&&function h$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Do=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Do||{});function Lw(n){const e=gp();return e?rS(e.sanitize(Do.HTML,n)||""):ps(n,"HTML")?rS(Bo(n)):dS(Ef(),Te(n))}function Ay(n){const e=gp();return e?e.sanitize(Do.URL,n)||"":ps(n,"URL")?Bo(n):My(Te(n))}function hS(n){const e=gp();if(e)return iS(e.sanitize(Do.RESOURCE_URL,n)||"");if(ps(n,"ResourceURL"))return iS(Bo(n));throw new N(904,!1)}function gp(){const n=ne();return n&&n[La].sanitizer}const mp=new le("ENVIRONMENT_INITIALIZER"),gS=new le("INJECTOR",-1),mS=new le("INJECTOR_DEF_TYPES");class Uw{get(e,t=to){if(t===to){const r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return t}}function Oy(n){return{\u0275providers:n}}function b$(...n){return{\u0275providers:_S(0,n),\u0275fromNgModule:!0}}function _S(n,...e){const t=[],r=new Set;let o;const i=s=>{t.push(s)};return Xa(e,s=>{const a=s;Sy(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&yS(o,i),t}function yS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:o}=n[t];Bw(o,i=>{e(i,r)})}}function Sy(n,e,t,r){if(!(n=A(n)))return!1;let o=null,i=Ai(n);const s=!i&&pt(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const c=n.ngModule;if(i=Ai(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Sy(u,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{Xa(i.imports,d=>{Sy(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&yS(u,e)}if(!a){const u=ui(o)||(()=>new o);e({provide:o,useFactory:u,deps:wt},o),e({provide:mS,useValue:o,multi:!0},o),e({provide:mp,useValue:()=>W(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const u=n;Bw(c,d=>{e(d,u)})}}}return o!==n&&void 0!==n.providers}function Bw(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?Bw(t,e):e(t)}const v$=we({provide:String,useValue:we});function jw(n){return null!==n&&"object"==typeof n&&v$ in n}function Rl(n){return"function"==typeof n}const $w=new le("Set Injector scope."),Ry={},E$={};let Hw;function xy(){return void 0===Hw&&(Hw=new Uw),Hw}class jo{}class wf extends jo{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qw(e,s=>this.processProvider(s)),this.records.set(gS,If(void 0,this)),o.has("environment")&&this.records.set(jo,If(void 0,this));const i=this.records.get($w);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(mS.multi,wt,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ri(this),r=hr(void 0);try{return e()}finally{ri(t),hr(r)}}get(e,t=to,r=dt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ru))return e[Ru](this);r=Ou(r);const i=ri(this),s=hr(void 0);try{if(!(r&dt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function M$(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(e)&&Kc(e);c=u&&this.injectableDefInScope(u)?If(zw(e),Ry):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&dt.Self?xy():this.parent).get(e,t=r&dt.Optional&&t===to?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Du]=a[Du]||[]).unshift(Ft(e)),i)throw a;return function uh(n,e,t,r){const o=n[Du];throw e[c_]&&o.unshift(e[c_]),n.message=function Si(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=Ft(e);if(Array.isArray(e))o=e.map(Ft).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(IE,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Du]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{hr(s),ri(i)}}resolveInjectorInitializers(){const e=ri(this),t=hr(void 0);try{const o=this.get(mp.multi,wt,dt.Self);for(const i of o)i()}finally{ri(e),hr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){let t=Rl(e=A(e))?e:A(e&&e.provide);const r=function I$(n){return jw(n)?If(void 0,n.useValue):If(CS(n),Ry)}(e);if(Rl(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=If(void 0,Ry,!0),o.factory=()=>lh(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Ry&&(t.value=E$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function P$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=A(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function zw(n){const e=Kc(n),t=null!==e?e.factory:ui(n);if(null!==t)return t;if(n instanceof le)throw new N(204,!1);if(n instanceof Function)return function w$(n){const e=n.length;if(e>0)throw Pl(e,"?"),new N(204,!1);const t=function EE(n){return n&&(n[Zc]||n[e_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new N(204,!1)}function CS(n,e,t){let r;if(Rl(n)){const o=A(n);return ui(o)||zw(o)}if(jw(n))r=()=>A(n.useValue);else if(function vS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...lh(n.deps||[]));else if(function bS(n){return!(!n||!n.useExisting)}(n))r=()=>W(A(n.useExisting));else{const o=A(n&&(n.useClass||n.provide));if(!function T$(n){return!!n.deps}(n))return ui(o)||zw(o);r=()=>new o(...lh(n.deps))}return r}function If(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qw(n,e){for(const t of n)Array.isArray(t)?qw(t,e):t&&Ie(t)?qw(t.\u0275providers,e):e(t)}const Ny=new le("AppId",{providedIn:"root",factory:()=>D$}),D$="ng",ES=new le("Platform Initializer"),Fi=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wS=new le("AnimationModuleType"),IS=new le("CSP nonce",{providedIn:"root",factory:()=>Ef().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TS=(n,e,t)=>null;function Jw(n,e,t=!1){return TS(n,e,t)}class L${}class DS{}class B${resolveComponentFactory(e){throw function U$(n){const e=Error(`No component factory found for ${Ft(n)}.`);return e.ngComponent=n,e}(e)}}let bp=(()=>{class n{static#e=this.NULL=new B$}return n})();function j$(){return Mf(kn(),ne())}function Mf(n,e){return new uo(zn(n,e))}let uo=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=j$}return n})();function $$(n){return n instanceof uo?n.nativeElement:n}class vp{}let gi=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function H$(){const n=ne(),t=ao(kn().index,n);return(io(t)?t:n)[qe]}()}return n})(),z$=(()=>{class n{static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>null})}return n})();class Df{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const OS=new Df("16.2.12"),nI={};function NS(n,e=null,t=null,r){const o=kS(n,e,t,r);return o.resolveInjectorInitializers(),o}function kS(n,e=null,t=null,r,o=new Set){const i=[t||wt,b$(n)];return r=r||("object"==typeof n?void 0:Ft(n)),new wf(i,e||xy(),r||null,o)}let jr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=to;static#t=this.NULL=new Uw;static create(t,r){if(Array.isArray(t))return NS({name:""},r,t,"");{const o=t.name??"";return NS({name:o},t.parent,t.providers,o)}}static#n=this.\u0275prov=ye({token:n,providedIn:"any",factory:()=>W(gS)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function oI(n){return n.ngOriginalError}class ea{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oI(e);for(;t&&oI(t);)t=oI(t);return t||null}}function sI(n){return e=>{setTimeout(n,void 0,e)}}const Gt=class Y$ extends B{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=sI(i),o&&(o=sI(o)),s&&(s=sI(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof Tt&&e.add(a),a}};function VS(...n){}class It{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function X$(){const n="function"==typeof Rt.requestAnimationFrame;let e=Rt[n?"requestAnimationFrame":"setTimeout"],t=Rt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function tH(n){const e=()=>{!function eH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cI(n),n.isCheckStableRunning=!0,aI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{if(function rH(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(o,i,s,a);try{return LS(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),US(n)}},onInvoke:(t,r,o,i,s,a,c)=>{try{return LS(n),t.invoke(o,i,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),US(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,cI(n),aI(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!It.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(It.isInAngularZone())throw new N(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,J$,VS,VS);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const J$={};function aI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function LS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function US(n){n._nesting--,aI(n)}class nH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const BS=new le("",{providedIn:"root",factory:jS});function jS(){const n=fe(It);let e=!0;return Y(new ht(o=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{o.next(e),o.complete()})}),new ht(o=>{let i;n.runOutsideAngular(()=>{i=n.onStable.subscribe(()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,o.next(!0))})})});const s=n.onUnstable.subscribe(()=>{It.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(ze()))}function $S(n){return n.ownerDocument}function ta(n){return n instanceof Function?n():n}let lI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cp(n){for(;n;){n[Ye]|=64;const e=fp(n);if(m_(n)&&!e)return n;n=e}return null}const WS=new le("",{providedIn:"root",factory:()=>!1});let jy=null;function YS(n,e){return n[e]??e1()}function XS(n,e){const t=e1();t.producerNode?.length&&(n[e]=jy,t.lView=n,jy=JS())}const dH={...wn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cp(n.lView)},lView:null};function JS(){return Object.create(dH)}function e1(){return jy??=JS(),jy}const et={};function ie(n){t1(gt(),ne(),wr()+n,!1)}function t1(n,e,t,r){if(!r)if(3==(3&e[Ye])){const i=n.preOrderCheckHooks;null!==i&&rf(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Wa(e,i,0,t)}Zs(t)}function X(n,e=dt.Default){const t=ne();return null===t?W(n,e):ey(kn(),t,A(n),e)}function $y(n,e,t,r,o,i,s,a,c,u,d){const g=e.blueprint.slice();return g[gn]=o,g[Ye]=140|r,(null!==u||n&&2048&n[Ye])&&(g[Ye]|=2048),N_(g),g[$t]=g[Ua]=n,g[En]=t,g[La]=s||n&&n[La],g[qe]=a||n&&n[qe],g[ii]=c||n&&n[ii]||null,g[Hn]=i,g[Hs]=function y5(){return _5++}(),g[xi]=d,g[g_]=u,g[cn]=2==e.type?n[cn]:g,g}function Sf(n,e,t,r,o){let i=n.data[e];if(null===i)i=function uI(n,e,t,r,o){const i=B_(),s=Bh(),c=n.data[e]=function vH(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,a=0;return ls()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(n,e,t,r,o),function qE(){return Ve.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function pl(){const n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Po(i,!0),i}function Ep(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function r1(n,e,t,r,o){const i=YS(e,al),s=wr(),a=2&r;try{Zs(-1),a&&e.length>st&&t1(n,e,st,!1),fi(a?2:0,o);const u=a?i:null,d=Mh(u);try{null!==u&&(u.dirty=!1),t(r,o)}finally{zu(u,d)}}finally{a&&null===e[al]&&XS(e,al),Zs(s),fi(a?3:1,o)}}function fI(n,e,t){if(ll(e)){const r=To(null);try{const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{To(r)}}}function dI(n,e,t){Xu()&&(function MH(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;zs(t)&&function NH(n,e,t){const r=zn(e,n),o=o1(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Hy(n,$y(n,o,null,s,r,e,null,n[La].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||cf(t,e),Br(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const c=n.data[a],u=Ys(e,n,a,t);Br(u,e),null!==s&&kH(0,a-o,u,c,0,s),li(c)&&(ao(t.index,e)[En]=Ys(e,n,a,t))}}(n,e,t,zn(t,e)),64==(64&t.flags)&&l1(n,e,t))}function hI(n,e,t=zn){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function o1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=pI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function pI(n,e,t,r,o,i,s,a,c,u,d){const g=st+r,m=g+o,y=function pH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:et);return t}(g,m),v="function"==typeof u?u():u;return y[ge]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}let i1=n=>null;function s1(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?a1(t,e,o,i):r.hasOwnProperty(o)&&a1(t,e,r[o],i)}return t}function a1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function $o(n,e,t,r,o,i,s,a){const c=zn(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(bI(n,t,d,r,o),zs(e)&&function wH(n,e){const t=ao(e,n);16&t[Ye]||(t[Ye]|=64)}(t,e.index)):3&e.type&&(r=function EH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(c,r,o))}function gI(n,e,t,r){if(Xu()){const o=null===r?null:{"":-1},i=function AH(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(_h(e,s.selectors,!1))if(r||(r=[]),li(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),mI(n,e,a.length)}else r.unshift(s),mI(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&c1(n,e,t,s,o,a),o&&function OH(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new N(-301,!1);r.push(e[o],i)}}}(t,r,o)}t.mergedAttrs=ts(t.mergedAttrs,t.attrs)}function c1(n,e,t,r,o,i){for(let u=0;u<r.length;u++)wl(cf(t,e),n,r[u].type);!function RH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Ep(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=ts(t.mergedAttrs,d.hostAttrs),xH(n,t,e,c,d),SH(c,d,o),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const g=d.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function CH(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<o;d++){const g=i[d],m=t?t.get(g):null,v=m?m.outputs:null;c=s1(g.inputs,d,c,m?m.inputs:null),u=s1(g.outputs,d,u,v);const C=null===c||null===s||ku(e)?null:FH(c,d,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,i)}function l1(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function GE(){return Ve.lFrame.currentDirectiveIndex}();try{Zs(i);for(let a=r;a<o;a++){const c=n.data[a],u=e[a];qh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&DH(c,u)}}finally{Zs(-1),qh(s)}}function DH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function mI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function SH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;li(e)&&(t[""]=n)}}function xH(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=ui(o.type)),s=new yl(i,li(o),X);n.blueprint[r]=s,t[r]=s,function TH(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function PH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ep(n,t,o.hostVars,et),o)}function gs(n,e,t,r,o,i){const s=zn(n,e);!function _I(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Te(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[qe],s,i,n.value,t,r,o)}function kH(n,e,t,r,o,i){const s=i[e];if(null!==s)for(let a=0;a<s.length;)u1(r,t,s[a++],s[a++],s[a++])}function u1(n,e,t,r,o){const i=To(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(o=s[r].call(e,o)),null!==n.setInput?n.setInput(e,o,t,r):e[r]=o}finally{To(i)}}function FH(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function f1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function d1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];Wh(t[r]),s.contentQueries(2,e[i],i)}}}function Hy(n,e){return n[il]?n[Bu][Lo]=e:n[il]=e,n[Bu]=e,e}function yI(n,e,t){Wh(0);const r=To(null);try{e(n,t)}finally{To(r)}}function h1(n){return n[Va]||(n[Va]=[])}function p1(n){return n.cleanup||(n.cleanup=[])}function g1(n,e,t){return(null===n||li(n))&&(t=function Nh(n){for(;Array.isArray(n);){if("object"==typeof n[os])return n;n=n[gn]}return null}(t[e.index])),t[qe]}function m1(n,e){const t=n[ii],r=t?t.get(ea,null):null;r&&r.handleError(e)}function bI(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++];u1(n.data[s],e[s],r,a,o)}}function VH(n,e){const t=ao(e,n),r=t[ge];!function LH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const o=t[gn];null!==o&&null===t[xi]&&(t[xi]=Jw(o,t[ii])),vI(r,t,t[En])}function vI(n,e,t){Zh(e);try{const r=n.viewQuery;null!==r&&yI(1,r,t);const o=n.template;null!==o&&r1(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&d1(n,e),n.staticViewQueries&&yI(2,n.viewQuery,t);const i=n.components;null!==i&&function UH(n,e){for(let t=0;t<e.length;t++)VH(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ye]&=-5,Qh()}}let _1=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,o){const i=typeof Zone>"u"?null:Zone.current,s=function kE(n,e,t){const r=Object.create(FE);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const o=s=>{r.cleanupFn=s};return r.ref={notify:()=>w_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!I_(r))return;r.hasRun=!0;const s=Mh(r);try{r.cleanupFn(),r.cleanupFn=O_,r.fn(o)}finally{zu(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,i)},o);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})();function zy(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=ti(o,a):2==i&&(r=ti(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function wp(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];null!==i&&r.push(kt(i)),Ur(i)&&y1(i,r);const s=t.type;if(8&s)wp(n,e,t.child,r);else if(32&s){const a=Iw(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=XO(e,t);if(Array.isArray(a))r.push(...a);else{const c=fp(e[cn]);wp(c[ge],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function y1(n,e){for(let t=er;t<n.length;t++){const r=n[t],o=r[ge].firstChild;null!==o&&wp(r[ge],r,o,e)}n[ci]!==n[gn]&&e.push(n[ci])}function qy(n,e,t,r=!0){const o=e[La],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{b1(n,e,n.template,t)}catch(c){throw r&&m1(e,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function b1(n,e,t,r){const o=e[Ye];if(256!=(256&o)){e[La].effectManager?.flush(),Zh(e);try{N_(e),function $h(n){return Ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&r1(n,e,t,2,r);const s=3==(3&o);if(s){const u=n.preOrderCheckHooks;null!==u&&rf(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Wa(e,u,0,null),_l(e,0)}if(function $H(n){for(let e=BO(n);null!==e;e=jO(e)){if(!e[wh])continue;const t=e[ja];for(let r=0;r<t.length;r++){Fh(t[r])}}}(e),v1(e,2),null!==n.contentQueries&&d1(n,e),s){const u=n.contentCheckHooks;null!==u&&rf(e,u)}else{const u=n.contentHooks;null!==u&&Wa(e,u,1),_l(e,1)}!function hH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=YS(e,Ba);try{for(let o=0;o<t.length;o++){const i=t[o];if(i<0)Zs(~i);else{const s=i,a=t[++o],c=t[++o];zh(a,s),r.dirty=!1;const u=Mh(r);try{c(2,e[s])}finally{zu(r,u)}}}}finally{null===e[Ba]&&XS(e,Ba),Zs(-1)}}(n,e);const a=n.components;null!==a&&E1(e,a,0);const c=n.viewQuery;if(null!==c&&yI(2,c,r),s){const u=n.viewCheckHooks;null!==u&&rf(e,u)}else{const u=n.viewHooks;null!==u&&Wa(e,u,2),_l(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ye]&=-73,k_(e)}finally{Qh()}}}function v1(n,e){for(let t=BO(n);null!==t;t=jO(t))for(let r=er;r<t.length;r++)C1(t[r],e)}function HH(n,e,t){C1(ao(e,n),t)}function C1(n,e){if(!function kh(n){return 128==(128&n[Ye])}(n))return;const t=n[ge],r=n[Ye];if(80&r&&0===e||1024&r||2===e)b1(t,n,t.template,n[En]);else if(n[ol]>0){v1(n,1);const o=t.components;null!==o&&E1(n,o,1)}}function E1(n,e,t){for(let r=0;r<e.length;r++)HH(n,e[r],t)}class Ip{get rootNodes(){const e=this._lView,t=e[ge];return wp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return 256==(256&this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$t];if(Ur(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Cy(e,r),Ja(t,r))}this._attachedToViewContainer=!1}Pw(this._lView[ge],this._lView)}onDestroy(e){!function F_(n,e){if(256==(256&n[Ye]))throw new N(911,!1);null===n[ai]&&(n[ai]=[]),n[ai].push(e)}(this._lView,e)}markForCheck(){Cp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){this._lView[Ye]|=128}detectChanges(){qy(this._lView[ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function R5(n,e){hp(n,e,e[qe],2,null,null)}(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}}class zH extends Ip{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qy(e[ge],e,e[En],!1)}checkNoChanges(){}get context(){return null}}class w1 extends bp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pt(e);return new Tp(t,this.ngModule)}}function I1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class GH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ou(r);const o=this.injector.get(e,nI,r);return o!==nI||t===nI?o:this.parentInjector.get(e,t,r)}}class Tp extends DS{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=I1(e.inputs);if(null!==t)for(const o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return I1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function vh(n){return n.map(f_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof jo?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new GH(e,i):e,a=s.get(vp,null);if(null===a)throw new N(407,!1);const g={rendererFactory:a,sanitizer:s.get(z$,null),effectManager:s.get(_1,null),afterRenderEventManager:s.get(lI,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=r?function gH(n,e,t,r){const i=r.get(WS,!1)||t===no.ShadowDom,s=n.selectRootElement(e,i);return function mH(n){i1(n)}(s),s}(m,r,this.componentDef.encapsulation,s):vy(m,y,function qH(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),O=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==v&&(D=Jw(v,s,!0));const S=pI(0,null,null,1,0,null,null,null,null,null,null),U=$y(null,S,null,O,null,null,g,m,s,null,D);let ce,De;Zh(U);try{const Be=this.componentDef;let Ct,lr=null;Be.findHostDirectiveDefs?(Ct=[],lr=new Map,Be.findHostDirectiveDefs(Be,Ct,lr),Ct.push(Be)):Ct=[Be];const No=function KH(n,e){const t=n[ge],r=st;return n[r]=e,Sf(t,r,2,"#host",null)}(U,v),pE=function ZH(n,e,t,r,o,i,s){const a=o[ge];!function QH(n,e,t,r){for(const o of n)e.mergedAttrs=ts(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(zy(e,e.mergedAttrs,!0),null!==t&&nS(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=Jw(e,o[ii]));const u=i.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const g=$y(o,o1(t),null,d,o[n.index],n,i,u,null,null,c);return a.firstCreatePass&&mI(a,n,r.length-1),Hy(o,g),o[n.index]=g}(No,v,Be,Ct,U,g,m);De=Zu(S,st),v&&function XH(n,e,t,r){if(r)xu(n,t,["ng-version",OS.full]);else{const{attrs:o,classes:i}=function d_(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Lr(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&xu(n,t,o),i&&i.length>0&&tS(n,t,i.join(" "))}}(m,Be,v,r),void 0!==t&&function JH(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(De,this.ngContentSelectors,t),ce=function YH(n,e,t,r,o,i){const s=kn(),a=o[ge],c=zn(s,o);c1(a,o,s,t,null,r);for(let d=0;d<t.length;d++)Br(Ys(o,a,s.directiveStart+d,s),o);l1(a,o,s),c&&Br(c,o);const u=Ys(o,a,s.directiveStart+s.componentOffset,s);if(n[En]=o[En]=u,null!==i)for(const d of i)d(u,e);return fI(a,s,n),u}(pE,Be,Ct,lr,U,[ez]),vI(S,U,null)}finally{Qh()}return new WH(this.componentType,ce,Mf(De,U),U,De)}}class WH extends L${constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zH(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const i=this._rootLView;bI(i[ge],i,o,e,t),this.previousInputValues.set(e,t),Cp(ao(this._tNode.index,i))}}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ez(){const n=kn();nf(ne()[ge],n)}function Vt(n){let e=function T1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(li(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=Gy(n.inputs),s.inputTransforms=Gy(n.inputTransforms),s.declaredInputs=Gy(n.declaredInputs),s.outputs=Gy(n.outputs);const a=o.hostBindings;a&&oz(n,a);const c=o.viewQuery,u=o.contentQueries;if(c&&nz(n,c),u&&rz(n,u),Xn(n.inputs,o.inputs),Xn(n.declaredInputs,o.declaredInputs),Xn(n.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Xn(s.inputTransforms,o.inputTransforms)),li(o)&&o.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===Vt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function tz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ts(o.hostAttrs,t=ts(t,o.hostAttrs))}}(r)}function Gy(n){return n===Vo?{}:n===wt?[]:n}function nz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function rz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function oz(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}function A1(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];Array.isArray(o)&&o[2]&&(t[r]=o[2])}n.inputTransforms=t}function Wy(n){return!!CI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function CI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ms(n,e,t){return n[e]=t}function $r(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xl(n,e,t,r){const o=$r(n,e,t);return $r(n,e+1,r)||o}function Hr(n,e,t,r){const o=ne();return $r(o,Ks(),e)&&(gt(),gs(qt(),o,n,e,t,r)),Hr}function xf(n,e,t,r){return $r(n,Ks(),t)?e+Te(t)+r:et}function Nf(n,e,t,r,o,i){const a=xl(n,function Ni(){return Ve.lFrame.bindingIndex}(),t,o);return di(2),a?e+Te(t)+r+Te(o)+i:et}function lt(n,e,t,r,o,i,s,a){const c=ne(),u=gt(),d=n+st,g=u.firstCreatePass?function Az(n,e,t,r,o,i,s,a,c){const u=e.consts,d=Sf(e,n,4,s||null,cs(u,a));gI(e,t,d,cs(u,c)),nf(e,d);const g=d.tView=pI(2,d,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),g.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,o,i,s):u.data[d];Po(g,!1);const m=$1(u,c,g,n);tf()&&wy(u,c,m,g),Br(m,c),Hy(c,c[d]=f1(m,c,m,g)),$u(g)&&dI(u,c,g),null!=s&&hI(c,g,a)}let $1=function H1(n,e,t,r){return us(!0),e[qe].createComment("")};function ra(n){return Ga(function Ju(){return Ve.lFrame.contextLView}(),st+n)}function ue(n,e,t){const r=ne();return $r(r,Ks(),e)&&$o(gt(),qt(),r,n,e,r[qe],t,!1),ue}function MI(n,e,t,r,o){const s=o?"class":"style";bI(n,t,e.inputs[s],s,r)}function q(n,e,t,r){const o=ne(),i=gt(),s=st+n,a=o[qe],c=i.firstCreatePass?function xz(n,e,t,r,o,i){const s=e.consts,c=Sf(e,n,2,r,cs(s,o));return gI(e,t,c,cs(s,i)),null!==c.attrs&&zy(c,c.attrs,!1),null!==c.mergedAttrs&&zy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,o,e,t,r):i.data[s],u=z1(i,o,c,a,e,n);o[s]=u;const d=$u(c);return Po(c,!0),nS(a,u,c),32!=(32&c.flags)&&tf()&&wy(i,o,u,c),0===function jE(){return Ve.lFrame.elementDepthCount}()&&Br(u,o),function $E(){Ve.lFrame.elementDepthCount++}(),d&&(dI(i,o,c),fI(i,c,o)),null!==r&&hI(o,c),q}function $(){let n=kn();Bh()?gl():(n=n.parent,Po(n,!1));const e=n;(function HE(n){return Ve.skipHydrationRootTNode===n})(e)&&function zE(){Ve.skipHydrationRootTNode=null}(),function Lh(){Ve.lFrame.elementDepthCount--}();const t=gt();return t.firstCreatePass&&(nf(t,n),ll(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Y_(n){return 0!=(8&n.flags)}(e)&&MI(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function af(n){return 0!=(16&n.flags)}(e)&&MI(t,e,ne(),e.stylesWithoutHost,!1),$}function Xe(n,e,t,r){return q(n,e,t,r),$(),Xe}let z1=(n,e,t,r,o,i)=>(us(!0),vy(r,o,function W_(){return Ve.lFrame.currentNamespace}()));function Op(n,e,t){const r=ne(),o=gt(),i=n+st,s=o.firstCreatePass?function Fz(n,e,t,r,o){const i=e.consts,s=cs(i,r),a=Sf(e,n,8,"ng-container",s);return null!==s&&zy(a,s,!0),gI(e,t,a,cs(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];Po(s,!0);const a=q1(o,r,s,n);return r[i]=a,tf()&&wy(o,r,a,s),Br(a,r),$u(s)&&(dI(o,r,s),fI(o,s,r)),null!=t&&hI(r,s),Op}function Sp(){let n=kn();const e=gt();return Bh()?gl():(n=n.parent,Po(n,!1)),e.firstCreatePass&&(nf(e,n),ll(n)&&e.queries.elementEnd(n)),Sp}function DI(n,e,t){return Op(n,e,t),Sp(),DI}let q1=(n,e,t,r)=>(us(!0),Tw(e[qe],""));function _i(){return ne()}function Rp(n){return!!n&&"function"==typeof n.then}function G1(n){return!!n&&"function"==typeof n.subscribe}function Oe(n,e,t,r){const o=ne(),i=gt(),s=kn();return function K1(n,e,t,r,o,i,s){const a=$u(r),u=n.firstCreatePass&&p1(n),d=e[En],g=h1(e);let m=!0;if(3&r.type||s){const C=zn(r,e),w=s?s(C):C,O=g.length,D=s?U=>s(kt(U[r.index])):r.index;let S=null;if(!s&&a&&(S=function Uz(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[Va],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=i,S.__ngLastListenerFn__=i,m=!1;else{i=Q1(r,e,d,i,!1);const U=t.listen(w,o,i);g.push(i,U),u&&u.push(o,D,O,O+1)}}else i=Q1(r,e,d,i,!1);const y=r.outputs;let v;if(m&&null!==y&&(v=y[o])){const C=v.length;if(C)for(let w=0;w<C;w+=2){const ce=e[v[w]][v[w+1]].subscribe(i),De=g.length;g.push(i,ce),u&&u.push(o,r.index,De,-(De+1))}}}(i,o,o[qe],s,n,e,r),Oe}function Z1(n,e,t,r){try{return fi(6,e,t),!1!==t(r)}catch(o){return m1(n,o),!1}finally{fi(7,e,t)}}function Q1(n,e,t,r,o){return function i(s){if(s===Function)return r;Cp(n.componentOffset>-1?ao(n.index,e):e);let c=Z1(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Z1(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function be(n=1){return function KE(n){return(Ve.lFrame.contextLView=function ZE(n,e){for(;n>0;)e=e[Ua],n--;return e}(n,Ve.lFrame.contextLView))[En]}(n)}function Bz(n,e){let t=null;const r=function yh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?_h(n,i,!0):Fu(r,i))return o}else t=o}return t}function AI(n,e,t){return OI(n,"",e,"",t),AI}function OI(n,e,t,r,o){const i=ne(),s=xf(i,e,t,r);return s!==et&&$o(gt(),qt(),i,n,s,i[qe],o,!1),OI}function SI(n,e,t,r,o,i,s){const a=ne(),c=Nf(a,e,t,r,o,i);return c!==et&&$o(gt(),qt(),a,n,c,a[qe],s,!1),SI}function Xy(n,e){return n<<17|e<<2}function rc(n){return n>>17&32767}function RI(n){return 2|n}function Nl(n){return(131068&n)>>2}function xI(n,e){return-131069&n|e<<2}function NI(n){return 1|n}function sR(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?rc(i):Nl(i),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];Gz(n[a],e)&&(c=!0,n[a+1]=r?NI(d):RI(d)),a=r?rc(d):Nl(d)}c&&(n[t+1]=r?RI(i):NI(i))}function Gz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ec(n,e)>=0}const sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aR(n){return n.substring(sr.key,sr.keyEnd)}function cR(n,e){const t=sr.textEnd;return t===e?-1:(e=sr.keyEnd=function Qz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,sr.key=e,t),jf(n,e,t))}function jf(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function oa(n,e,t){return Vi(n,e,t,!1),oa}function Jy(n,e){return Vi(n,e,null,!0),Jy}function ia(n){!function Li(n,e,t,r){const o=gt(),i=di(2);o.firstUpdatePass&&pR(o,null,i,r);const s=ne();if(t!==et&&$r(s,i,t)){const a=o.data[wr()];if(yR(a,r)&&!hR(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ti(c,t||"")),MI(o,a,s,t,r)}else!function sq(n,e,t,r,o,i,s,a){o===et&&(o=wt);let c=0,u=0,d=0<o.length?o[0]:null,g=0<i.length?i[0]:null;for(;null!==d||null!==g;){const m=c<o.length?o[c+1]:void 0,y=u<i.length?i[u+1]:void 0;let C,v=null;d===g?(c+=2,u+=2,m!==y&&(v=g,C=y)):null===g||null!==d&&d<g?(c+=2,v=d):(u+=2,v=g,C=y),null!==v&&mR(n,e,t,r,v,C,s,a),d=c<o.length?o[c]:null,g=u<i.length?i[u]:null}}(o,a,s,s[qe],s[i+1],s[i+1]=function oq(n,e,t){if(null==t||""===t)return wt;const r=[],o=Bo(t);if(Array.isArray(o))for(let i=0;i<o.length;i++)n(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&n(r,i,o[i]);else"string"==typeof o&&e(r,o);return r}(n,e,t),r,i)}}(iq,ys,n,!0)}function ys(n,e){for(let t=function Kz(n){return function uR(n){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=n.length}(n),cR(n,jf(n,0,sr.textEnd))}(e);t>=0;t=cR(e,t))lo(n,aR(e),!0)}function Vi(n,e,t,r){const o=ne(),i=gt(),s=di(2);i.firstUpdatePass&&pR(i,n,s,r),e!==et&&$r(o,s,e)&&mR(i,i.data[wr()],o,o[qe],n,o[s+1]=function aq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ft(Bo(n)))),n}(e,t),r,s)}function hR(n,e){return e>=n.expandoStartIndex}function pR(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[wr()],s=hR(n,t);yR(i,r)&&null===e&&!s&&(e=!1),e=function eq(n,e,t,r){const o=Gh(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=xp(t=kI(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=kI(o,n,e,t,r),null===i){let c=function tq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Nl(r))return n[rc(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=kI(null,n,e,c[1],r),c=xp(c,e.attrs,r),function nq(n,e,t,r){n[rc(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else i=function rq(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=xp(r,n[i].hostAttrs,t);return xp(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function zz(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=rc(s),c=Nl(s);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||ec(t,d)>0)&&(u=!0)):d=t,o)if(0!==c){const m=rc(n[a+1]);n[r+1]=Xy(m,a),0!==m&&(n[m+1]=xI(n[m+1],r)),n[a+1]=function $z(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Xy(a,0),0!==a&&(n[a+1]=xI(n[a+1],r)),a=r;else n[r+1]=Xy(c,0),0===a?a=r:n[c+1]=xI(n[c+1],r),c=r;u&&(n[r+1]=RI(n[r+1])),sR(n,d,r,!0),sR(n,d,r,!1),function qz(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&ec(i,e)>=0&&(t[r+1]=NI(t[r+1]))}(e,d,n,r,i),s=Xy(a,c),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}function kI(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=xp(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function xp(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),lo(n,s,!!t||e[++i]))}return void 0===n?null:n}function iq(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&lo(n,r,t)}function mR(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function Hz(n){return 1==(1&n)}(u)?_R(c,e,t,o,Nl(u),s):void 0;eb(d)||(eb(i)||function jz(n){return 2==(2&n)}(u)&&(i=_R(c,null,t,o,a,s)),function $5(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:nc.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=nc.Important),n.setStyle(t,r,o,i))}}(r,s,qa(wr(),t),o,i))}function _R(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const c=n[o],u=Array.isArray(c),d=u?c[1]:c,g=null===d;let m=t[o+1];m===et&&(m=g?wt:void 0);let y=g?op(m,r):d===r?m:void 0;if(u&&!eb(y)&&(y=op(c,r)),eb(y)&&(a=y,s))return a;const v=n[o+1];o=s?rc(v):Nl(v)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=op(c,r))}return a}function eb(n){return void 0!==n}function yR(n,e){return 0!=(n.flags&(e?8:16))}function Me(n,e=""){const t=ne(),r=gt(),o=n+st,i=r.firstCreatePass?Sf(r,o,1,e,null):r.data[o],s=bR(r,t,i,e,n);t[o]=s,tf()&&wy(r,t,s,i),Po(i,!1)}let bR=(n,e,t,r,o)=>(us(!0),function by(n,e){return n.createText(e)}(e[qe],r));function bs(n){return Tr("",n,""),bs}function Tr(n,e,t){const r=ne(),o=xf(r,n,e,t);return o!==et&&function na(n,e,t){const r=qa(e,n);!function HO(n,e,t){n.setValue(e,t)}(n[qe],r,t)}(r,wr(),o),Tr}function FI(n,e,t){const r=ne();if($r(r,Ks(),e)){const i=gt(),s=qt();$o(i,s,r,n,e,g1(Gh(i.data),s,r),t,!0)}return FI}const kl=void 0;var Aq=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dq(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let $f={};function fo(n){const e=function Oq(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=UR(e);if(t)return t;const r=e.split("-")[0];if(t=UR(r),t)return t;if("en"===r)return Aq;throw new N(701,!1)}function UR(n){return n in $f||($f[n]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[n]),$f[n]}var Xt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Xt||{});const Hf="en-US";let BR=Hf;function UI(n,e,t,r,o){if(n=A(n),Array.isArray(n))for(let i=0;i<n.length;i++)UI(n[i],e,t,r,o);else{const i=gt(),s=ne(),a=kn();let c=Rl(n)?n:A(n.provide);const u=CS(n),d=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Rl(n)||!n.multi){const y=new yl(u,o,X),v=jI(c,e,o?d:d+m,g);-1===v?(wl(cf(a,s),i,c),BI(i,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[v]=y,s[v]=y)}else{const y=jI(c,e,d+m,g),v=jI(c,e,d,d+m),w=v>=0&&t[v];if(o&&!w||!o&&!(y>=0&&t[y])){wl(cf(a,s),i,c);const O=function D9(n,e,t,r,o){const i=new yl(n,t,X);return i.multi=[],i.index=e,i.componentProviders=0,fx(i,o,r&&!t),i}(o?M9:P9,t.length,o,r,u);!o&&w&&(t[v].providerFactory=O),BI(i,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else BI(i,n,y>-1?y:v,fx(t[o?v:y],u,!o&&r));!o&&r&&w&&t[v].componentProviders++}}}function BI(n,e,t,r){const o=Rl(e),i=function C$(n){return!!n.useClass}(e);if(o||i){const c=(i?A(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function fx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jI(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function P9(n,e,t,r){return $I(this.multi,[])}function M9(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ys(t,t[ge],this.providerFactory.index,r);i=a.slice(0,s),$I(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],$I(o,i);return i}function $I(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Jt(n,e=[]){return t=>{t.providersResolver=(r,o)=>function T9(n,e,t){const r=gt();if(r.firstCreatePass){const o=li(n);UI(t,r.data,r.blueprint,o,!0),UI(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Fl{}class dx{}class HI extends Fl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w1(this);const o=oo(e);this._bootstrapComponents=ta(o.bootstrap),this._r3Injector=kS(e,t,[{provide:Fl,useValue:this},{provide:bp,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zI extends dx{constructor(e){super(),this.moduleType=e}create(e){return new HI(this.moduleType,e,[])}}class hx extends Fl{constructor(e){super(),this.componentFactoryResolver=new w1(this),this.instance=null;const t=new wf([...e.providers,{provide:Fl,useValue:this},{provide:bp,useValue:this.componentFactoryResolver}],e.parent||xy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qI(n,e,t=null){return new hx({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let S9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=_S(0,t.type),o=r.length>0?qI([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n(W(jo))})}return n})();function ib(n){n.getStandaloneInjector=e=>e.get(S9).getOrCreateStandaloneInjector(n)}function vs(n,e,t,r){return Cx(ne(),nr(),n,e,t,r)}function vx(n,e,t,r,o){return function Ex(n,e,t,r,o,i,s){const a=e+t;return xl(n,a,o,i)?ms(n,a+2,s?r.call(s,o,i):r(o,i)):Up(n,a+2)}(ne(),nr(),n,e,t,r,o)}function Up(n,e){const t=n[e];return t===et?void 0:t}function Cx(n,e,t,r,o,i){const s=e+t;return $r(n,s,o)?ms(n,s+1,i?r.call(i,o):r(o)):Up(n,s+1)}function Mx(n,e,t){const r=n+st,o=ne(),i=Ga(o,r);return function Bp(n,e){return n[ge].data[e].pure}(o,r)?Cx(o,nr(),e,i.transform,t,i):i.transform(t)}function J9(){return this._results[Symbol.iterator]()}class WI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Gt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=WI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=J9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Tl(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function t6(n,e,t,r=!0){const o=e[ge];if(function N5(n,e,t,r){const o=er+r,i=t.length;r>0&&(t[o-1][Lo]=e),r<i-er?(e[Lo]=t[o],hf(t,er+r,e)):(t.push(e),e[Lo]=null),e[$t]=t;const s=e[sl];null!==s&&t!==s&&function k5(n,e){const t=n[ja];e[cn]!==e[$t][$t][cn]&&(n[wh]=!0),null===t?n[ja]=[e]:t.push(e)}(s,e);const a=e[si];null!==a&&a.insertView(n),e[Ye]|=128}(o,e,n,t),r){const i=Ow(t,n),s=e[qe],a=Ey(s,n[ci]);null!==a&&function S5(n,e,t,r,o,i){r[gn]=o,r[Hn]=e,hp(n,r,t,1,o,i)}(o,n[Hn],s,e,a,i)}}let sa=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=o6}return n})();const n6=sa,r6=class extends n6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const o=function e6(n,e,t,r){const o=e.tView,a=$y(n,o,t,4096&n[Ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[sl]=n[e.index];const u=n[si];return null!==u&&(a[si]=u.createEmbeddedView(o)),vI(o,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Ip(o)}};function o6(){return sb(kn(),ne())}function sb(n,e){return 4&n.type?new r6(e,n,Mf(n,e)):null}let Ui=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=u6}return n})();function u6(){return Nx(kn(),ne())}const f6=Ui,Rx=class extends f6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Mf(this._hostTNode,this._hostLView)}get injector(){return new rr(this._hostTNode,this._hostLView)}get parentInjector(){const e=lf(this._hostTNode,this._hostLView);if(Jh(e)){const t=vl(e,this._hostLView),r=bl(e);return new rr(t[ge].data[r+8],t)}return new rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-er}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=e.createEmbeddedViewImpl(t||{},i,null);return this.insertImpl(a,o,false),a}createComponent(e,t,r,o,i){const s=e&&!function ir(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const C=t||{};a=C.index,r=C.injector,o=C.projectableNodes,i=C.environmentInjector||C.ngModuleRef}const c=s?e:new Tp(pt(e)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const w=(s?u:this.parentInjector).get(jo,null);w&&(i=w)}pt(c.componentType??{});const y=c.create(u,o,null,i);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const o=e._lView;if(function x_(n){return Ur(n[$t])}(o)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=o[$t],d=new Rx(u,u[Hn],u[$t]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return t6(a,o,s,!r),e.attachToViewContainerRef(),hf(KI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Cy(this._lContainer,t);r&&(Ja(KI(this._lContainer),t),Pw(r[ge],r))}detach(e){const t=this._adjustIndex(e,-1),r=Cy(this._lContainer,t);return r&&null!=Ja(KI(this._lContainer),t)?new Ip(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xx(n){return n[8]}function KI(n){return n[8]||(n[8]=[])}function Nx(n,e){let t;const r=e[n.index];return Ur(r)?t=r:(t=f1(r,e,null,n),e[n.index]=t,Hy(e,t)),kx(t,e,n,r),new Rx(t,n,e)}let kx=function Fx(n,e,t,r){if(n[ci])return;let o;o=8&t.type?kt(r):function d6(n,e){const t=n[qe],r=t.createComment(""),o=zn(e,n);return Ol(t,Ey(t,o),r,function U5(n,e){return n.nextSibling(e)}(t,o),!1),r}(e,t),n[ci]=o};class ZI{constructor(e){this.queryList=e,this.matches=null}clone(){return new ZI(this.queryList)}setDirty(){this.queryList.setDirty()}}class QI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new QI(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jx(e,t).matches&&this.queries[t].setDirty()}}class Vx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class YI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new YI(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class XI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new XI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,g6(t,i)),this.matchTNodeWithReadOption(e,t,ff(t,e,i,!1,!1))}else r===sa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ff(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===uo||o===Ui||o===sa&&4&t.type)this.addMatch(t.index,-2);else{const i=ff(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function g6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function _6(n,e,t,r){return-1===t?function m6(n,e){return 11&n.type?Mf(n,e):4&n.type?sb(n,e):null}(e,n):-2===t?function y6(n,e,t){return t===uo?Mf(e,n):t===sa?sb(e,n):t===Ui?Nx(e,n):void 0}(n,e,r):Ys(n,n[ge],t,e)}function Lx(n,e,t,r){const o=e[si].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:_6(e,i[u],s[c+1],t.metadata.read))}o.matches=a}return o.matches}function JI(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=Lx(n,e,o,t);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const u=i[a+1],d=e[-c];for(let g=er;g<d.length;g++){const m=d[g];m[sl]===m[$t]&&JI(m[ge],m,u,r)}if(null!==d[ja]){const g=d[ja];for(let m=0;m<g.length;m++){const y=g[m];JI(y[ge],y,u,r)}}}}}return r}function oc(n){const e=ne(),t=gt(),r=ef();Wh(r+1);const o=jx(t,r);if(n.dirty&&function BE(n){return 4==(4&n[Ye])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?JI(t,e,r,[]):Lx(t,e,o,r);n.reset(i,$$),n.notifyOnChanges()}return!0}return!1}function zf(n,e,t){const r=gt();r.firstCreatePass&&(Bx(r,new Vx(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ux(r,ne(),e)}function ic(){return function b6(n,e){return n[si].queries[e].queryList}(ne(),ef())}function Ux(n,e,t){const r=new WI(4==(4&t));(function bH(n,e,t,r){const o=h1(e);o.push(t),n.firstCreatePass&&p1(n).push(r,o.length-1)})(n,e,r,r.destroy),null===e[si]&&(e[si]=new QI),e[si].queries.push(new ZI(r))}function Bx(n,e,t){null===n.queries&&(n.queries=new YI),n.queries.track(new XI(e,t))}function jx(n,e){return n.queries.getByIndex(e)}const a0=new le("Application Initializer");let c0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=fe(a0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const i=o();if(Rp(i))t.push(i);else if(G1(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const aa=new le("LocaleId",{providedIn:"root",factory:()=>fe(aa,dt.Optional|dt.SkipSelf)||function $6(){return typeof $localize<"u"&&$localize.locale||Hf}()});let lb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new x(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class q6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iN=(()=>{class n{compileModuleSync(t){return new zI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=ta(oo(t).declarations).reduce((s,a)=>{const c=pt(a);return c&&s.push(new Tp(c)),s},[]);return new q6(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lN=new le(""),fb=new le("");let h0,f0=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h0||(function h8(n){h0=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(W(It),W(d0),W(fb))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),d0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return h0?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),sc=null;const uN=new le("AllowMultipleToken"),p0=new le("PlatformDestroyListeners"),g0=new le("appBootstrapListener");class dN{constructor(e,t){this.name=e,this.token=t}}function pN(n,e,t=[]){const r=`Platform: ${e}`,o=new le(r);return(i=[])=>{let s=m0();if(!s||s.injector.get(uN,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function m8(n){if(sc&&!sc.get(uN,!1))throw new N(400,!1);(function fN(){!function za(n){M_=n}(()=>{throw new N(600,!1)})})(),sc=n;const e=n.get(mN);(function hN(n){n.get(ES,null)?.forEach(t=>t())})(n)}(function gN(n=[],e){return jr.create({name:e,providers:[{provide:$w,useValue:"platform"},{provide:p0,useValue:new Set([()=>sc=null])},...n]})}(a,r))}return function y8(n){const e=m0();if(!e)throw new N(401,!1);return e}()}}function m0(){return sc?.get(mN)??null}let mN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function b8(n="zone.js",e){return"noop"===n?new nH:"zone.js"===n?new It(e):n}(r?.ngZone,function _N(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function O9(n,e,t){return new HI(n,e,t)}(t.moduleType,this.injector,function EN(n){return[{provide:It,useFactory:n},{provide:mp,multi:!0,useFactory:()=>{const e=fe(C8,{optional:!0});return()=>e.initialize()}},{provide:CN,useFactory:v8},{provide:BS,useFactory:jS}]}(()=>o)),s=i.injector.get(ea,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});i.onDestroy(()=>{db(this._modules,i),a.unsubscribe()})}),function yN(n,e,t){try{const r=t();return Rp(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,o,()=>{const a=i.injector.get(c0);return a.runInitializers(),a.donePromise.then(()=>(function jR(n){Fr(n,"Expected localeId to be defined"),"string"==typeof n&&(BR=n.toLowerCase().replace(/_/g,"-"))}(i.injector.get(aa,Hf)||Hf),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,r=[]){const o=bN({},r);return function p8(n,e,t){const r=new zI(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(ca);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new N(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(p0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(W(jr))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function bN(n,e){return Array.isArray(e)?e.reduce(bN,n):{...n,...e}}let ca=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(CN),this.zoneIsStable=fe(BS),this.componentTypes=[],this.components=[],this.isStable=fe(lb).hasPendingTasks.pipe(bt(t=>t?G(!1):this.zoneIsStable),an(),ze()),this._injector=fe(jo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const o=t instanceof DS;if(!this._injector.get(c0).done)throw!o&&function ns(n){const e=pt(n)||Nn(n)||Er(n);return null!==e&&e.standalone}(t),new N(405,!1);let s;s=o?t:this._injector.get(bp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function g8(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Fl),u=s.create(jr.NULL,[],r||s.selector,a),d=u.location.nativeElement,g=u.injector.get(lN,null);return g?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),db(this.components,u),g?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;db(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(g0,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>db(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new N(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function db(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const CN=new le("",{providedIn:"root",factory:()=>fe(ea).handleError.bind(void 0)});function v8(){const n=fe(It),e=fe(ea);return t=>n.runOutsideAngular(()=>e.handleError(t))}let C8=(()=>{class n{constructor(){this.zone=fe(It),this.applicationRef=fe(ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Hp=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=w8}return n})();function w8(n){return function I8(n,e,t){if(zs(n)&&!t){const r=ao(n.index,e);return new Ip(r,r)}return 47&n.type?new Ip(e[cn],e):null}(kn(),ne(),16==(16&n))}class MN{constructor(){}supports(e){return Wy(e)}create(e){return new O8(e)}}const A8=(n,e)=>e;class O8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||A8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<AN(r,o,i)?t:r,a=AN(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,d=c-o;if(u!=d){for(let m=0;m<u;m++){const y=m<i.length?i[m]:i[m]=0,v=y+m;d<=v&&v<u&&(i[m]=y+1)}i[s.previousIndex]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wy(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function fz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new S8(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new DN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class S8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class R8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class DN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new R8,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AN(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}class ON{constructor(){}supports(e){return e instanceof Map||CI(e)}create(){return new x8}}class x8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||CI(e)))throw new N(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(o,r);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,t);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new N8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class N8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SN(){return new gb([new MN])}let gb=(()=>{class n{static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:SN});constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||SN()),deps:[[n,new mf,new Dl]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new N(901,!1)}}return n})();function RN(){return new zp([new ON])}let zp=(()=>{class n{static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:RN});constructor(t){this.factories=t}static create(t,r){if(r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||RN()),deps:[[n,new mf,new Dl]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new N(901,!1)}}return n})();const V8=pN(null,"core",[]);let L8=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(W(ca))};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({})}return n})();function Wf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let E0=null;function ac(){return E0}class X8{}const Mn=new le("DocumentToken");let w0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return fe(eG)},providedIn:"platform"})}return n})();const J8=new le("Location Initialized");let eG=(()=>{class n extends w0{constructor(){super(),this._doc=fe(Mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ac().getBaseHref(this._doc)}onPopState(t){const r=ac().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ac().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function I0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function la(n){return n&&"?"!==n[0]?"?"+n:n}let Ll=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return fe(HN)},providedIn:"root"})}return n})();const $N=new le("appBaseHref");let HN=(()=>{class n extends Ll{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??fe(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return I0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+la(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+la(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+la(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(w0),W($N,8))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tG=(()=>{class n extends Ll{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=I0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+la(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+la(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(w0),W($N,8))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),T0=(()=>{class n{constructor(t){this._subject=new Gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function oG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(jN(zN(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+la(r))}normalize(t){return n.stripTrailingSlash(function rG(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,zN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static#e=this.normalizeQueryParams=la;static#t=this.joinWithSlash=I0;static#n=this.stripTrailingSlash=jN;static#r=this.\u0275fac=function(r){return new(r||n)(W(Ll))};static#o=this.\u0275prov=ye({token:n,factory:function(){return function nG(){return new T0(W(Ll))}()},providedIn:"root"})}return n})();function zN(n){return n.replace(/\/index.html$/,"")}var po=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(po||{}),Wt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Wt||{}),Ho=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ho||{}),Fn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Fn||{});function yb(n,e){return bi(fo(n)[Xt.DateFormat],e)}function bb(n,e){return bi(fo(n)[Xt.TimeFormat],e)}function vb(n,e){return bi(fo(n)[Xt.DateTimeFormat],e)}function yi(n,e){const t=fo(n),r=t[Xt.NumberSymbols][e];if(typeof r>"u"){if(e===Fn.CurrencyDecimal)return t[Xt.NumberSymbols][Fn.Decimal];if(e===Fn.CurrencyGroup)return t[Xt.NumberSymbols][Fn.Group]}return r}function GN(n){if(!n[Xt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Xt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function M0(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const yG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qp={},bG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ua=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ua||{}),xt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(xt||{}),Nt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Nt||{});function vG(n,e,t,r){let o=function AG(n){if(ZN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,i=1,s=1]=n.split("-").map(a=>+a);return Cb(o,i-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(yG))return function OG(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,i=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return i.call(e,s,a,c,u),e}(r)}const e=new Date(n);if(!ZN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=fa(t,e)||e;let a,s=[];for(;e;){if(a=bG.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;e=d}}let c=o.getTimezoneOffset();r&&(c=KN(r,c),o=function DG(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function MG(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(KN(e,o)-o))}(o,r,!0));let u="";return s.forEach(d=>{const g=function PG(n){if(A0[n])return A0[n];let e;switch(n){case"G":case"GG":case"GGG":e=en(Nt.Eras,Wt.Abbreviated);break;case"GGGG":e=en(Nt.Eras,Wt.Wide);break;case"GGGGG":e=en(Nt.Eras,Wt.Narrow);break;case"y":e=qn(xt.FullYear,1,0,!1,!0);break;case"yy":e=qn(xt.FullYear,2,0,!0,!0);break;case"yyy":e=qn(xt.FullYear,3,0,!1,!0);break;case"yyyy":e=qn(xt.FullYear,4,0,!1,!0);break;case"Y":e=Tb(1);break;case"YY":e=Tb(2,!0);break;case"YYY":e=Tb(3);break;case"YYYY":e=Tb(4);break;case"M":case"L":e=qn(xt.Month,1,1);break;case"MM":case"LL":e=qn(xt.Month,2,1);break;case"MMM":e=en(Nt.Months,Wt.Abbreviated);break;case"MMMM":e=en(Nt.Months,Wt.Wide);break;case"MMMMM":e=en(Nt.Months,Wt.Narrow);break;case"LLL":e=en(Nt.Months,Wt.Abbreviated,po.Standalone);break;case"LLLL":e=en(Nt.Months,Wt.Wide,po.Standalone);break;case"LLLLL":e=en(Nt.Months,Wt.Narrow,po.Standalone);break;case"w":e=D0(1);break;case"ww":e=D0(2);break;case"W":e=D0(1,!0);break;case"d":e=qn(xt.Date,1);break;case"dd":e=qn(xt.Date,2);break;case"c":case"cc":e=qn(xt.Day,1);break;case"ccc":e=en(Nt.Days,Wt.Abbreviated,po.Standalone);break;case"cccc":e=en(Nt.Days,Wt.Wide,po.Standalone);break;case"ccccc":e=en(Nt.Days,Wt.Narrow,po.Standalone);break;case"cccccc":e=en(Nt.Days,Wt.Short,po.Standalone);break;case"E":case"EE":case"EEE":e=en(Nt.Days,Wt.Abbreviated);break;case"EEEE":e=en(Nt.Days,Wt.Wide);break;case"EEEEE":e=en(Nt.Days,Wt.Narrow);break;case"EEEEEE":e=en(Nt.Days,Wt.Short);break;case"a":case"aa":case"aaa":e=en(Nt.DayPeriods,Wt.Abbreviated);break;case"aaaa":e=en(Nt.DayPeriods,Wt.Wide);break;case"aaaaa":e=en(Nt.DayPeriods,Wt.Narrow);break;case"b":case"bb":case"bbb":e=en(Nt.DayPeriods,Wt.Abbreviated,po.Standalone,!0);break;case"bbbb":e=en(Nt.DayPeriods,Wt.Wide,po.Standalone,!0);break;case"bbbbb":e=en(Nt.DayPeriods,Wt.Narrow,po.Standalone,!0);break;case"B":case"BB":case"BBB":e=en(Nt.DayPeriods,Wt.Abbreviated,po.Format,!0);break;case"BBBB":e=en(Nt.DayPeriods,Wt.Wide,po.Format,!0);break;case"BBBBB":e=en(Nt.DayPeriods,Wt.Narrow,po.Format,!0);break;case"h":e=qn(xt.Hours,1,-12);break;case"hh":e=qn(xt.Hours,2,-12);break;case"H":e=qn(xt.Hours,1);break;case"HH":e=qn(xt.Hours,2);break;case"m":e=qn(xt.Minutes,1);break;case"mm":e=qn(xt.Minutes,2);break;case"s":e=qn(xt.Seconds,1);break;case"ss":e=qn(xt.Seconds,2);break;case"S":e=qn(xt.FractionalSeconds,1);break;case"SS":e=qn(xt.FractionalSeconds,2);break;case"SSS":e=qn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wb(ua.Short);break;case"ZZZZZ":e=wb(ua.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wb(ua.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wb(ua.Long);break;default:return null}return A0[n]=e,e}(d);u+=g?g(o,t,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Cb(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function fa(n,e){const t=function sG(n){return fo(n)[Xt.LocaleId]}(n);if(qp[t]=qp[t]||{},qp[t][e])return qp[t][e];let r="";switch(e){case"shortDate":r=yb(n,Ho.Short);break;case"mediumDate":r=yb(n,Ho.Medium);break;case"longDate":r=yb(n,Ho.Long);break;case"fullDate":r=yb(n,Ho.Full);break;case"shortTime":r=bb(n,Ho.Short);break;case"mediumTime":r=bb(n,Ho.Medium);break;case"longTime":r=bb(n,Ho.Long);break;case"fullTime":r=bb(n,Ho.Full);break;case"short":const o=fa(n,"shortTime"),i=fa(n,"shortDate");r=Eb(vb(n,Ho.Short),[o,i]);break;case"medium":const s=fa(n,"mediumTime"),a=fa(n,"mediumDate");r=Eb(vb(n,Ho.Medium),[s,a]);break;case"long":const c=fa(n,"longTime"),u=fa(n,"longDate");r=Eb(vb(n,Ho.Long),[c,u]);break;case"full":const d=fa(n,"fullTime"),g=fa(n,"fullDate");r=Eb(vb(n,Ho.Full),[d,g])}return r&&(qp[t][e]=r),r}function Eb(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Bi(n,e,t="-",r,o){let i="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,i=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function qn(n,e,t=0,r=!1,o=!1){return function(i,s){let a=function EG(n,e){switch(n){case xt.FullYear:return e.getFullYear();case xt.Month:return e.getMonth();case xt.Date:return e.getDate();case xt.Hours:return e.getHours();case xt.Minutes:return e.getMinutes();case xt.Seconds:return e.getSeconds();case xt.FractionalSeconds:return e.getMilliseconds();case xt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,i);if((t>0||a>-t)&&(a+=t),n===xt.Hours)0===a&&-12===t&&(a=12);else if(n===xt.FractionalSeconds)return function CG(n,e){return Bi(n,3).substring(0,e)}(a,e);const c=yi(s,Fn.MinusSign);return Bi(a,e,c,r,o)}}function en(n,e,t=po.Format,r=!1){return function(o,i){return function wG(n,e,t,r,o,i){switch(t){case Nt.Months:return function lG(n,e,t){const r=fo(n),i=bi([r[Xt.MonthsFormat],r[Xt.MonthsStandalone]],e);return bi(i,t)}(e,o,r)[n.getMonth()];case Nt.Days:return function cG(n,e,t){const r=fo(n),i=bi([r[Xt.DaysFormat],r[Xt.DaysStandalone]],e);return bi(i,t)}(e,o,r)[n.getDay()];case Nt.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(i){const u=function hG(n){const e=fo(n);return GN(e),(e[Xt.ExtraData][2]||[]).map(r=>"string"==typeof r?M0(r):[M0(r[0]),M0(r[1])])}(e),d=function pG(n,e,t){const r=fo(n);GN(r);const i=bi([r[Xt.ExtraData][0],r[Xt.ExtraData][1]],e)||[];return bi(i,t)||[]}(e,o,r),g=u.findIndex(m=>{if(Array.isArray(m)){const[y,v]=m,C=s>=y.hours&&a>=y.minutes,w=s<v.hours||s===v.hours&&a<v.minutes;if(y.hours<v.hours){if(C&&w)return!0}else if(C||w)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==g)return d[g]}return function aG(n,e,t){const r=fo(n),i=bi([r[Xt.DayPeriodsFormat],r[Xt.DayPeriodsStandalone]],e);return bi(i,t)}(e,o,r)[s<12?0:1];case Nt.Eras:return function uG(n,e){return bi(fo(n)[Xt.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,i,n,e,t,r)}}function wb(n){return function(e,t,r){const o=-1*r,i=yi(t,Fn.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case ua.Short:return(o>=0?"+":"")+Bi(s,2,i)+Bi(Math.abs(o%60),2,i);case ua.ShortGMT:return"GMT"+(o>=0?"+":"")+Bi(s,1,i);case ua.Long:return"GMT"+(o>=0?"+":"")+Bi(s,2,i)+":"+Bi(Math.abs(o%60),2,i);case ua.Extended:return 0===r?"Z":(o>=0?"+":"")+Bi(s,2,i)+":"+Bi(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${n}"`)}}}const IG=0,Ib=4;function WN(n){return Cb(n.getFullYear(),n.getMonth(),n.getDate()+(Ib-n.getDay()))}function D0(n,e=!1){return function(t,r){let o;if(e){const i=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();o=1+Math.floor((s+i)/7)}else{const i=WN(t),s=function TG(n){const e=Cb(n,IG,1).getDay();return Cb(n,0,1+(e<=Ib?Ib:Ib+7)-e)}(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Bi(o,n,yi(r,Fn.MinusSign))}}function Tb(n,e=!1){return function(t,r){return Bi(WN(t).getFullYear(),n,yi(r,Fn.MinusSign),e)}}const A0={};function KN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ZN(n){return n instanceof Date&&!isNaN(n.valueOf())}function JN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}const k0=/\s+/,ek=[];let Mb=(()=>{class n{constructor(t,r,o,i){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=i,this.initialClasses=ek,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(k0):ek}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(k0):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(k0).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(r){return new(r||n)(X(gb),X(zp),X(uo),X(gi))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class HG{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new HG(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),nk(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{nk(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(X(Ui),X(sa),X(gb))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function nk(n,e){n.context.$implicit=e.item}let cc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(X(Ui),X(sa))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class zG{constructor(){this.$implicit=null,this.ngIf=null}}function rk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ft(e)}'.`)}let ik=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:i,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(o,i,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)(X(Ui))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[so]})}return n})();const i7=new le("DATE_PIPE_DEFAULT_TIMEZONE"),s7=new le("DATE_PIPE_DEFAULT_OPTIONS");let sk=(()=>{class n{constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,i){if(null==t||""===t||t!=t)return null;try{return vG(t,r??this.defaultOptions?.dateFormat??"mediumDate",i||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function ji(n,e){return new N(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(X(aa,16),X(i7,24),X(s7,24))};static#t=this.\u0275pipe=Jn({name:"date",type:n,pure:!0,standalone:!0})}return n})(),ck=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({})}return n})();function Db(n){return"server"===n}let b7=(()=>{class n{static#e=this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new v7(W(Mn),window)})}return n})();class v7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function C7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class uk{}class z7 extends X8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $0 extends z7{static makeCurrent(){!function Y8(n){E0||(E0=n)}(new $0)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function q7(){return Zp=Zp||document.querySelector("base"),Zp?Zp.getAttribute("href"):null}();return null==t?null:function G7(n){Sb=Sb||document.createElement("a"),Sb.setAttribute("href",n);const e=Sb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JN(document.cookie,e)}}let Sb,Zp=null,K7=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const H0=new le("EventManagerPlugins");let gk=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(W(H0),W(It))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();class mk{constructor(e){this._doc=e}}const z0="ng-app-id";let _k=(()=>{class n{constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Db(i),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${z0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const i=o.get(t);return i.usage+=r,i.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===t)return o.delete(r),i.removeAttribute(z0),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(z0,this.appId),s}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn),W(Ny),W(IS,8),W(Fi))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const q0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},G0=/%COMP%/g,X7=new le("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function bk(n,e){return e.map(t=>t.replace(G0,n))}let W0=(()=>{class n{constructor(t,r,o,i,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Db(a),this.defaultRenderer=new K0(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===no.ShadowDom&&(r={...r,encapsulation:no.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Ck?o.applyToHost(t):o instanceof Z0&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case no.Emulated:i=new Ck(c,u,r,this.appId,d,s,a,g);break;case no.ShadowDom:return new nW(c,u,t,r,s,a,this.nonce,g);default:i=new Z0(c,u,r,d,s,a,g)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(W(gk),W(_k),W(Ny),W(X7),W(Mn),W(Fi),W(It),W(IS))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();class K0{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(q0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=q0[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=q0[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(nc.DashCase|nc.Important)?e.style.setProperty(t,r,o&nc.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&nc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ac().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function vk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class nW extends K0{constructor(e,t,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=bk(o.id,o.styles);for(const d of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=d,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Z0 extends K0{constructor(e,t,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=c?bk(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ck extends Z0{constructor(e,t,r,o,i,s,a,c){const u=o+"-"+r.id;super(e,t,r,i,s,a,c,u),this.contentAttr=function J7(n){return"_ngcontent-%COMP%".replace(G0,n)}(u),this.hostAttr=function eW(n){return"_nghost-%COMP%".replace(G0,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let rW=(()=>{class n extends mk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const Ek=["alt","control","meta","shift"],oW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sW=(()=>{class n extends mk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ac().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ek.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=oW[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ek.forEach(s=>{s!==o&&(0,iW[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const Ik=[{provide:Fi,useValue:"browser"},{provide:ES,useValue:function aW(){$0.makeCurrent()},multi:!0},{provide:Mn,useFactory:function lW(){return function W5(n){xw=n}(document),document},deps:[]}],uW=pN(V8,"browser",Ik),fW=new le(""),Tk=[{provide:fb,useClass:class W7{addToWindow(e){Rt.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new N(5103,!1);return i},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const o=Rt.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ac().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:lN,useClass:f0,deps:[It,d0,fb]},{provide:f0,useClass:f0,deps:[It,d0,fb]}],Pk=[{provide:$w,useValue:"root"},{provide:ea,useFactory:function cW(){return new ea},deps:[]},{provide:H0,useClass:rW,multi:!0,deps:[Mn,It,Fi]},{provide:H0,useClass:sW,multi:!0,deps:[Mn]},W0,_k,gk,{provide:vp,useExisting:W0},{provide:uk,useClass:K7,deps:[]},[]];let Mk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ny,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(W(fW,12))};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({providers:[...Pk,...Tk],imports:[ck,L8]})}return n})(),Dk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn))};static#t=this.\u0275prov=ye({token:n,factory:function(r){let o=null;return o=r?new r:function hW(){return new Dk(W(Mn))}(),o},providedIn:"root"})}return n})();typeof window<"u"&&window;let Y0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(r){let o=null;return o=r?new(r||n):W(Sk),o},providedIn:"root"})}return n})(),Sk=(()=>{class n extends Y0{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Do.NONE:return r;case Do.HTML:return ps(r,"HTML")?Bo(r):dS(this._doc,String(r)).toString();case Do.STYLE:return ps(r,"Style")?Bo(r):r;case Do.SCRIPT:if(ps(r,"Script"))return Bo(r);throw new N(5200,!1);case Do.URL:return ps(r,"URL")?Bo(r):My(String(r));case Do.RESOURCE_URL:if(ps(r,"ResourceURL"))return Bo(r);throw new N(5201,!1);default:throw new N(5202,!1)}}bypassSecurityTrustHtml(t){return function e$(n){return new K5(n)}(t)}bypassSecurityTrustStyle(t){return function t$(n){return new Z5(n)}(t)}bypassSecurityTrustScript(t){return function n$(n){return new Q5(n)}(t)}bypassSecurityTrustUrl(t){return function r$(n){return new Y5(n)}(t)}bypassSecurityTrustResourceUrl(t){return function o$(n){return new X5(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn))};static#t=this.\u0275prov=ye({token:n,factory:function(r){let o=null;return o=r?new r:function _W(n){return new Sk(n.get(Mn))}(W(jr)),o},providedIn:"root"})}return n})();const{isArray:yW}=Array,{getPrototypeOf:bW,prototype:vW,keys:CW}=Object;function xk(n){if(1===n.length){const e=n[0];if(yW(e))return{args:e,keys:null};if(function EW(n){return n&&"object"==typeof n&&bW(n)===vW}(e)){const t=CW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:wW}=Array;function Nk(n){return ve(e=>function IW(n,e){return wW(e)?n(...e):n(e)}(n,e))}function kk(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Fk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(X(gi),X(uo))};static#t=this.\u0275dir=je({type:n})}return n})(),Ul=(()=>{class n extends Fk{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=or(n)))(o||n)}}();static#t=this.\u0275dir=je({type:n,features:[Vt]})}return n})();const vi=new le("NgValueAccessor"),MW={provide:vi,useExisting:F(()=>Qp),multi:!0},AW=new le("CompositionEventMode");let Qp=(()=>{class n extends Fk{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DW(){const n=ac()?ac().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(X(gi),X(uo),X(AW,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&Oe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[Jt([MW]),Vt]})}return n})();function uc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Lk(n){return null!=n&&"number"==typeof n.length}const zr=new le("NgValidators"),fc=new le("NgAsyncValidators"),OW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qr{static min(e){return function Uk(n){return e=>{if(uc(e.value)||uc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bk(n){return e=>{if(uc(e.value)||uc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return jk(e)}static requiredTrue(e){return function $k(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Hk(n){return uc(n.value)||OW.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function zk(n){return e=>uc(e.value)||!Lk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qk(n){return e=>Lk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Gk(n){if(!n)return Rb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(uc(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Xk(e)}static composeAsync(e){return Jk(e)}}function jk(n){return uc(n.value)?{required:!0}:null}function Rb(n){return null}function Wk(n){return null!=n}function Kk(n){return Rp(n)?M(n):n}function Zk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Qk(n,e){return e.map(t=>t(n))}function Yk(n){return n.map(e=>function SW(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xk(n){if(!n)return null;const e=n.filter(Wk);return 0==e.length?null:function(t){return Zk(Qk(t,e))}}function X0(n){return null!=n?Xk(Yk(n)):null}function Jk(n){if(!n)return null;const e=n.filter(Wk);return 0==e.length?null:function(t){return function TW(...n){const e=Oa(n),{args:t,keys:r}=xk(n),o=new ht(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let c=s,u=s;for(let d=0;d<s;d++){let g=!1;xn(t[d]).subscribe(me(i,m=>{g||(g=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!g)&&(u||i.next(r?kk(r,a):a),i.complete())}))}});return e?o.pipe(Nk(e)):o}(Qk(t,e).map(Kk)).pipe(ve(Zk))}}function J0(n){return null!=n?Jk(Yk(n)):null}function e2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function t2(n){return n._rawValidators}function n2(n){return n._rawAsyncValidators}function eT(n){return n?Array.isArray(n)?n:[n]:[]}function xb(n,e){return Array.isArray(n)?n.includes(e):n===e}function r2(n,e){const t=eT(e);return eT(n).forEach(o=>{xb(t,o)||t.push(o)}),t}function o2(n,e){return eT(e).filter(t=>!xb(n,t))}class i2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=X0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=J0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class go extends i2{get formDirective(){return null}get path(){return null}}class dc extends i2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class s2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nb=(()=>{class n extends s2{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(X(dc,2))};static#t=this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Jy("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Vt]})}return n})(),tT=(()=>{class n extends s2{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(X(go,10))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Jy("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Vt]})}return n})();const Yp="VALID",Fb="INVALID",Zf="PENDING",Xp="DISABLED";function oT(n){return(Vb(n)?n.validators:n)||null}function iT(n,e){return(Vb(e)?e.asyncValidators:n)||null}function Vb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function c2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[t])throw new N(1001,"")}function l2(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new N(1002,"")})}class Lb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yp}get invalid(){return this.status===Fb}get pending(){return this.status==Zf}get disabled(){return this.status===Xp}get enabled(){return this.status!==Xp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(r2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(r2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(o2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(o2(e,this._rawAsyncValidators))}hasValidator(e){return xb(this._rawValidators,e)}hasAsyncValidator(e){return xb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yp||this.status===Zf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xp:Yp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zf,this._hasOwnPendingAsyncValidator=!0;const t=Kk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?Xp:this.errors?Fb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zf)?Zf:this._anyControlsHaveStatus(Fb)?Fb:Yp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kW(n){return Array.isArray(n)?X0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function FW(n){return Array.isArray(n)?J0(n):n||null}(this._rawAsyncValidators)}}class Jp extends Lb{constructor(e,t,r){super(oT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){l2(this,0,e),Object.keys(e).forEach(r=>{c2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class u2 extends Jp{}const Bl=new le("CallSetDisabledState",{providedIn:"root",factory:()=>eg}),eg="always";function Ub(n,e){return[...e.path,n]}function tg(n,e,t=eg){sT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function LW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&f2(n,e)})}(n,e),function BW(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function UW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&f2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VW(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Bb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$b(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sT(n,e){const t=t2(n);null!==e.validator?n.setValidators(e2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=n2(n);null!==e.asyncValidator?n.setAsyncValidators(e2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();jb(e._rawValidators,o),jb(e._rawAsyncValidators,o)}function $b(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=t2(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=n2(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return jb(e._rawValidators,r),jb(e._rawAsyncValidators,r),t}function f2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function d2(n,e){sT(n,e)}function cT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function h2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===Qp?t=i:function HW(n){return Object.getPrototypeOf(n.constructor)===Ul}(i)?r=i:o=i}),o||r||t||null}const qW={provide:go,useExisting:F(()=>Hb)},ng=(()=>Promise.resolve())();let Hb=(()=>{class n extends go{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Gt,this.form=new Jp({},X0(t),J0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ng.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ng.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ng.then(()=>{const r=this._findContainer(t.path),o=new Jp({});d2(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ng.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ng.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,h2(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(X(zr,10),X(fc,10),X(Bl,8))};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&Oe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([qW]),Vt]})}return n})();function p2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function g2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rg=class extends Lb{constructor(e=null,t,r){super(oT(t),iT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=g2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){p2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){p2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){g2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KW={provide:dc,useExisting:F(()=>zb)},y2=(()=>Promise.resolve())();let zb=(()=>{class n extends dc{constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new rg,this._registered=!1,this.name="",this.update=new Gt,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=lT(0,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){y2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&Wf(r);y2.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ub(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(X(go,9),X(zr,10),X(fc,10),X(vi,10),X(Hp,8),X(Bl,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jt([KW]),Vt,so]})}return n})(),uT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),v2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({})}return n})();const fT=new le("NgModelWithFormControlWarning"),eK={provide:go,useExisting:F(()=>qb)};let qb=(()=>{class n extends go{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Gt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($b(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return tg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bb(t.control||null,t,!1),function zW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,h2(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Bb(r||null,t),(n=>n instanceof rg)(o)&&(tg(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);d2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function jW(n,e){return $b(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sT(this.form,this),this._oldForm&&$b(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(X(zr,10),X(fc,10),X(Bl,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&Oe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([eK]),Vt,so]})}return n})();const rK={provide:dc,useExisting:F(()=>pT)};let pT=(()=>{class n extends dc{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Gt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=lT(0,i)}ngOnChanges(t){this._added||this._setUpControl(),cT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ub(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(X(go,13),X(zr,10),X(fc,10),X(vi,10),X(fT,8))};static#n=this.\u0275dir=je({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jt([rK]),Vt,so]})}return n})();const oK={provide:vi,useExisting:F(()=>Gb),multi:!0};function T2(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Gb=(()=>{class n extends Ul{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=T2(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function iK(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=or(n)))(o||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&Oe("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([oK]),Vt]})}return n})(),P2=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(T2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(X(uo),X(gi),X(Gb,9))};static#t=this.\u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const sK={provide:vi,useExisting:F(()=>gT),multi:!0};function M2(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gT=(()=>{class n extends Ul{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const s=i;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);o.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function aK(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=or(n)))(o||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&Oe("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([sK]),Vt]})}return n})(),D2=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(M2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(M2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(X(uo),X(gi),X(gT,9))};static#t=this.\u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),jl=(()=>{class n{constructor(){this._validator=Rb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Rb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,features:[so]})}return n})();const uK={provide:zr,useExisting:F(()=>Wb),multi:!0};let Wb=(()=>{class n extends jl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wf,this.createValidator=t=>jk}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=or(n)))(o||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){2&r&&Hr("required",o._enabled?"":null)},inputs:{required:"required"},features:[Jt([uK]),Vt]})}return n})(),L2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({imports:[v2]})}return n})();class U2 extends Lb{constructor(e,t,r){super(oT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){l2(this,0,e),e.forEach((r,o)=>{c2(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function B2(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let mK=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let i={};return B2(r)?i=r:null!==r&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new Jp(o,i)}record(t,r=null){const o=this._reduceControls(t);return new u2(o,r)}control(t,r,o){let i={};return this.useNonNullable?(B2(r)?i=r:(i.validators=r,i.asyncValidators=o),new rg(t,{...i,nonNullable:!0})):new rg(t,r,o)}array(t,r,o){const i=t.map(s=>this._createControl(s));return new U2(i,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof rg||t instanceof Lb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Bl,useValue:t.callSetDisabledState??eg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({imports:[L2]})}return n})(),$2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bl,useValue:t.callSetDisabledState??eg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({imports:[L2]})}return n})();function Qf(n,e){return E(e)?Qt(n,e,1):Qt(n,1)}function Ci(n,e){return H((t,r)=>{let o=0;t.subscribe(me(r,i=>n.call(e,i,o++)&&r.next(i)))})}function og(n){return H((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Kb{}class Zb{}class Cs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _K{encodeKey(e){return H2(e)}encodeValue(e){return H2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bK=/%(\d[a-f0-9])/gi,vK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H2(n){return encodeURIComponent(n).replace(bK,(e,t)=>vK[t]??e)}function Qb(n){return`${n}`}class hc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _K,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Qb):[Qb(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Qb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Qb(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function z2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q2(n){return typeof Blob<"u"&&n instanceof Blob}function G2(n){return typeof FormData<"u"&&n instanceof FormData}class ig{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function EK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Cs),this.context||(this.context=new CK),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new hc,this.urlWithParams=t}serializeBody(){return null===this.body?null:z2(this.body)||q2(this.body)||G2(this.body)||function wK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G2(this.body)?null:q2(this.body)?this.body.type||null:z2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),u)),new ig(t,r,i,{params:u,headers:c,context:d,reportProgress:a,responseType:o,withCredentials:s})}}var Yf=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Yf||{});class mT{constructor(e,t=200,r="OK"){this.headers=e.headers||new Cs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _T extends mT{constructor(e={}){super(e),this.type=Yf.ResponseHeader}clone(e={}){return new _T({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xf extends mT{constructor(e={}){super(e),this.type=Yf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class W2 extends mT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function yT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let K2=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof ig)i=t;else{let c,u;c=o.headers instanceof Cs?o.headers:new Cs(o.headers),o.params&&(u=o.params instanceof hc?o.params:new hc({fromObject:o.params})),i=new ig(t,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=G(i).pipe(Qf(c=>this.handler.handle(c)));if(t instanceof ig||"events"===o.observe)return s;const a=s.pipe(Ci(c=>c instanceof Xf));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(ve(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ve(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ve(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ve(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new hc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,yT(o,r))}post(t,r,o={}){return this.request("POST",t,yT(o,r))}put(t,r,o={}){return this.request("PUT",t,yT(o,r))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kb))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function Y2(n,e){return e(n)}function TK(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const MK=new le(""),sg=new le(""),X2=new le("");function DK(){let n=null;return(e,t)=>{null===n&&(n=(fe(MK,{optional:!0})??[]).reduceRight(TK,Y2));const r=fe(lb),o=r.add();return n(e,t).pipe(og(()=>r.remove(o)))}}let J2=(()=>{class n extends Kb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=fe(lb)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(sg),...this.injector.get(X2,[])]));this.chain=o.reduceRight((i,s)=>function PK(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(i,s,this.injector),Y2)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(og(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Zb),W(jo))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const RK=/^\)\]\}',?\n/;let tF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new N(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?M(r.\u0275loadImpl()):G(null)).pipe(bt(()=>new ht(i=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const C=s.statusText||"OK",w=new Cs(s.getAllResponseHeaders()),O=function xK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new _T({headers:w,status:s.status,statusText:C,url:O}),c},d=()=>{let{headers:C,status:w,statusText:O,url:D}=u(),S=null;204!==w&&(S=typeof s.response>"u"?s.responseText:s.response),0===w&&(w=S?200:0);let U=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof S){const ce=S;S=S.replace(RK,"");try{S=""!==S?JSON.parse(S):null}catch(De){S=ce,U&&(U=!1,S={error:De,text:S})}}U?(i.next(new Xf({body:S,headers:C,status:w,statusText:O,url:D||void 0})),i.complete()):i.error(new W2({error:S,headers:C,status:w,statusText:O,url:D||void 0}))},g=C=>{const{url:w}=u(),O=new W2({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});i.error(O)};let m=!1;const y=C=>{m||(i.next(u()),m=!0);let w={type:Yf.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),"text"===t.responseType&&s.responseText&&(w.partialText=s.responseText),i.next(w)},v=C=>{let w={type:Yf.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),i.next(w)};return s.addEventListener("load",d),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),i.next({type:Yf.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(W(uk))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const bT=new le("XSRF_ENABLED"),nF=new le("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rF=new le("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oF{}let FK=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=JN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn),W(Fi),W(nF))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function VK(n,e){const t=n.url.toLowerCase();if(!fe(bT)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=fe(oF).getToken(),o=fe(rF);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var pc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(pc||{});function LK(...n){const e=[K2,tF,J2,{provide:Kb,useExisting:J2},{provide:Zb,useExisting:tF},{provide:sg,useValue:VK,multi:!0},{provide:bT,useValue:!0},{provide:oF,useClass:FK}];for(const t of n)e.push(...t.\u0275providers);return Oy(e)}const iF=new le("LEGACY_INTERCEPTOR_FN");function UK(){return function $l(n,e){return{\u0275kind:n,\u0275providers:e}}(pc.LegacyInterceptors,[{provide:iF,useFactory:DK},{provide:sg,useExisting:iF,multi:!0}])}let BK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({providers:[LK(UK())]})}return n})();var Es=Qe(534);(0,Es.registerVersion)("firebase","10.7.1","app");class KK extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const Xb={setInterval(n,e,...t){const{delegate:r}=Xb;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Xb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class sF extends KK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Xb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Xb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vT={now:()=>(vT.delegate||Date).now(),delegate:void 0};class ag{constructor(e,t=ag.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ag.now=vT.now;class aF extends ag{constructor(e,t=ag.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const YK=new class QK extends aF{}(class ZK extends sF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),CT=new aF(sF);function Pr(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?H((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(me(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Rn}const Jb=new Df("ANGULARFIRE2_VERSION");class ET{constructor(){return((n,e)=>{const t=(0,Es.getApps)(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(JK)}}const JK="app-check";function Jf(){}class cF{zone;delegate;constructor(e,t=YK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const o=this.zone;return this.delegate.schedule(function(s){o.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class eZ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jf,{},Jf,Jf)),t.pipe(Pr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wT=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cF(Zone.current)),this.insideAngular=t.run(()=>new cF(Zone.current,CT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(W(It))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ed(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function lF(n){return n.pipe(dr(ed().outsideAngular))}function mo(n){return function nZ(n){return function(t){return(t=t.lift(new eZ(n.ngZone))).pipe(kr(n.outsideAngular),dr(n.insideAngular))}}(ed())(n)}var ws=Qe(106);ws.Z.registerVersion("firebase","10.7.1","app-compat");const sZ=["ngOnDestroy"];class uF{constructor(e){return e}}const cg=new le("angularfire2.app.options"),lg=new le("angularfire2.app.name");function ev(n,e,t){const o="object"==typeof t&&t||{};o.name=o.name||"string"==typeof t&&t||"[DEFAULT]";const s=ws.Z.apps.filter(a=>a&&a.name===o.name)[0]||e.runOutsideAngular(()=>ws.Z.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;lZ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new uF(s)}const lZ=(n,...e)=>{},uZ={provide:uF,useFactory:ev,deps:[cg,It,[new Dl,lg]]};let fZ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:cg,useValue:t},{provide:lg,useValue:r}]}}constructor(t){ws.Z.registerVersion("angularfire",Jb.full,"core"),ws.Z.registerVersion("angularfire",Jb.full,"app-compat"),ws.Z.registerVersion("angular",OS.full,t.toString())}static \u0275fac=function(r){return new(r||n)(W(Fi))};static \u0275mod=Cn({type:n});static \u0275inj=vn({providers:[uZ]})}return n})();function IT(n,e,t,r,o){const[,i,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(i)return function dZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(o,s)||(fF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${hZ?" You may need to reload as Firebase is not HMR aware.":""}`),fF("warn",{is:o,was:s})),i;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,o]),a}}const hZ=typeof module<"u"&&!!module.hot,fF=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Qe(230);class pZ extends B{constructor(e=1/0,t=1/0,r=vT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function dF(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ze({connector:()=>new pZ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const tv=$e(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function td(n){return n<=0?()=>jn:H((e,t)=>{let r=0;e.subscribe(me(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function nv(n){return H((e,t)=>{let r=!1;e.subscribe(me(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function hF(n=gZ){return H((e,t)=>{let r=!1;e.subscribe(me(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function gZ(){return new tv}function gc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((o,i)=>n(o,i,r)):Rn,td(1),t?nv(e):hF(()=>new tv))}function pF(n,e){return E(e)?bt(()=>n,e):bt(()=>n)}const gF=new le("angularfire2.auth.use-emulator"),mF=new le("angularfire2.auth.settings"),_F=new le("angularfire2.auth.tenant-id"),yF=new le("angularfire2.auth.langugage-code"),bF=new le("angularfire2.auth.use-device-language"),vF=new le("angularfire.auth.persistence"),CF=(n,e,t,r,o,i,s,a)=>IT(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=o,i&&c.useDeviceLanguage(),s)for(const[u,d]of Object.entries(s))c.settings[u]=d;return a&&c.setPersistence(a),c},[t,r,o,i,s,a]);let EF=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,o,i,s,a,c,u,d,g,m,y){const v=new B,C=G(void 0).pipe(dr(s.outsideAngular),bt(()=>i.runOutsideAngular(()=>Promise.resolve().then(Qe.bind(Qe,230)))),ve(()=>ev(t,i,r)),ve(w=>CF(w,i,a,u,d,g,c,m)),dF({bufferSize:1,refCount:!1}));if(Db(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{C.pipe(gc()).subscribe();const w=C.pipe(bt(S=>S.getRedirectResult().then(U=>U,()=>null)),mo,dF({bufferSize:1,refCount:!1})),O=C.pipe(bt(S=>new ht(U=>({unsubscribe:i.runOutsideAngular(()=>S.onAuthStateChanged(ce=>U.next(ce),ce=>U.error(ce),()=>U.complete()))})))),D=C.pipe(bt(S=>new ht(U=>({unsubscribe:i.runOutsideAngular(()=>S.onIdTokenChanged(ce=>U.next(ce),ce=>U.error(ce),()=>U.complete()))}))));this.authState=w.pipe(pF(O),kr(s.outsideAngular),dr(s.insideAngular)),this.user=w.pipe(pF(D),kr(s.outsideAngular),dr(s.insideAngular)),this.idToken=this.user.pipe(bt(S=>S?M(S.getIdToken()):G(null))),this.idTokenResult=this.user.pipe(bt(S=>S?M(S.getIdTokenResult()):G(null))),this.credential=Y(w,v,this.authState.pipe(Ci(S=>!S))).pipe(ve(S=>S?.user?S:null),kr(s.outsideAngular),dr(s.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(o,i)=>t.runOutsideAngular(()=>{if(n[i])return r?.spy?.get&&r.spy.get(i,n[i]),n[i];if(sZ.indexOf(i)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[i];return"function"==typeof c?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(d=>{const g=d?.(...u);return r?.spy?.apply&&r.spy.apply(i,u,g),g})})})}))(this,C,i,{spy:{apply:(w,O,D)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&D.then(S=>v.next(S))}}})}static \u0275fac=function(r){return new(r||n)(W(cg),W(lg,8),W(Fi),W(It),W(wT),W(gF,8),W(mF,8),W(_F,8),W(yF,8),W(bF,8),W(vF,8),W(ET,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function TT(...n){return function _Z(){return Fo(1)}()(M(n,Qi(n)))}function rv(...n){const e=Qi(n);return H((t,r)=>{(e?TT(n,t,e):TT(n,t)).subscribe(r)})}function PT(){return H((n,e)=>{let t,r=!1;n.subscribe(me(e,o=>{const i=t;t=o,r&&e.next([i,o]),r=!0}))})}function ov(n,e){return H(function yZ(n,e,t,r,o){return(i,s)=>{let a=t,c=e,u=0;i.subscribe(me(s,d=>{const g=u++;c=a?n(c,d,g):(a=!0,d),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}var _e,Q=Qe(861),iv=Qe(537),Is=Qe(879),_t=Qe(58),bZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},MT=MT||{},Je=bZ||self;function sv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ug(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var DT="closure_uid_"+(1e9*Math.random()>>>0),CZ=0;function EZ(n,e,t){return n.call.apply(n.bind,arguments)}function wZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Gr(n,e,t){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EZ:wZ).apply(null,arguments)}function av(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function gr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[o].apply(r,s)}}function mc(){this.s=this.s,this.o=this.o}mc.prototype.s=!1,mc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vZ(n){Object.prototype.hasOwnProperty.call(n,DT)&&n[DT]||(n[DT]=++CZ)}(this)},mc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function AT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function IF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sv(r)){const o=n.length||0,i=r.length||0;n.length=o+i;for(let s=0;s<i;s++)n[o+s]=r[s]}else n.push(r)}}function Wr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Wr.prototype.h=function(){this.defaultPrevented=!0};var TZ=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Je.addEventListener("test",t,e),Je.removeEventListener("test",t,e)}catch{}return n}();function fg(n){return/^[\s\xa0]*$/.test(n)}function cv(){var n=Je.navigator;return n&&(n=n.userAgent)?n:""}function Ts(n){return-1!=cv().indexOf(n)}function OT(n){return OT[" "](n),n}OT[" "]=function(){};var RT,n,MZ=Ts("Opera"),nd=Ts("Trident")||Ts("MSIE"),TF=Ts("Edge"),ST=TF||nd,PF=Ts("Gecko")&&!(-1!=cv().toLowerCase().indexOf("webkit")&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),DZ=-1!=cv().toLowerCase().indexOf("webkit")&&!Ts("Edge");function MF(){var n=Je.document;return n?n.documentMode:void 0}e:{var xT="",NT=(n=cv(),PF?/rv:([^\);]+)(\)|;)/.exec(n):TF?/Edge\/([\d\.]+)/.exec(n):nd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):DZ?/WebKit\/(\S+)/.exec(n):MZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NT&&(xT=NT?NT[1]:""),nd){var kT=MF();if(null!=kT&&kT>parseFloat(xT)){RT=String(kT);break e}}RT=xT}var AZ=Je.document&&nd&&(MF()||parseInt(RT,10))||void 0;function dg(n,e){if(Wr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(PF){e:{try{OT(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dg.$.h.call(this)}}gr(dg,Wr);var OZ={2:"touch",3:"pen",4:"mouse"};dg.prototype.h=function(){dg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hg="closure_listenable_"+(1e6*Math.random()|0),SZ=0;function RZ(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++SZ,this.fa=this.ia=!1}function lv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function VT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function AF(n){const e={};for(const t in n)e[t]=n[t];return e}const OF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SF(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let i=0;i<OF.length;i++)t=OF[i],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function uv(n){this.src=n,this.g={},this.h=0}function LT(n,e){var t=e.type;if(t in n.g){var i,r=n.g[t],o=wF(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(lv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function UT(n,e,t,r){for(var o=0;o<n.length;++o){var i=n[o];if(!i.fa&&i.listener==e&&i.capture==!!t&&i.la==r)return o}return-1}uv.prototype.add=function(n,e,t,r,o){var i=n.toString();(n=this.g[i])||(n=this.g[i]=[],this.h++);var s=UT(n,e,r,o);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new RZ(e,this.src,i,!!r,o)).ia=t,n.push(e)),e};var BT="closure_lm_"+(1e6*Math.random()|0),jT={};function RF(n,e,t,r,o){if(r&&r.once)return NF(n,e,t,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)RF(n,e[i],t,r,o);return null}return t=qT(t),n&&n[hg]?n.O(e,t,ug(r)?!!r.capture:!!r,o):xF(n,e,t,!1,r,o)}function xF(n,e,t,r,o,i){if(!e)throw Error("Invalid event type");var s=ug(o)?!!o.capture:!!o,a=HT(n);if(a||(n[BT]=a=new uv(n)),(t=a.add(e,t,r,s,i)).proxy)return t;if(r=function NZ(){const e=kZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)TZ||(o=s),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(FF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function NF(n,e,t,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)NF(n,e[i],t,r,o);return null}return t=qT(t),n&&n[hg]?n.P(e,t,ug(r)?!!r.capture:!!r,o):xF(n,e,t,!0,r,o)}function kF(n,e,t,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)kF(n,e[i],t,r,o);else r=ug(r)?!!r.capture:!!r,t=qT(t),n&&n[hg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=UT(i=n.g[e],t,r,o))&&(lv(i[t]),Array.prototype.splice.call(i,t,1),0==i.length&&(delete n.g[e],n.h--))):n&&(n=HT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=UT(e,t,r,o)),(t=-1<n?e[n]:null)&&$T(t))}function $T(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[hg])LT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(FF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=HT(e))?(LT(t,n),0==t.h&&(t.src=null,e[BT]=null)):lv(n)}}}function FF(n){return n in jT?jT[n]:jT[n]="on"+n}function kZ(n,e){if(n.fa)n=!0;else{e=new dg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&$T(n),n=t.call(r,e)}return n}function HT(n){return(n=n[BT])instanceof uv?n:null}var zT="__closure_events_fn_"+(1e9*Math.random()>>>0);function qT(n){return"function"==typeof n?n:(n[zT]||(n[zT]=function(e){return n.handleEvent(e)}),n[zT])}function mr(){mc.call(this),this.i=new uv(this),this.S=this,this.J=null}function Mr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Wr(e,n);else if(e instanceof Wr)e.target=e.target||n;else{var o=e;SF(e=new Wr(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var s=e.g=t[i];o=fv(s,r,!0,e)&&o}if(o=fv(s=e.g=n,r,!0,e)&&o,o=fv(s,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=fv(s=e.g=t[i],r,!1,e)&&o}function fv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&LT(n.i,s),o=!1!==a.call(c,r)&&o}}return o&&!r.defaultPrevented}gr(mr,mc),mr.prototype[hg]=!0,mr.prototype.removeEventListener=function(n,e,t,r){kF(this,n,e,t,r)},mr.prototype.N=function(){if(mr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lv(t[r]);delete n.g[e],n.h--}}this.J=null},mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var GT=Je.JSON.stringify;function VZ(){var n=WT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VF=new class FZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new UZ,n=>n.reset());class UZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function BZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function jZ(n){Je.setTimeout(()=>{throw n},0)}let pg,gg=!1,WT=new class LZ{constructor(){this.h=this.g=null}add(e,t){const r=VF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},LF=()=>{const n=Je.Promise.resolve(void 0);pg=()=>{n.then($Z)}};var $Z=()=>{for(var n;n=VZ();){try{n.h.call(n.g)}catch(t){jZ(t)}var e=VF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gg=!1};function dv(n,e){mr.call(this),this.h=n||1,this.g=e||Je,this.j=Gr(this.qb,this),this.l=Date.now()}function KT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ZT(n,e,t){if("function"==typeof n)t&&(n=Gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Je.setTimeout(n,e||0)}function UF(n){n.g=ZT(()=>{n.g=null,n.i&&(n.i=!1,UF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gr(dv,mr),(_e=dv.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mr(this,"tick"),this.ga&&(KT(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){dv.$.N.call(this),KT(this),delete this.g};class HZ extends mc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UF(this)}N(){super.N(),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mg(n){mc.call(this),this.h=n,this.g={}}gr(mg,mc);var BF=[];function jF(n,e,t,r){Array.isArray(t)||(t&&(BF[0]=t.toString()),t=BF);for(var o=0;o<t.length;o++){var i=RF(e,t[o],r||n.handleEvent,!1,n.h||n);if(!i)break;n.g[i.key]=i}}function $F(n){VT(n.g,function(e,t){this.g.hasOwnProperty(t)&&$T(e)},n),n.g={}}function hv(){this.g=!0}function rd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return GT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}mg.prototype.N=function(){mg.$.N.call(this),$F(this)},mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hv.prototype.Ea=function(){this.g=!1},hv.prototype.info=function(){};var zl={},HF=null;function pv(){return HF=HF||new mr}function zF(n){Wr.call(this,zl.Ta,n)}function _g(n){const e=pv();Mr(e,new zF(e))}function qF(n,e){Wr.call(this,zl.STAT_EVENT,n),this.stat=e}function _o(n){const e=pv();Mr(e,new qF(e,n))}function GF(n,e){Wr.call(this,zl.Ua,n),this.size=e}function yg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){n()},e)}zl.Ta="serverreachability",gr(zF,Wr),zl.STAT_EVENT="statevent",gr(qF,Wr),zl.Ua="timingevent",gr(GF,Wr);var gv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function QT(){}function ZF(){}QT.prototype.h=null;var JT,bg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function YT(){Wr.call(this,"d")}function XT(){Wr.call(this,"c")}function mv(){}function vg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new mg(this),this.P=KZ,this.V=new dv(n=ST?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QF}function QF(){this.i=null,this.g="",this.h=!1}gr(YT,Wr),gr(XT,Wr),gr(mv,QT),mv.prototype.g=function(){return new XMLHttpRequest},mv.prototype.i=function(){return{}},JT=new mv;var KZ=45e3,YF={},eP={};function tP(n,e,t){n.L=1,n.A=vv(da(e)),n.u=t,n.S=!0,XF(n,null)}function XF(n,e){n.G=Date.now(),Cg(n),n.B=da(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),cV(t.i,"t",r),n.o=0,t=n.l.J,n.h=new QF,n.g=RV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new HZ(Gr(n.Pa,n,n.g),n.O)),jF(n.U,n.g,"readystatechange",n.nb),e=n.I?AF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),_g(),function zZ(n,e,t,r,o,i){n.info(function(){if(n.g)if(i)for(var s="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var d=u[0];u=u[1];var g=d.split("_");s=2<=g.length&&"type"==g[1]?s+(d+"=")+u+"&":s+(d+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function JF(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function eV(n,e,t){let o,r=!0;for(;!n.J&&n.o<t.length;){if(o=ZZ(n,t),o==eP){4==e&&(n.s=4,_o(14),r=!1),rd(n.j,n.m,null,"[Incomplete Response]");break}if(o==YF){n.s=4,_o(15),rd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rd(n.j,n.m,o,null),nP(n,o)}JF(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,_o(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),lP(e),e.M=!0,_o(11))):(rd(n.j,n.m,t,"[Invalid Chunked Response]"),ql(n),Eg(n))}function ZZ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?eP:(t=Number(e.substring(t,r)),isNaN(t)?YF:(r+=1)+t>e.length?eP:(e=e.slice(r,r+t),n.o=r+t,e))}function Cg(n){n.Y=Date.now()+n.P,tV(n,n.P)}function tV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=yg(Gr(n.lb,n),e)}function _v(n){n.C&&(Je.clearTimeout(n.C),n.C=null)}function Eg(n){0==n.l.H||n.J||DV(n.l,n)}function ql(n){_v(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,KT(n.V),$F(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function nP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||rP(t.i,n)))if(!n.K&&rP(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Pv(t),Iv(t)}cP(t),_o(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=yg(Gr(t.ib,t),6e3));if(1>=fV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Wl(t,11)}else if((n.K||t.g==n)&&Pv(t),!fg(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let u=o[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const d=u[3];null!=d&&(t.ra=d,t.l.info("VER="+t.ra));const g=u[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(oP(i,i.h),i.h=null))}if(r.F){const C=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,ln(r.I,r.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=SV(r,r.J?r.pa:null,r.Y),s.K){dV(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(_v(a),Cg(a)),r.g=s}else PV(r);0<t.j.length&&Tv(t)}else"stop"!=u[0]&&"close"!=u[0]||Wl(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Wl(t,7):aP(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}_g()}catch{}}function nV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function YZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function QZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,i=0;i<o;i++)e.call(void 0,r[i],t&&t[i],n)}(_e=vg.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==Ps(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const d=Ps(this.g);var e=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||ST||this.g&&(this.h.h||this.g.ja()||vV(this.g)))){this.J||4!=d||7==e||_g(),_v(this);var t=this.g.da();this.ca=t;t:if(JF(this)){var r=vV(this.g);n="";var o=r.length,i=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ql(this),Eg(this);var s="";break t}this.h.i=new Je.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:i&&e==o-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function qZ(n,e,t,r,o,i,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+i+" "+s})}(this.j,this.v,this.B,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fg(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.s=3,_o(12),ql(this),Eg(this);break e}rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nP(this,t)}this.S?(eV(this,d,s),ST&&this.i&&3==d&&(jF(this.U,this.V,"tick",this.mb),this.V.start())):(rd(this.j,this.m,s,null),nP(this,s)),4==d&&ql(this),this.i&&!this.J&&(4==d?DV(this.l,this):(this.i=!1,Cg(this)))}else(function gQ(n){const e={};n=(n.g&&2<=Ps(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(fg(n[r]))continue;var t=BZ(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const i=e[o]||[];e[o]=i,i.push(t)}!function xZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,_o(12)):(this.s=0,_o(13)),ql(this),Eg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=Ps(this.g),e=this.g.ja();this.o<e.length&&(_v(this),eV(this,n,e),this.i&&4!=n&&Cg(this))}},_e.cancel=function(){this.J=!0,ql(this)},_e.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function GZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(_g(),_o(17)),ql(this),this.s=2,Eg(this)):tV(this,this.Y-n)};var rV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gl){this.h=n.h,yv(this,n.j),this.s=n.s,this.g=n.g,bv(this,n.m),this.l=n.l;var e=n.i,t=new Tg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oV(this,t),this.o=n.o}else n&&(e=String(n).match(rV))?(this.h=!1,yv(this,e[1]||"",!0),this.s=wg(e[2]||""),this.g=wg(e[3]||"",!0),bv(this,e[4]),this.l=wg(e[5]||"",!0),oV(this,e[6]||"",!0),this.o=wg(e[7]||"")):(this.h=!1,this.i=new Tg(null,this.h))}function da(n){return new Gl(n)}function yv(n,e,t){n.j=t?wg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oV(n,e,t){e instanceof Tg?(n.i=e,function oQ(n,e){e&&!n.j&&(_c(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(sV(this,r),cV(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ig(e,nQ)),n.i=new Tg(e,n.h))}function ln(n,e,t){n.i.set(e,t)}function vv(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ig(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,JZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function JZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ig(e,iV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ig(e,iV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ig(t,"/"==t.charAt(0)?tQ:eQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ig(t,rQ)),n.join("")};var iV=/[#\/\?@]/g,eQ=/[#\?:]/g,tQ=/[#\?]/g,nQ=/[#\?@]/g,rQ=/#/g;function Tg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _c(n){n.g||(n.g=new Map,n.h=0,n.i&&function XZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var i=n[t].substring(0,r);o=n[t].substring(r+1)}else i=n[t];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sV(n,e){_c(n),e=od(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function aV(n,e){return _c(n),e=od(n,e),n.g.has(e)}function cV(n,e,t){sV(n,e),0<t.length&&(n.i=null,n.g.set(od(n,e),AT(t)),n.h+=t.length)}function od(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lV(n){this.l=n||sQ,n=Je.PerformanceNavigationTiming?0<(n=Je.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Je.g&&Je.g.Ka&&Je.g.Ka()&&Je.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Tg.prototype).add=function(n,e){_c(this),this.i=null,n=od(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){_c(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},_e.ta=function(){_c(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let i=0;i<o.length;i++)t.push(e[r])}return t},_e.Z=function(n){_c(this);let e=[];if("string"==typeof n)aV(this,n)&&(e=e.concat(this.g.get(od(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return _c(this),this.i=null,aV(this,n=od(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const i=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),n.push(o)}}return this.i=n.join("&")};var sQ=10;function uV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fV(n){return n.h?1:n.g?n.g.size:0}function rP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oP(n,e){n.g?n.g.add(e):n.h=e}function dV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return AT(n.i)}lV.prototype.cancel=function(){if(this.i=hV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var aQ=class{stringify(n){return Je.JSON.stringify(n,void 0)}parse(n){return Je.JSON.parse(n,void 0)}};function cQ(){this.g=new aQ}function lQ(n,e,t){const r=t||"";try{nV(n,function(o,i){let s=o;ug(o)&&(s=GT(o)),e.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Cv(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Pg(n){this.l=n.ec||null,this.j=n.ob||!1}function Ev(n,e){mr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=iP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gr(Pg,QT),Pg.prototype.g=function(){return new Ev(this.l,this.j)},Pg.prototype.i=function(n){return function(){return n}}({}),gr(Ev,mr);var iP=0;function pV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dg(n)}function Dg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=Ev.prototype).open=function(n,e){if(this.readyState!=iP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dg(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mg(this)),this.readyState=iP},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dg(this)),this.g&&(this.readyState=3,Dg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Je.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Mg(this):Dg(this),3==this.readyState&&pV(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,Mg(this))},_e.Ya=function(n){this.g&&(this.response=n,Mg(this))},_e.ka=function(){this.g&&Mg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ev.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fQ=Je.JSON.parse;function An(n){mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gV,this.L=this.M=!1}gr(An,mr);var gV="",dQ=/^https?$/i,hQ=["POST","PUT"];function mV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_V(n),wv(n)}function _V(n){n.F||(n.F=!0,Mr(n,"complete"),Mr(n,"error"))}function yV(n){if(n.h&&typeof MT<"u"&&(!n.C[1]||4!=Ps(n)||2!=n.da()))if(n.v&&4==Ps(n))ZT(n.La,0,n);else if(Mr(n,"readystatechange"),4==Ps(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var o=String(n.I).match(rV)[1]||null;!o&&Je.self&&Je.self.location&&(o=Je.self.location.protocol.slice(0,-1)),r=!dQ.test(o?o.toLowerCase():"")}t=r}if(t)Mr(n,"complete"),Mr(n,"success");else{n.m=6;try{var i=2<Ps(n)?n.g.statusText:""}catch{i=""}n.j=i+" ["+n.da()+"]",_V(n)}}finally{wv(n)}}}function wv(n,e){if(n.g){bV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Mr(n,"ready");try{t.onreadystatechange=r}catch{}}}function bV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Je.clearTimeout(n.A),n.A=null)}function Ps(n){return n.g?n.g.readyState:0}function vV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case gV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CV(n){let e="";return VT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function sP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=CV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ln(n,e,t))}function Ag(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function EV(n){this.Ga=0,this.j=[],this.l=new hv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ag("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ag("baseRetryDelayMs",5e3,n),this.hb=Ag("retryDelaySeedMs",1e4,n),this.eb=Ag("forwardChannelMaxRetries",2,n),this.xa=Ag("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new lV(n&&n.concurrentRequestLimit),this.Ja=new cQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function aP(n){if(wV(n),3==n.H){var e=n.W++,t=da(n.I);if(ln(t,"SID",n.K),ln(t,"RID",e),ln(t,"TYPE","terminate"),Og(n,t),(e=new vg(n,n.l,e)).L=2,e.A=vv(da(t)),t=!1,Je.navigator&&Je.navigator.sendBeacon)try{t=Je.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Je.Image&&((new Image).src=e.A,t=!0),t||(e.g=RV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cg(e)}OV(n)}function Iv(n){n.g&&(lP(n),n.g.cancel(),n.g=null)}function wV(n){Iv(n),n.u&&(Je.clearTimeout(n.u),n.u=null),Pv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Je.clearTimeout(n.m),n.m=null)}function Tv(n){if(!uV(n.i)&&!n.m){n.m=!0;var e=n.Na;pg||LF(),gg||(pg(),gg=!0),WT.add(e,n),n.C=0}}function IV(n,e){var t;t=e?e.m:n.W++;const r=da(n.I);ln(r,"SID",n.K),ln(r,"RID",t),ln(r,"AID",n.V),Og(n,r),n.o&&n.s&&sP(r,n.o,n.s),t=new vg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=TV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oP(n.i,t),tP(t,r,e)}function Og(n,e){n.na&&VT(n.na,function(t,r){ln(e,r,t)}),n.h&&nV({},function(t,r){ln(e,r,t)})}function TV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Gr(n.h.Va,n.h,n):null;e:{var o=n.j;let i=-1;for(;;){const s=["count="+t];-1==i?0<t?(i=o[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let c=0;c<t;c++){let u=o[c].g;const d=o[c].map;if(u-=i,0>u)i=Math.max(0,o[c].g-100),a=!1;else try{lQ(d,s,"req"+u+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function PV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;pg||LF(),gg||(pg(),gg=!0),WT.add(e,n),n.A=0}}function cP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=yg(Gr(n.Ma,n),AV(n,n.A)),n.A++,0))}function lP(n){null!=n.B&&(Je.clearTimeout(n.B),n.B=null)}function MV(n){n.g=new vg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=da(n.wa);ln(e,"RID","rpc"),ln(e,"SID",n.K),ln(e,"AID",n.V),ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ln(e,"TO",n.qa),ln(e,"TYPE","xmlhttp"),Og(n,e),n.o&&n.s&&sP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=vv(da(e)),t.u=null,t.S=!0,XF(t,n)}function Pv(n){null!=n.v&&(Je.clearTimeout(n.v),n.v=null)}function DV(n,e){var t=null;if(n.g==e){Pv(n),lP(n),n.g=null;var r=2}else{if(!rP(n.i,e))return;t=e.F,dV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var o=n.C;Mr(r=pv(),new GF(r,t)),Tv(n)}else PV(n);else if(3==(o=e.s)||0==o&&0<e.ca||!(1==r&&function mQ(n,e){return!(fV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=yg(Gr(n.Na,n,e),AV(n,n.C)),n.C++,0)))}(n,e)||2==r&&cP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Wl(n,5);break;case 4:Wl(n,10);break;case 3:Wl(n,6);break;default:Wl(n,2)}}function AV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Wl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Gr(n.pb,n);t||(t=new Gl("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||yv(t,"https"),vv(t)),function uQ(n,e){const t=new hv;if(Je.Image){const r=new Image;r.onload=av(Cv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=av(Cv,t,r,"TestLoadImage: error",!1,e),r.onabort=av(Cv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=av(Cv,t,r,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _o(2);n.H=0,n.h&&n.h.za(e),OV(n),wV(n)}function OV(n){if(n.H=0,n.ma=[],n.h){const e=hV(n.i);(0!=e.length||0!=n.j.length)&&(IF(n.ma,e),IF(n.ma,n.j),n.i.i.length=0,AT(n.j),n.j.length=0),n.h.ya()}}function SV(n,e,t){var r=t instanceof Gl?da(t):new Gl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),bv(r,r.m);else{var o=Je.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var i=new Gl(null);r&&yv(i,r),e&&(i.g=e),o&&bv(i,o),t&&(i.l=t),r=i}return e=n.Da,(t=n.F)&&e&&ln(r,t,e),ln(r,"VER",n.ra),Og(n,r),r}function RV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new An(n.Ha&&!n.va?new Pg({ob:t}):n.va)).Oa(n.J),e}function xV(){}function Mv(){if(nd&&!(10<=Number(AZ)))throw Error("Environmental error: no available transport.")}function zo(n,e){mr.call(this),this.g=new EV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!fg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new id(this)}function NV(n){YT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kV(){XT.call(this),this.status=1}function id(n){this.g=n}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uP(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var i=n.g[3],s=(e=n.g[0])+(i^(t=n.g[1])&((o=n.g[2])^i))+r[0]+3614090360&4294967295;s=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=(t=(o=(i=(e=t+(s<<7&4294967295|s>>>25))+((s=i+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(t^i&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^o&(i^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^t&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(t^i&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^o&(i^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^t&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(t^i&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^o&(i^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^t&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(t^i&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^o&(i^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^i&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^t&(i^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(i^e&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^t&(i^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(i^e&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^t&(i^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(i^e&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^t&(i^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(i^e&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(o^i^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(o^i^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(o^i^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(o^i^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(o^(t|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(i^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(o^(t|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(i^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(o^(t|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(i^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(e=t+((s=e+(o^(t|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(e^(i|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+i&4294967295}function Lt(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var i=0|n[o];r&&i==e||(t[o]=i,r=!1)}this.g=t}(_e=An.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():JT.g(),this.C=function KF(n){return n.h||(n.h=n.i())}(this.u?this.u:JT),this.g.onreadystatechange=Gr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(i){return void mV(this,i)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const i of r.keys())t.set(i,r.get(i))}r=Array.from(t.keys()).find(i=>"content-type"==i.toLowerCase()),o=Je.FormData&&n instanceof Je.FormData,!(0<=wF(hQ,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of t)this.g.setRequestHeader(i,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bV(this),0<this.B&&((this.L=function pQ(n){return nd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.ua,this)):this.A=ZT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(i){mV(this,i)}},_e.ua=function(){typeof MT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mr(this,"complete"),Mr(this,"abort"),wv(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wv(this,!0)),An.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?yV(this):this.kb())},_e.kb=function(){yV(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fQ(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=EV.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new vg(this,this.l,n);let i=this.s;if(this.U&&(i?(i=AF(i),SF(i,this.U)):i=this.U),null!==this.o||this.O||(o.I=i,i=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=TV(this,o,e),ln(t=da(this.I),"RID",n),ln(t,"CVER",22),this.F&&ln(t,"X-HTTP-Session-Id",this.F),Og(this,t),i&&(this.O?e="headers="+encodeURIComponent(String(CV(i)))+"&"+e:this.o&&sP(t,this.o,i)),oP(this.i,o),this.bb&&ln(t,"TYPE","init"),this.P?(ln(t,"$req",e),ln(t,"SID","null"),o.aa=!0,tP(o,t,null)):tP(o,t,e),this.H=2}}else 3==this.H&&(n?IV(this,n):0==this.j.length||uV(this.i)||IV(this))},_e.Ma=function(){if(this.u=null,MV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=yg(Gr(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_o(10),Iv(this),MV(this))},_e.ib=function(){null!=this.v&&(this.v=null,Iv(this),cP(this),_o(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_o(2)):(this.l.info("Failed to ping google.com"),_o(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=xV.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},Mv.prototype.g=function(n,e){return new zo(n,e)},gr(zo,mr),zo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_o(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=SV(n,null,n.Y),Tv(n)},zo.prototype.close=function(){aP(this.g)},zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=GT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Tv(e)},zo.prototype.N=function(){this.g.h=null,delete this.j,aP(this.g),delete this.g,zo.$.N.call(this)},gr(NV,YT),gr(kV,XT),gr(id,xV),id.prototype.Ba=function(){Mr(this.g,"a")},id.prototype.Aa=function(n){Mr(this.g,new NV(n))},id.prototype.za=function(n){Mr(this.g,new kV)},id.prototype.ya=function(){Mr(this.g,"b")},gr(Hi,function _Q(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,i=0;i<e;){if(0==o)for(;i<=t;)uP(this,n,i),i+=this.blockSize;if("string"==typeof n){for(;i<e;)if(r[o++]=n.charCodeAt(i++),o==this.blockSize){uP(this,r),o=0;break}}else for(;i<e;)if(r[o++]=n[i++],o==this.blockSize){uP(this,r),o=0;break}}this.h=o,this.i+=e},Hi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var yQ={};function fP(n){return-128<=n&&128>n?function PZ(n,e){var t=yQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Lt([0|e],0>e?-1:0)}):new Lt([0|n],0>n?-1:0)}function Ms(n){if(isNaN(n)||!isFinite(n))return sd;if(0>n)return Dr(Ms(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=dP;return new Lt(e,0)}var dP=4294967296,sd=fP(0),hP=fP(1),VV=fP(16777216);function ha(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ei(n){return-1==n.h}function Dr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Lt(t,~n.h).add(hP)}function Dv(n,e){return n.add(Dr(e))}function Av(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Sg(n,e){this.g=n,this.h=e}function Ov(n,e){if(ha(e))throw Error("division by zero");if(ha(n))return new Sg(sd,sd);if(Ei(n))return e=Ov(Dr(n),e),new Sg(Dr(e.g),Dr(e.h));if(Ei(e))return e=Ov(n,Dr(e)),new Sg(Dr(e.g),e.h);if(30<n.g.length){if(Ei(n)||Ei(e))throw Error("slowDivide_ only works with positive integers.");for(var t=hP,r=e;0>=r.X(n);)t=LV(t),r=LV(r);var o=ad(t,1),i=ad(r,1);for(r=ad(r,2),t=ad(t,2);!ha(r);){var s=i.add(r);0>=s.X(n)&&(o=o.add(t),i=s),r=ad(r,1),t=ad(t,1)}return e=Dv(n,o.R(e)),new Sg(o,e)}for(o=sd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(i=Ms(t)).R(e);Ei(s)||0<s.X(n);)s=(i=Ms(t-=r)).R(e);ha(i)&&(i=hP),o=o.add(i),n=Dv(n,s)}return new Sg(o,n)}function LV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Lt(t,n.h)}function ad(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],i=0;i<r;i++)o[i]=0<e?n.D(i+t)>>>e|n.D(i+t+1)<<32-e:n.D(i+t);return new Lt(o,n.h)}(_e=Lt.prototype).ea=function(){if(Ei(this))return-Dr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:dP+r)*e,e*=dP}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ha(this))return"0";if(Ei(this))return"-"+Dr(this).toString(n);for(var e=Ms(Math.pow(n,6)),t=this,r="";;){var o=Ov(t,e).g,i=((0<(t=Dv(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ha(t=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return Ei(n=Dv(this,n))?-1:ha(n)?0:1},_e.abs=function(){return Ei(this)?Dr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var i=r+(65535&this.D(o))+(65535&n.D(o)),s=(i>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=s>>>16,t[o]=(s&=65535)<<16|(i&=65535)}return new Lt(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(ha(this)||ha(n))return sd;if(Ei(this))return Ei(n)?Dr(this).R(Dr(n)):Dr(Dr(this).R(n));if(Ei(n))return Dr(this.R(Dr(n)));if(0>this.X(VV)&&0>n.X(VV))return Ms(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var i=this.D(r)>>>16,s=65535&this.D(r),a=n.D(o)>>>16,c=65535&n.D(o);t[2*r+2*o]+=s*c,Av(t,2*r+2*o),t[2*r+2*o+1]+=i*c,Av(t,2*r+2*o+1),t[2*r+2*o+1]+=s*a,Av(t,2*r+2*o+1),t[2*r+2*o+2]+=i*a,Av(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Lt(t,0)},_e.gb=function(n){return Ov(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Lt(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Lt(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Lt(t,this.h^n.h)},Mv.prototype.createWebChannel=Mv.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,gv.NO_ERROR=0,gv.TIMEOUT=8,gv.HTTP_ERROR=6,WF.COMPLETE="complete",ZF.EventType=bg,bg.OPEN="a",bg.CLOSE="b",bg.ERROR="c",bg.MESSAGE="d",mr.prototype.listen=mr.prototype.O,An.prototype.listenOnce=An.prototype.P,An.prototype.getLastError=An.prototype.Sa,An.prototype.getLastErrorCode=An.prototype.Ia,An.prototype.getStatus=An.prototype.da,An.prototype.getResponseJson=An.prototype.Wa,An.prototype.getResponseText=An.prototype.ja,An.prototype.send=An.prototype.ha,An.prototype.setWithCredentials=An.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,Lt.prototype.add=Lt.prototype.add,Lt.prototype.multiply=Lt.prototype.R,Lt.prototype.modulo=Lt.prototype.gb,Lt.prototype.compare=Lt.prototype.X,Lt.prototype.toNumber=Lt.prototype.ea,Lt.prototype.toString=Lt.prototype.toString,Lt.prototype.getBits=Lt.prototype.D,Lt.fromNumber=Ms,Lt.fromString=function FV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Dr(FV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ms(Math.pow(e,8)),r=sd,o=0;o<n.length;o+=8){var i=Math.min(8,n.length-o),s=parseInt(n.substring(o,o+i),e);8>i?(i=Ms(Math.pow(e,i)),r=r.R(i).add(Ms(s))):r=(r=r.R(t)).add(Ms(s))}return r};var bQ=$i.createWebChannelTransport=function(){return new Mv},vQ=$i.getStatEventTarget=function(){return pv()},pP=$i.ErrorCode=gv,CQ=$i.EventType=WF,EQ=$i.Event=zl,UV=$i.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sv=($i.FetchXmlHttpFactory=Pg,$i.WebChannel=ZF),wQ=$i.XhrIo=An,IQ=$i.Md5=Hi,cd=$i.Integer=Lt;const BV="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let ld="10.7.0";const yc=new Is.Yd("@firebase/firestore");function ud(){return yc.logLevel}function se(n,...e){if(yc.logLevel<=Is.in.DEBUG){const t=e.map(gP);yc.debug(`Firestore (${ld}): ${n}`,...t)}}function Vn(n,...e){if(yc.logLevel<=Is.in.ERROR){const t=e.map(gP);yc.error(`Firestore (${ld}): ${n}`,...t)}}function So(n,...e){if(yc.logLevel<=Is.in.WARN){const t=e.map(gP);yc.warn(`Firestore (${ld}): ${n}`,...t)}}function gP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ee(n="Unexpected state"){const e=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: `+n;throw Vn(e),new Error(e)}function xe(n,e){n||Ee()}function de(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends _t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class DQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AQ{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const i=u=>this.i!==o?(o=this.i,t(u)):Promise.resolve();let s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,Q.Z)(function*(){yield u.promise,yield i(r.currentUser)}))},c=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe("string"==typeof r.accessToken),new jV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xe(null===e||"string"==typeof e),new _r(e)}}class OQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new OQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $V{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=i=>{null!=i.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe("string"==typeof t.token),this.R=t.token,new $V(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class HV{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=xQ(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[i]%62))}return r}}function Ze(n,e){return n<e?-1:n>e?1:0}function fd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function zV(n){return n+"\0"}class _n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new _n(0,0))}static max(){return new Ne(new _n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ee(),void 0===r?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const i=e.get(o),s=t.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends Rg{construct(e,t,r){return new Mt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const NQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Rg{construct(e,t,r){return new un(e,t,r)}static isValidIdentifier(e){return NQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const i=()=>{if(0===r.length)throw new re(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if("\\"===a){if(o+1===e.length)throw new re(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new re(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new re(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Mt.fromString(e))}static fromName(e){return new pe(Mt.fromString(e).popFirst(5))}static empty(){return new pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Mt(e.slice()))}}class dd{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function mP(n){return n.fields.find(e=>2===e.kind)}function Kl(n){return n.fields.filter(e=>2!==e.kind)}dd.UNKNOWN_ID=-1;class Zl{constructor(e,t){this.fieldPath=e,this.kind=t}}class hd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hd(0,qo.min())}}function qV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(1e9===r?new _n(t+1,0):new _n(t,r));return new qo(o,pe.empty(),e)}function GV(n){return new qo(n.readTime,n.key,-1)}class qo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qo(Ne.min(),pe.empty(),-1)}static max(){return new qo(Ne.max(),pe.empty(),-1)}}function _P(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Ze(n.largestBatchId,e.largestBatchId))}const WV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bc(n){return yP.apply(this,arguments)}function yP(){return yP=(0,Q.Z)(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==WV)throw n;se("LocalStore","Unexpectedly lost primary lease")}),yP.apply(this,arguments)}class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k?t:k.resolve(t)}catch(t){return k.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k.reject(t)}static resolve(e){return new k((t,r)=>{t(e)})}static reject(e){return new k((t,r)=>{r(e)})}static waitFor(e){return new k((t,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&t()},c=>r(c))}),s=!0,i===o&&t()})}static or(e){let t=k.resolve(!1);for(const r of e)t=t.next(o=>o?k.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,i)=>{r.push(t.call(this,o,i))}),this.waitFor(r)}static mapArray(e,t){return new k((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;t(e[u]).next(d=>{s[u]=d,++a,a===i&&r(s)},d=>o(d))}})}static doWhile(e,t){return new k((r,o)=>{const i=()=>{!0===e()?t().next(()=>{i()},o):r()};i()})}}class Rv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ar,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new xg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const o=bP(r.target.error);this.V.reject(new xg(e,o))}}static open(e,t,r,o){try{return new Rv(t,e.transaction(o,r))}catch(i){throw new xg(t,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LQ(t)}}class zi{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===zi.S((0,_t.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Ql(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_t.hl)())return!1;if(zi.C())return!0;const e=(0,_t.z$)(),t=zi.S(e),r=0<t&&t<10,o=zi.v(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Q.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=s=>{r(s.target.result)},i.onblocked=()=>{o(new xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;o("VersionError"===a.name?new re(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new xg(e,a))},i.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,i.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var i=this;return(0,Q.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{i.db=yield i.O(e);const c=Rv.open(i.db,e,s?"readonly":"readwrite",r),u=o(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),k.reject(d))).toPromise();return u.catch(()=>{}),yield c.m,u}catch(c){const u=c,d="FirebaseError"!==u.name&&a<3;if(se("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),i.close(),!d)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class VQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ql(this.k.delete())}}class xg extends re{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vc(n){return"IndexedDbTransactionError"===n.name}class LQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ql(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Ql(this.store.add(e))}get(e){return Ql(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Ql(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Ql(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),i=[];return this.G(o,(s,a)=>{i.push(a)}).next(()=>i)}{const o=this.store.getAll(r.range);return new k((i,s)=>{o.onerror=a=>{s(a.target.error)},o.onsuccess=a=>{i(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new k((o,i)=>{r.onerror=s=>{i(s.target.error)},r.onsuccess=s=>{o(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const o=this.cursor(r);return this.G(o,(i,s,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Z(e){const t=this.cursor({});return new k((r,o)=>{t.onerror=i=>{const s=bP(i.target.error);o(s)},t.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,t){const r=[];return new k((o,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void o();const c=new VQ(a),u=t(a.primaryKey,a.value,c);if(u instanceof k){const d=u.catch(g=>(c.done(),k.reject(g)));r.push(d)}c.isDone?o():null===c.$?a.continue():a.continue(c.$)}}).next(()=>k.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ql(n){return new k((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=bP(r.target.error);t(o)}})}let ZV=!1;function bP(n){const e=zi.S((0,_t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZV||(ZV=!0,setTimeout(()=>{throw r},0)),r}}return n}class UQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Q.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){vc(r)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield bc(r)}yield t.ee(6e4)}))}}class BQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Q.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let o=t,i=!0;return k.doWhile(()=>!0===i&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,o).next(a=>{o-=a,r.add(s)});i=!1})).next(()=>t-o)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(i=>{const s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(o,i)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let r=e;return t.changes.forEach((o,i)=>{const s=GV(i);_P(s,r)>0&&(r=s)}),new qo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.se(o),this.oe=o=>r.writeSequenceNumber(o))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Ng(n){return null==n}function kg(n){return 0===n&&1/n==-1/0}function QV(n){return"number"==typeof n&&Number.isInteger(n)&&!kg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Kr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YV(e)),e=jQ(n.get(t),e);return YV(e)}function jQ(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const i=n.charAt(o);switch(i){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=i}}return t}function YV(n){return n+"\x01\x01"}function Ds(n){const e=n.length;if(xe(e>=2),2===e)return xe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mt.emptyPath();const t=e-2,r=[];let o="";for(let i=0;i<e;){const s=n.indexOf("\x01",i);switch((s<0||s>t)&&Ee(),n.charAt(s+1)){case"\x01":const a=n.substring(i,s);let c;0===o.length?c=a:(o+=a,c=o,o=""),r.push(c);break;case"\x10":o+=n.substring(i,s),o+="\0";break;case"\x11":o+=n.substring(i,s+1);break;default:Ee()}i=s+2}return new Mt(r)}const XV=["userId","batchId"];function xv(n,e){return[n,Kr(e)]}function JV(n,e,t){return[n,Kr(e),t]}const $Q={},HQ=["prefixPath","collectionGroup","readTime","documentId"],zQ=["prefixPath","collectionGroup","documentId"],qQ=["collectionGroup","readTime","prefixPath","documentId"],GQ=["canonicalId","targetId"],WQ=["targetId","path"],KQ=["path","targetId"],ZQ=["collectionId","parent"],QQ=["indexId","uid"],YQ=["uid","sequenceNumber"],XQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JQ=["indexId","uid","orderedDocumentKey"],eY=["userId","collectionPath","documentId"],tY=["userId","collectionPath","largestBatchId"],nY=["userId","collectionGroup","largestBatchId"],eL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rY=[...eL,"documentOverlays"],tL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nL=tL,oY=[...nL,"indexConfiguration","indexState","indexEntries"];class vP extends KV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function yr(n,e){const t=de(n);return zi.M(t.ae,e)}function rL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tn{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nv(this.root,e,this.comparator,!0)}}class Nv{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,r,o,i){this.key=e,this.value=t,this.color=r??Ar.RED,this.left=o??Ar.EMPTY,this.right=i??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,i){return new Ar(e??this.key,t??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===i?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ar.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,o,i){return this}insert(e,t,r){return new Ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iL(this.data.getIterator())}getIteratorFrom(e){return new iL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class iL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pd(n){return n.hasNext()?n.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Ro([])}unionWith(e){let t=new Ht(un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class sL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sL("Invalid base64 string: "+i):i}}(e);return new cr(t)}static fromUint8Array(e){const t=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const sY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(n){if(xe(!!n),"string"==typeof n){let e=0;const t=sY.exec(n);if(xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(n.seconds),nanos:On(n.nanos)}}function On(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pa(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function kv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fv(n){const e=n.mapValue.fields.__previous_value__;return kv(e)?Fv(e):e}function Fg(n){const e=Ec(n.mapValue.fields.__local_write_time__.timestampValue);return new _n(e.seconds,e.nanos)}class aY{constructor(e,t,r,o,i,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vv={nullValue:"NULL_VALUE"};function Tc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kv(n)?4:uL(n)?9007199254740991:10:Ee()}function As(n,e){if(n===e)return!0;const t=Tc(n);if(t!==Tc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fg(n).isEqual(Fg(e));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=Ec(o.timestampValue),a=Ec(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,pa(n.bytesValue).isEqual(pa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,i){return On(o.geoPointValue.latitude)===On(i.geoPointValue.latitude)&&On(o.geoPointValue.longitude)===On(i.geoPointValue.longitude)}(n,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return On(o.integerValue)===On(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=On(o.doubleValue),a=On(i.doubleValue);return s===a?kg(s)===kg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return fd(n.arrayValue.values||[],e.arrayValue.values||[],As);case 10:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(rL(s)!==rL(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!As(s[c],a[c])))return!1;return!0}(n,e);default:return Ee()}var i}function Vg(n,e){return void 0!==(n.values||[]).find(t=>As(t,e))}function Pc(n,e){if(n===e)return 0;const t=Tc(n),r=Tc(e);if(t!==r)return Ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(i,s){const a=On(i.integerValue||i.doubleValue),c=On(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return aL(n.timestampValue,e.timestampValue);case 4:return aL(Fg(n),Fg(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(i,s){const a=pa(i),c=pa(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Ze(a[u],c[u]);if(0!==d)return d}return Ze(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Ze(On(i.latitude),On(s.latitude));return 0!==a?a:Ze(On(i.longitude),On(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){const d=Pc(a[u],c[u]);if(d)return d}return Ze(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ic.mapValue&&s===Ic.mapValue)return 0;if(i===Ic.mapValue)return 1;if(s===Ic.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){const m=Ze(c[g],d[g]);if(0!==m)return m;const y=Pc(a[c[g]],u[d[g]]);if(0!==y)return y}return Ze(c.length,d.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function aL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ze(n,e);const t=Ec(n),r=Ec(e),o=Ze(t.seconds,r.seconds);return 0!==o?o:Ze(t.nanos,r.nanos)}function gd(n){return CP(n)}function CP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ec(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?pa(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const i of t.values||[])o?o=!1:r+=",",r+=CP(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${CP(t.fields[s])}`;return o+"}"}(n.mapValue):Ee()}function Yl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function EP(n){return!!n&&"integerValue"in n}function Lg(n){return!!n&&"arrayValue"in n}function cL(n){return!!n&&"nullValue"in n}function lL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uv(n){return!!n&&"mapValue"in n}function Ug(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ug(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ug(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cY(n){return"nullValue"in n?Vv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yl(wc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ee()}function lY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yl(wc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ic:Ee()}function fL(n,e){const t=Pc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dL(n,e){const t=Pc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ug(t)}setAll(e){let t=un.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,o),r={},o=[],t=a.popLast()}s?r[a.lastSegment()]=Ug(s):o.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,o)}delete(e){const t=this.field(e.popLast());Uv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Uv(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Cc(t,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new Or(Ug(this.value))}}function hL(n){const e=[];return Cc(n.fields,(t,r)=>{const o=new un([t]);if(Uv(r)){const i=hL(r.mapValue).fields;if(0===i.length)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new Ro(e)}class fn{constructor(e,t,r,o,i,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,Ne.min(),Ne.min(),Ne.min(),Or.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,Ne.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Ne.min(),Ne.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ne.min(),Ne.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,t){this.position=e,this.inclusive=t}}function pL(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const i=e[o],s=n.position[o];if(r=i.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),t.key):Pc(s,t.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function gL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!As(n.position[t],e.position[t]))return!1;return!0}class Bg{constructor(e,t="asc"){this.field=e,this.dir=t}}function uY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class mL{}class vt extends mL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new fY(e,t,r):"array-contains"===t?new pY(e,r):"in"===t?new EL(e,r):"not-in"===t?new gY(e,r):"array-contains-any"===t?new mY(e,r):new vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new dY(e,r):new hY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pc(t,this.value)):null!==t&&Tc(this.value)===Tc(t)&&this.matchesComparison(Pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ut extends mL{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ut(e,t)}matches(e){return md(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function md(n){return"and"===n.op}function wP(n){return"or"===n.op}function IP(n){return _L(n)&&md(n)}function _L(n){for(const e of n.filters)if(e instanceof Ut)return!1;return!0}function TP(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+gd(n.value);if(IP(n))return n.filters.map(e=>TP(e)).join(",");{const e=n.filters.map(t=>TP(t)).join(",");return`${n.op}(${e})`}}function yL(n,e){return n instanceof vt?(r=n,(o=e)instanceof vt&&r.op===o.op&&r.field.isEqual(o.field)&&As(r.value,o.value)):n instanceof Ut?function(r,o){return o instanceof Ut&&r.op===o.op&&r.filters.length===o.filters.length&&r.filters.reduce((i,s,a)=>i&&yL(s,o.filters[a]),!0)}(n,e):void Ee();var r,o}function bL(n,e){const t=n.filters.concat(e);return Ut.create(t,n.op)}function vL(n){return n instanceof vt?`${(t=n).field.canonicalString()} ${t.op} ${gd(t.value)}`:n instanceof Ut?function(t){return t.op.toString()+" {"+t.getFilters().map(vL).join(" ,")+"}"}(n):"Filter";var t}class fY extends vt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class dY extends vt{constructor(e,t){super(e,"in",t),this.keys=CL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hY extends vt{constructor(e,t){super(e,"not-in",t),this.keys=CL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class pY extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lg(t)&&Vg(t.arrayValue,this.value)}}class EL extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vg(this.value.arrayValue,t)}}class gY extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vg(this.value.arrayValue,t)}}class mY extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vg(this.value.arrayValue,r))}}class _Y{constructor(e,t=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function PP(n,e=null,t=[],r=[],o=null,i=null,s=null){return new _Y(n,e,t,r,o,i,s)}function Xl(n){const e=de(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>TP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gd(r)).join(",")),e.ce=t}return e.ce}function jg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gL(n.startAt,e.startAt)&&gL(n.endAt,e.endAt)}function Bv(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jv(n,e){return n.filters.filter(t=>t instanceof vt&&t.field.isEqual(e))}function wL(n,e,t){let r=Vv,o=!0;for(const i of jv(n,e)){let s=Vv,a=!0;switch(i.op){case"<":case"<=":s=cY(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,a=!1;break;case"!=":case"not-in":s=Vv}fL({value:r,inclusive:o},{value:s,inclusive:a})<0&&(r=s,o=a)}if(null!==t)for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const s=t.position[i];fL({value:r,inclusive:o},{value:s,inclusive:t.inclusive})<0&&(r=s,o=t.inclusive);break}return{value:r,inclusive:o}}function IL(n,e,t){let r=Ic,o=!0;for(const i of jv(n,e)){let s=Ic,a=!0;switch(i.op){case">=":case">":s=lY(i.value),a=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,a=!1;break;case"!=":case"not-in":s=Ic}dL({value:r,inclusive:o},{value:s,inclusive:a})>0&&(r=s,o=a)}if(null!==t)for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const s=t.position[i];dL({value:r,inclusive:o},{value:s,inclusive:t.inclusive})>0&&(r=s,o=t.inclusive);break}return{value:r,inclusive:o}}class ga{constructor(e,t=null,r=[],o=[],i=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function TL(n,e,t,r,o,i,s,a){return new ga(n,e,t,r,o,i,s,a)}function _d(n){return new ga(n)}function PL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function MP(n){return null!==n.collectionGroup}function yd(n){const e=de(n);if(null===e.le){e.le=[];const t=new Set;for(const i of e.explicitOrderBy)e.le.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ht(un.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.le.push(new Bg(i,r))}),t.has(un.keyField().canonicalString())||e.le.push(new Bg(un.keyField(),r))}return e.le}function yo(n){const e=de(n);return e.he||(e.he=function ML(n,e){if("F"===n.limitType)return PP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>new Bg(o.field,"desc"===o.dir?"asc":"desc"));const t=n.endAt?new Mc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mc(n.startAt.position,n.startAt.inclusive):null;return PP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,yd(n))),e.he}function DP(n,e){const t=n.filters.concat([e]);return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $v(n,e,t){return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $g(n,e){return jg(yo(n),yo(e))&&n.limitType===e.limitType}function DL(n){return`${Xl(yo(n))}|lt:${n.limitType}`}function bd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>vL(o)).join(", ")}]`),Ng(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>{return`${(s=o).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>gd(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>gd(o)).join(",")),`Target(${r})`}(yo(n))}; limitType=${n.limitType})`}function Hg(n,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,o){for(const i of yd(r))if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(n,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(n,e)&&(o=e,!((r=n).startAt&&!function(s,a,c){const u=pL(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,yd(r),o)||r.endAt&&!function(s,a,c){const u=pL(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,yd(r),o)));var r,o}function AL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OL(n){return(e,t)=>{let r=!1;for(const o of yd(n)){const i=yY(o,e,t);if(0!==i)return i;r=r||o.field.isKeyField()}return 0}}function yY(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(i,s,a){const c=s.data.field(i),u=a.data.field(i);return null!==c&&null!==u?Pc(c,u):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}class ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,i]of r)if(this.equalsFn(o,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cc(this.inner,(t,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return oL(this.inner)}size(){return this.innerSize}}const bY=new tn(pe.comparator);function xo(){return bY}const SL=new tn(pe.comparator);function zg(...n){let e=SL;for(const t of n)e=e.insert(t.key,t);return e}function RL(n){let e=SL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Os(){return qg()}function xL(){return qg()}function qg(){return new ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const vY=new tn(pe.comparator),CY=new Ht(pe.comparator);function ot(...n){let e=CY;for(const t of n)e=e.add(t);return e}const EY=new Ht(Ze);function AP(){return EY}function NL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function kL(n){return{integerValue:""+n}}function FL(n,e){return QV(e)?kL(e):NL(n,e)}class Hv{constructor(){this._=void 0}}function wY(n,e,t){return n instanceof vd?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&kv(i)&&(i=Fv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Jl?LL(n,e):n instanceof eu?UL(n,e):function(o,i){const s=VL(o,i),a=BL(s)+BL(o.Ie);return EP(s)&&EP(o.Ie)?kL(a):NL(o.serializer,a)}(n,e)}function IY(n,e,t){return n instanceof Jl?LL(n,e):n instanceof eu?UL(n,e):t}function VL(n,e){return n instanceof Cd?EP(r=e)||(i=r)&&"doubleValue"in i?e:{integerValue:0}:null;var r,i}class vd extends Hv{}class Jl extends Hv{constructor(e){super(),this.elements=e}}function LL(n,e){const t=jL(e);for(const r of n.elements)t.some(o=>As(o,r))||t.push(r);return{arrayValue:{values:t}}}class eu extends Hv{constructor(e){super(),this.elements=e}}function UL(n,e){let t=jL(e);for(const r of n.elements)t=t.filter(o=>!As(o,r));return{arrayValue:{values:t}}}class Cd extends Hv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function BL(n){return On(n.integerValue||n.doubleValue)}function jL(n){return Lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gg{constructor(e,t){this.field=e,this.transform=t}}class PY{constructor(e,t){this.version=e,this.transformResults=t}}class yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qv{}function $L(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wd(n.key,yn.none()):new Ed(n.key,n.data,yn.none());{const t=n.data,r=Or.empty();let o=new Ht(un.comparator);for(let i of e.fields)if(!o.has(i)){let s=t.field(i);null===s&&i.length>1&&(i=i.popLast(),s=t.field(i)),null===s?r.delete(i):r.set(i,s),o=o.add(i)}return new _a(n.key,r,new Ro(o.toArray()),yn.none())}}function MY(n,e,t){n instanceof Ed?function(o,i,s){const a=o.value.clone(),c=qL(o.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(o,i,s){if(!zv(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=qL(o.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(zL(o)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wg(n,e,t,r){return n instanceof Ed?function(i,s,a,c){if(!zv(i.precondition,s))return a;const u=i.value.clone(),d=GL(i.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof _a?function(i,s,a,c){if(!zv(i.precondition,s))return a;const u=GL(i.fieldTransforms,c,s),d=s.data;return d.setAll(zL(i)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,zv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function DY(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),i=VL(r.transform,o||null);null!=i&&(null===t&&(t=Or.empty()),t.set(r.field,i))}return t||null}function HL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===o||r&&o&&fd(r,o,(i,s)=>function TY(n,e){return n.field.isEqual(e.field)&&(o=e.transform,(r=n.transform)instanceof Jl&&o instanceof Jl||r instanceof eu&&o instanceof eu?fd(r.elements,o.elements,As):r instanceof Cd&&o instanceof Cd?As(r.Ie,o.Ie):r instanceof vd&&o instanceof vd);var r,o}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,o}class Ed extends qv{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _a extends qv{constructor(e,t,r,o,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qL(n,e,t){const r=new Map;xe(n.length===t.length);for(let o=0;o<t.length;o++){const i=n[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,IY(s,a,t[o]))}return r}function GL(n,e,t){const r=new Map;for(const o of n){const i=o.transform,s=t.data.field(o.field);r.set(o.field,wY(i,s,e))}return r}class wd extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OP extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SP{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&MY(i,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xL();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(o.key)?null:a;const c=$L(s,a);null!==c&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&fd(this.mutations,e.mutations,(t,r)=>HL(t,r))&&fd(this.baseMutations,e.baseMutations,(t,r)=>HL(t,r))}}class RP{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){xe(e.mutations.length===r.length);let o=vY;const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new RP(e,t,r,o)}}class xP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class OY{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gn,Dt;function WL(n){switch(n){default:return Ee();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function KL(n){if(void 0===n)return Vn("GRPC error has no .code"),L.UNKNOWN;switch(n){case Gn.OK:return L.OK;case Gn.CANCELLED:return L.CANCELLED;case Gn.UNKNOWN:return L.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return L.INTERNAL;case Gn.UNAVAILABLE:return L.UNAVAILABLE;case Gn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Gn.NOT_FOUND:return L.NOT_FOUND;case Gn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Gn.ABORTED:return L.ABORTED;case Gn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Gn.DATA_LOSS:return L.DATA_LOSS;default:return Ee()}}(Dt=Gn||(Gn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";function ZL(){return new TextEncoder}const SY=new cd([4294967295,4294967295],0);function QL(n){const e=ZL().encode(n),t=new IQ;return t.update(e),new Uint8Array(t.digest())}function YL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new cd([t,r],0),new cd([o,i],0)]}class NP{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Kg(`Invalid padding: ${t}`);if(r<0)throw new Kg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Kg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Kg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=cd.fromNumber(this.Te)}de(e,t,r){let o=e.add(t.multiply(cd.fromNumber(r)));return 1===o.compare(SY)&&(o=new cd([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=QL(e),[r,o]=YL(t);for(let i=0;i<this.hashCount;i++){const s=this.de(r,o,i);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new NP(i,o,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=QL(e),[r,o]=YL(t);for(let i=0;i<this.hashCount;i++){const s=this.de(r,o,i);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zg{constructor(e,t,r,o,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Qg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zg(Ne.min(),o,new tn(Ze),xo(),ot())}}class Qg{constructor(e,t,r,o,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qg(r,t,ot(),ot(),ot())}}class Wv{constructor(e,t,r,o){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=o}}class XL{constructor(e,t){this.targetId=e,this.fe=t}}class JL{constructor(e,t,r=cr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class eU{constructor(){this.ge=0,this.pe=nU(),this.ye=cr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),r=ot();return this.pe.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ee()}}),new Qg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=nU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class RY{constructor(e){this.Le=e,this.ke=new Map,this.qe=xo(),this.Qe=tU(),this.Ke=new tn(Ze)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.fe.count,o=this.Ye(t);if(o){const i=o.target;if(Bv(i))if(0===r){const s=new pe(i.path);this.We(t,s,fn.newNoDocument(s,Ne.min()))}else xe(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=t;let s,a;try{s=pa(r).toUint8Array()}catch(c){if(c instanceof sL)return So("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new NP(s,o,i)}catch(c){return So(c instanceof Kg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(i=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(t,i,null),o++)}),o}it(e){const t=new Map;this.ke.forEach((i,s)=>{const a=this.Ye(s);if(a){if(i.current&&Bv(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,fn.newNoDocument(c,e))}i.De&&(t.set(s,i.ve()),i.Fe())}});let r=ot();this.Qe.forEach((i,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,s)=>s.setReadTime(e));const o=new Zg(e,t,this.Ke,this.qe,r);return this.qe=xo(),this.Qe=tU(),this.Ke=new tn(Ze),o}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.st(e,t)?o.Me(t,1):o.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new eU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ht(Ze),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new eU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function tU(){return new tn(pe.comparator)}function nU(){return new tn(pe.comparator)}const xY={asc:"ASCENDING",desc:"DESCENDING"},NY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kY={and:"AND",or:"OR"};class FY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kP(n,e){return n.useProto3Json||Ng(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VY(n,e){return Id(n,e.toTimestamp())}function Ln(n){return xe(!!n),Ne.fromTimestamp(function(t){const r=Ec(t);return new _n(r.seconds,r.nanos)}(n))}function FP(n,e){return(r=n,new Mt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function oU(n){const e=Mt.fromString(n);return xe(hU(e)),e}function Yg(n,e){return FP(n.databaseId,e.path)}function Ss(n,e){const t=oU(e);if(t.get(1)!==n.databaseId.projectId)throw new re(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(sU(t))}function VP(n,e){return FP(n.databaseId,e)}function iU(n){const e=oU(n);return 4===e.length?Mt.emptyPath():sU(e)}function Xg(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sU(n){return xe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aU(n,e,t){return{name:Yg(n,e),fields:t.value.mapValue.fields}}function cU(n,e,t){const r=Ss(n,e.name),o=Ln(e.updateTime),i=e.createTime?Ln(e.createTime):Ne.min(),s=new Or({mapValue:{fields:e.fields}}),a=fn.newFoundDocument(r,o,i,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Jg(n,e){let t;if(e instanceof Ed)t={update:aU(n,e.key,e.value)};else if(e instanceof wd)t={delete:Yg(n,e.key)};else if(e instanceof _a)t={update:aU(n,e.key,e.data),updateMask:qY(e.fieldMask)};else{if(!(e instanceof OP))return Ee();t={verify:Yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:VY(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ee()),t;var i}function LP(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?yn.updateTime(Ln(i.updateTime)):void 0!==i.exists?yn.exists(i.exists):yn.none():yn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(s,a){let c=null;"setToServerValue"in a?(xe("REQUEST_TIME"===a.setToServerValue),c=new vd):"appendMissingElements"in a?c=new Jl(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new eu(a.removeAllFromArray.values||[]):"increment"in a?c=new Cd(s,a.increment):Ee();const u=un.fromServerFormat(a.fieldPath);return new Gg(u,c)}(n,o)):[];var i;if(e.update){const o=Ss(n,e.update.name),i=new Or({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Ro((e.updateMask.fieldPaths||[]).map(d=>un.fromServerFormat(d)));return new _a(o,i,s,t,r)}return new Ed(o,i,t,r)}if(e.delete){const o=Ss(n,e.delete);return new wd(o,t)}if(e.verify){const o=Ss(n,e.verify);return new OP(o,t)}return Ee()}function lU(n,e){return{documents:[VP(n,e.path)]}}function UP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=VP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(c){if(0!==c.length)return dU(Ut.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const i=function(c){if(0!==c.length)return c.map(u=>{return{field:Dc((g=u).field),direction:$Y(g.dir)};var g})}(e.orderBy);i&&(t.structuredQuery.orderBy=i);const s=kP(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function uU(n){let e=iU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){xe(1===r);const d=t.from[0];d.allDescendants?o=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(g){const m=fU(g);return m instanceof Ut&&IP(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(m=>{return new Bg(Td((v=m).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Ng(m)?null:m}(t.limit));let c=null;var g;t.startAt&&(c=new Mc((g=t.startAt).values||[],!!g.before));let u=null;return t.endAt&&(u=function(g){return new Mc(g.values||[],!g.before)}(t.endAt)),TL(e,o,s,i,a,"F",c,u)}function fU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Td(t.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Td(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Td(t.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Td(t.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):void 0!==n.fieldFilter?vt.create(Td((t=n).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ut.create(t.compositeFilter.filters.map(r=>fU(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee();var t}function $Y(n){return xY[n]}function HY(n){return NY[n]}function zY(n){return kY[n]}function Dc(n){return{fieldPath:n.canonicalString()}}function Td(n){return un.fromServerFormat(n.fieldPath)}function dU(n){return n instanceof vt?function(t){if("=="===t.op){if(lL(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NAN"}};if(cL(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(lL(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NAN"}};if(cL(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(t.field),op:HY(t.op),value:t.value}}}(n):n instanceof Ut?function(t){const r=t.getFilters().map(o=>dU(o));return 1===r.length?r[0]:{compositeFilter:{op:zY(t.op),filters:r}}}(n):Ee()}function qY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ya{constructor(e,t,r,o,i=Ne.min(),s=Ne.min(),a=cr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pU{constructor(e){this.ut=e}}function gU(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Yg(i=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Id(i,s.version.toTimestamp()),createTime:Id(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tu(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:tu(e.version)}}var i,s;return r}function Kv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nu(n){const e=new _n(n.seconds,n.nanoseconds);return Ne.fromTimestamp(e)}function ru(n,e){const t=(e.baseMutations||[]).map(i=>LP(n.ut,i));for(let i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);const r=e.mutations.map(i=>LP(n.ut,i)),o=_n.fromMillis(e.localWriteTimeMs);return new SP(e.batchId,o,t,r)}function em(n){const e=nu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nu(n.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=void 0!==n.query.documents?(xe(1===(i=n.query).documents.length),yo(_d(iU(i.documents[0])))):function(i){return yo(uU(i))}(n.query),new ya(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,cr.fromBase64String(n.resumeToken));var i}function mU(n,e){const t=tu(e.snapshotVersion),r=tu(e.lastLimboFreeSnapshotVersion);let o;o=Bv(e.target)?lU(n.ut,e.target):UP(n.ut,e.target);const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xl(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function BP(n){const e=uU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$v(e,e.limit,"L"):e}function jP(n,e){return new xP(e.largestBatchId,LP(n.ut,e.overlayMutation))}function _U(n,e){const t=e.path.lastSegment();return[n,Kr(e.path.popLast()),t]}function yU(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tu(r.readTime),documentKey:Kr(r.documentKey.path),largestBatchId:r.largestBatchId}}class WY{getBundleMetadata(e,t){return bU(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:nu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return bU(e).put({bundleId:(o=t).id,createTime:tu(Ln(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return vU(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:BP(i.bundledQuery),readTime:nu(i.readTime)};var i})}saveNamedQuery(e,t){return vU(e).put({name:(o=t).name,readTime:tu(Ln(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bU(n){return yr(n,"bundles")}function vU(n){return yr(n,"namedQueries")}class Zv{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Zv(e,t.uid||"")}getOverlay(e,t){return tm(e).get(_U(this.userId,t)).next(r=>r?jP(this.serializer,r):null)}getOverlays(e,t){const r=Os();return k.forEach(t,o=>this.getOverlay(e,o).next(i=>{null!==i&&r.set(o,i)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((i,s)=>{const a=new xP(t,s);o.push(this.lt(e,a))}),k.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(s=>o.add(Kr(s.getCollectionPath())));const i=[];return o.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);i.push(tm(e).H("collectionPathOverlayIndex",a))}),k.waitFor(i)}getOverlaysForCollection(e,t,r){const o=Os(),i=Kr(t),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return tm(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const u=jP(this.serializer,c);o.set(u.getKey(),u)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const i=Os();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tm(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{const g=jP(this.serializer,u);i.size()<o||g.largestBatchId===s?(i.set(g.getKey(),g),s=g.largestBatchId):d.done()}).next(()=>i)}lt(e,t){return tm(e).put(function(o,i,s){const[a,c,u]=_U(i,s.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Jg(o.ut,s.mutation)}}(this.serializer,this.userId,t))}}function tm(n){return yr(n,"documentOverlays")}class ou{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(On(e.integerValue));else if("doubleValue"in e){const r=On(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),kg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(pa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?uL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ee()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const o of Object.keys(r))this.At(o,t),this.Pt(r[o],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const o of r)this.Pt(o,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function KY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function CU(n){const e=64-function(r){let o=0;for(let i=0;i<8;++i){const s=KY(255&r[i]);if(o+=s,8!==s)break}return o}(n);return Math.ceil(e/8)}ou.St=new ou;class ZY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const o=t.codePointAt(0);this.Dt(240|o>>>18),this.Dt(128|63&o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const o=t.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Nt(e){const t=this.Bt(e),r=CU(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}kt(e){const t=this.Bt(e),r=CU(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class QY{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class YY{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class nm{constructor(){this.Wt=new ZY,this.Gt=new QY(this.Wt),this.zt=new YY(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class iu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new iu(this.indexId,this.documentKey,this.arrayValue,r)}}function Ac(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=EU(n.arrayValue,e.arrayValue),0!==t?t:(t=EU(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function EU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class wU{constructor(e){this.Jt=new Ht((t,r)=>un.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(xe(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=mP(e);if(void 0!==t&&!this.tn(t))return!1;const r=Kl(e);let o=new Set,i=0,s=0;for(;i<r.length&&this.tn(r[i]);++i)o=o.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!o.has(a.field.canonicalString())){const c=r[i];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++i}for(;i<r.length;++i)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[i]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Ht(un.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Zl(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Zl(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Zl(r.field,"asc"===r.dir?0:1)));return new dd(dd.UNKNOWN_ID,this.collectionId,t,hd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function IU(n){var e,t;if(xe(n instanceof vt||n instanceof Ut),n instanceof vt){if(n instanceof EL){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(i=>vt.create(n.field,"==",i)))||[];return Ut.create(o,"or")}return n}const r=n.filters.map(o=>IU(o));return Ut.create(r,n.op)}function XY(n){if(0===n.getFilters().length)return[];const e=zP(IU(n));return xe(TU(e)),$P(e)||HP(e)?[e]:e.getFilters()}function $P(n){return n instanceof vt}function HP(n){return n instanceof Ut&&IP(n)}function TU(n){return $P(n)||HP(n)||function(t){if(t instanceof Ut&&wP(t)){for(const r of t.getFilters())if(!$P(r)&&!HP(r))return!1;return!0}return!1}(n)}function zP(n){if(xe(n instanceof vt||n instanceof Ut),n instanceof vt)return n;if(1===n.filters.length)return zP(n.filters[0]);const e=n.filters.map(r=>zP(r));let t=Ut.create(e,n.op);return t=Qv(t),TU(t)?t:(xe(t instanceof Ut),xe(md(t)),xe(t.filters.length>1),t.filters.reduce((r,o)=>qP(r,o)))}function qP(n,e){let t;return xe(n instanceof vt||n instanceof Ut),xe(e instanceof vt||e instanceof Ut),t=n instanceof vt?e instanceof vt?Ut.create([n,e],"and"):PU(n,e):e instanceof vt?PU(e,n):function(o,i){if(xe(o.filters.length>0&&i.filters.length>0),md(o)&&md(i))return bL(o,i.getFilters());const s=wP(o)?o:i,a=wP(o)?i:o,c=s.filters.map(u=>qP(u,a));return Ut.create(c,"or")}(n,e),Qv(t)}function PU(n,e){if(md(e))return bL(e,n.getFilters());{const t=e.filters.map(r=>qP(n,r));return Ut.create(t,"or")}}function Qv(n){if(xe(n instanceof vt||n instanceof Ut),n instanceof vt)return n;const e=n.getFilters();if(1===e.length)return Qv(e[0]);if(_L(n))return n;const t=e.map(o=>Qv(o)),r=[];return t.forEach(o=>{o instanceof vt?r.push(o):o instanceof Ut&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Ut.create(r,n.op)}class JY{constructor(){this.on=new GP}addToCollectionParentIndex(e,t){return this.on.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(qo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(qo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}}class GP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ht(Mt.comparator),i=!o.has(r);return this.index[t]=o.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ht(Mt.comparator)).toArray()}}const Yv=new Uint8Array(0);class eX{constructor(e,t){this.user=e,this.databaseId=t,this._n=new GP,this.an=new ma(r=>Xl(r),(r,o)=>jg(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const i={collectionId:r,parent:Kr(o)};return MU(e).put(i)}return k.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[zV(t),""],!1,!0);return MU(e).W(o).next(i=>{for(const s of i){if(s.collectionId!==t)break;r.push(Ds(s.parent))}return r})}addFieldIndex(e,t){const r=rm(e),o={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete o.indexId;const i=r.add(o);if(t.indexState){const s=Md(e);return i.next(a=>{s.put(yU(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const r=rm(e),o=Md(e),i=Pd(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rm(e),r=Pd(e),o=Md(e);return t.H().next(()=>r.H()).next(()=>o.H())}createTargetIndexes(e,t){return k.forEach(this.un(t),r=>this.getIndexType(e,r).next(o=>{if(0===o||1===o){const i=new wU(r).sn();if(null!=i)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,t){const r=Pd(e);let o=!0;const i=new Map;return k.forEach(this.un(t),s=>this.cn(e,s).next(a=>{o&&(o=!!a),i.set(s,a)})).next(()=>{if(o){let s=ot();const a=[];return k.forEach(i,(c,u)=>{var S;se("IndexedDbIndexManager",`Using index ${S=c,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`} to execute ${Xl(t)}`);const d=function(S,U){const ce=mP(U);if(void 0===ce)return null;for(const De of jv(S,ce.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(u,c),g=function(S,U){const ce=new Map;for(const De of Kl(U))for(const Be of jv(S,De.fieldPath))switch(Be.op){case"==":case"in":ce.set(De.fieldPath.canonicalString(),Be.value);break;case"not-in":case"!=":return ce.set(De.fieldPath.canonicalString(),Be.value),Array.from(ce.values())}return null}(u,c),m=function(S,U){const ce=[];let De=!0;for(const Be of Kl(U)){const Ct=0===Be.kind?wL(S,Be.fieldPath,S.startAt):IL(S,Be.fieldPath,S.startAt);ce.push(Ct.value),De&&(De=Ct.inclusive)}return new Mc(ce,De)}(u,c),y=function(S,U){const ce=[];let De=!0;for(const Be of Kl(U)){const Ct=0===Be.kind?IL(S,Be.fieldPath,S.endAt):wL(S,Be.fieldPath,S.endAt);ce.push(Ct.value),De&&(De=Ct.inclusive)}return new Mc(ce,De)}(u,c),v=this.ln(c,u,m),C=this.ln(c,u,y),w=this.hn(c,u,g),O=this.Pn(c.indexId,d,v,m.inclusive,C,y.inclusive,w);return k.forEach(O,D=>r.j(D,t.limit).next(S=>{S.forEach(U=>{const ce=pe.fromSegments(U.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return k.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:XY(Ut.create(e.filters,"and")).map(r=>PP(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,o,i,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,i.length),u=c/(null!=t?t.length:1),d=[];for(let g=0;g<c;++g){const m=t?this.In(t[g/u]):Yv,y=this.Tn(e,m,r[g%u],o),v=this.En(e,m,i[g%u],s),C=a.map(w=>this.Tn(e,m,w,!0));d.push(...this.createRange(y,v,C))}return d}Tn(e,t,r,o){const i=new iu(e,pe.empty(),t,r);return o?i:i.Ht()}En(e,t,r,o){const i=new iu(e,pe.empty(),t,r);return o?i.Ht():i}cn(e,t){const r=new wU(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(i=>{let s=null;for(const a of i)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const o=this.un(t);return k.forEach(o,i=>this.cn(e,i).next(s=>{s?0!==r&&s.fields.length<function(c){let u=new Ht(un.comparator),d=!1;for(const g of c.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?d=!0:u=u.add(m.field));for(const g of c.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}dn(e,t){const r=new nm;for(const o of Kl(e)){const i=t.data.field(o.fieldPath);if(null==i)return null;const s=r.jt(o.kind);ou.St.ht(i,s)}return r.Ut()}In(e){const t=new nm;return ou.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new nm;return ou.St.ht(Yl(this.databaseId,t),r.jt(function(i){const s=Kl(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let o=[];o.push(new nm);let i=0;for(const s of Kl(e)){const a=r[i++];for(const c of o)if(this.Rn(t,s.fieldPath)&&Lg(a))o=this.Vn(o,s,a);else{const u=c.jt(s.kind);ou.St.ht(a,u)}}return this.mn(o)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const o=[...e],i=[];for(const s of r.arrayValue.values||[])for(const a of o){const c=new nm;c.seed(a.Ut()),ou.St.ht(s,c.jt(t.kind)),i.push(c)}return i}Rn(e,t){return!!e.filters.find(r=>r instanceof vt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=rm(e),o=Md(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(i=>{const s=[];return k.forEach(i,a=>o.get([a.indexId,this.uid]).next(c=>{s.push(function(d,g){const m=g?new hd(g.sequenceNumber,new qo(nu(g.readTime),new pe(Ds(g.documentKey)),g.largestBatchId)):hd.empty(),y=d.fields.map(([v,C])=>new Zl(un.fromServerFormat(v),C));return new dd(d.indexId,d.collectionGroup,y,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const i=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==i?i:Ze(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=rm(e),i=Md(e);return this.fn(e).next(s=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>k.forEach(a,c=>i.put(yU(c.indexId,this.user,s,r)))))}updateIndexEntries(e,t){const r=new Map;return k.forEach(t,(o,i)=>{const s=r.get(o.collectionGroup);return(s?k.resolve(s):this.getFieldIndexes(e,o.collectionGroup)).next(a=>(r.set(o.collectionGroup,a),k.forEach(a,c=>this.gn(e,o,c).next(u=>{const d=this.pn(i,c);return u.isEqual(d)?k.resolve():this.yn(e,i,c,u,d)}))))})}wn(e,t,r,o){return Pd(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,o){return Pd(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const o=Pd(e);let i=new Ht(Ac);return o.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(s,a)=>{i=i.add(new iu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>i)}pn(e,t){let r=new Ht(Ac);const o=this.dn(t,e);if(null==o)return r;const i=mP(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Lg(s))for(const a of s.arrayValue.values||[])r=r.add(new iu(t.indexId,e.key,this.In(a),o))}else r=r.add(new iu(t.indexId,e.key,Yv,o));return r}yn(e,t,r,o,i){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,u,d,g,m){const y=c.getIterator(),v=u.getIterator();let C=pd(y),w=pd(v);for(;C||w;){let O=!1,D=!1;if(C&&w){const S=d(C,w);S<0?D=!0:S>0&&(O=!0)}else null!=C?D=!0:O=!0;O?(g(w),w=pd(v)):D?(m(C),C=pd(y)):(C=pd(y),w=pd(v))}}(o,i,Ac,a=>{s.push(this.wn(e,t,r,a))},a=>{s.push(this.Sn(e,t,r,a))}),k.waitFor(s)}fn(e){let t=1;return Md(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,i)=>{i.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Ac(s,a)).filter((s,a,c)=>!a||0!==Ac(s,c[a-1]));const o=[];o.push(e);for(const s of r){const a=Ac(s,e),c=Ac(s,t);if(0===a)o[0]=e.Ht();else if(a>0&&c<0)o.push(s),o.push(s.Ht());else if(c>0)break}o.push(t);const i=[];for(let s=0;s<o.length;s+=2){if(this.bn(o[s],o[s+1]))return[];i.push(IDBKeyRange.bound([o[s].indexId,this.uid,o[s].arrayValue,o[s].directionalValue,Yv,[]],[o[s+1].indexId,this.uid,o[s+1].arrayValue,o[s+1].directionalValue,Yv,[]]))}return i}bn(e,t){return Ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DU)}getMinOffset(e,t){return k.mapArray(this.un(t),r=>this.cn(e,r).next(o=>o||Ee())).next(DU)}}function MU(n){return yr(n,"collectionParents")}function Pd(n){return yr(n,"indexEntries")}function rm(n){return yr(n,"indexConfiguration")}function Md(n){return yr(n,"indexState")}function DU(n){xe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;_P(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new qo(e.readTime,e.documentKey,t)}const AU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function OU(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),i=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.Y({range:s},(d,g,m)=>(a++,m.delete()));i.push(c.next(()=>{xe(1===a)}));const u=[];for(const d of t.mutations){const g=JV(e,d.key.path,t.batchId);i.push(o.delete(g)),u.push(d.key)}return k.waitFor(i).next(()=>u)}function Xv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class Jv{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Dn={}}static ct(e,t,r,o){xe(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Jv(i,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oc(e).Y({index:"userMutationsIndex",range:r},(o,i,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const i=Dd(e),s=Oc(e);return s.add({}).next(a=>{xe("number"==typeof a);const c=new SP(a,t,r,o),u=function(y,v,C){const w=C.baseMutations.map(D=>Jg(y.ut,D)),O=C.mutations.map(D=>Jg(y.ut,D));return{userId:v,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:w,mutations:O}}(this.serializer,this.userId,c),d=[];let g=new Ht((m,y)=>Ze(m.canonicalString(),y.canonicalString()));for(const m of o){const y=JV(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),d.push(s.put(u)),d.push(i.put(y,$Q))}return g.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),k.waitFor(d).next(()=>c)})}lookupMutationBatch(e,t){return Oc(e).get(t).next(r=>r?(xe(r.userId===this.userId),ru(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?k.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Dn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Oc(e).Y({index:"userMutationsIndex",range:o},(s,a,c)=>{a.userId===this.userId&&(xe(a.batchId>=r),i=ru(this.serializer,a)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Oc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(o,i,s)=>{r=i.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oc(e).W("userMutationsIndex",t).next(r=>r.map(o=>ru(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xv(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return Dd(e).Y({range:o},(s,a,c)=>{const[u,d,g]=s,m=Ds(d);if(u===this.userId&&t.path.isEqual(m))return Oc(e).get(g).next(y=>{if(!y)throw Ee();xe(y.userId===this.userId),i.push(ru(this.serializer,y))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Ze);const o=[];return t.forEach(i=>{const s=xv(this.userId,i.path),a=IDBKeyRange.lowerBound(s),c=Dd(e).Y({range:a},(u,d,g)=>{const[m,y,v]=u,C=Ds(y);m===this.userId&&i.path.isEqual(C)?r=r.add(v):g.done()});o.push(c)}),k.waitFor(o).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,i=xv(this.userId,r),s=IDBKeyRange.lowerBound(i);let a=new Ht(Ze);return Dd(e).Y({range:s},(c,u,d)=>{const[g,m,y]=c,v=Ds(m);g===this.userId&&r.isPrefixOf(v)?v.length===o&&(a=a.add(y)):d.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],o=[];return t.forEach(i=>{o.push(Oc(e).get(i).next(s=>{if(null===s)throw Ee();xe(s.userId===this.userId),r.push(ru(this.serializer,s))}))}),k.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return OU(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),k.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return k.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Dd(e).Y({range:r},(i,s,a)=>{if(i[0]===this.userId){const c=Ds(i[1]);o.push(c)}else a.done()}).next(()=>{xe(0===o.length)})})}containsKey(e,t){return SU(e,this.userId,t)}Mn(e){return RU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SU(n,e,t){const r=xv(e,t.path),o=r[1],i=IDBKeyRange.lowerBound(r);let s=!1;return Dd(n).Y({range:i,J:!0},(a,c,u)=>{const[d,g,m]=a;d===e&&g===o&&(s=!0),u.done()}).next(()=>s)}function Oc(n){return yr(n,"mutations")}function Dd(n){return yr(n,"documentMutations")}function RU(n){return yr(n,"mutationQueues")}class su{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new su(0)}static Nn(){return new su(-1)}}class tX{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new su(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Ne.fromTimestamp(new _n(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Ln(e,o)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ad(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(xe(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let o=0;const i=[];return Ad(e).Y((s,a)=>{const c=em(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(o++,i.push(this.removeTargetData(e,c)))}).next(()=>k.waitFor(i)).next(()=>o)}forEachTarget(e,t){return Ad(e).Y((r,o)=>{const i=em(o);t(i)})}Bn(e){return xU(e).get("targetGlobalKey").next(t=>(xe(null!==t),t))}Ln(e,t){return xU(e).put("targetGlobalKey",t)}kn(e,t){return Ad(e).put(mU(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ad(e).Y({range:o,index:"queryTargetsIndex"},(s,a,c)=>{const u=em(a);jg(t,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,t,r){const o=[],i=Sc(e);return t.forEach(s=>{const a=Kr(s.path);o.push(i.put({targetId:r,path:a})),o.push(this.referenceDelegate.addReference(e,r,s))}),k.waitFor(o)}removeMatchingKeys(e,t,r){const o=Sc(e);return k.forEach(t,i=>{const s=Kr(i.path);return k.waitFor([o.delete([r,s]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,t){const r=Sc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Sc(e);let i=ot();return o.Y({range:r,J:!0},(s,a,c)=>{const u=Ds(s[1]),d=new pe(u);i=i.add(d)}).next(()=>i)}containsKey(e,t){const r=Kr(t.path),o=IDBKeyRange.bound([r],[zV(r)],!1,!0);let i=0;return Sc(e).Y({index:"documentTargetsIndex",J:!0,range:o},([s,a],c,u)=>{0!==s&&(i++,u.done())}).next(()=>i>0)}_t(e,t){return Ad(e).get(t).next(r=>r?em(r):null)}}function Ad(n){return yr(n,"targets")}function xU(n){return yr(n,"targetGlobal")}function Sc(n){return yr(n,"targetDocuments")}function NU([n,e],[t,r]){const o=Ze(n,t);return 0===o?Ze(e,r):o}class nX{constructor(e){this.Qn=e,this.buffer=new Ht(NU),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Q.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){vc(r)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield bc(r)}yield t.Gn(3e5)}))}}class rX{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return k.resolve(Go._e);const r=new nX(t);return this.zn.forEachTarget(e,o=>r.Un(o.sequenceNumber)).next(()=>this.zn.Hn(e,o=>r.Un(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(AU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AU):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,o,i,s,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,s=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),ud()<=Is.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${o} in `+(a-s)+`ms\n\tRemoved ${i} targets in `+(c-a)+`ms\n\tRemoved ${g} documents in `+(u-c)+`ms\nTotal Duration: ${u-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:i,documentsRemoved:g})))}}class oX{constructor(e,t){this.db=e,this.garbageCollector=function FU(n,e){return new rX(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,o)=>t(o))}addReference(e,t,r){return eC(e,r)}removeReference(e,t,r){return eC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return eC(e,t)}Xn(e,t){return function(o,i){let s=!1;return RU(o).Z(a=>SU(o,a,i).next(c=>(c&&(s=!0),k.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let i=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(u=>{if(!u)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ne.min()),Sc(e).delete([0,Kr(s.path)])))});o.push(c)}}).next(()=>k.waitFor(o)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return eC(e,t)}Zn(e,t){const r=Sc(e);let o,i=Go._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{0===s?(i!==Go._e&&t(new pe(Ds(o)),i),i=u,o=c):i=Go._e}).next(()=>{i!==Go._e&&t(new pe(Ds(o)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eC(n,e){return Sc(n).put((o=n.currentSequenceNumber,{targetId:0,path:Kr(e.path),sequenceNumber:o}));var o}class VU{constructor(){this.changes=new ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return au(e).put(r)}removeEntry(e,t,r){return au(e).delete(function(i,s){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Kv(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=fn.newInvalidDocument(t);return au(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(o,i)=>{r=this.tr(t,i)}).next(()=>r)}nr(e,t){let r={size:0,document:fn.newInvalidDocument(t)};return au(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(o,i)=>{r={document:this.tr(t,i),size:Xv(i)}}).next(()=>r)}getEntries(e,t){let r=xo();return this.rr(e,t,(o,i)=>{const s=this.tr(o,i);r=r.insert(o,s)}).next(()=>r)}ir(e,t){let r=xo(),o=new tn(pe.comparator);return this.rr(e,t,(i,s)=>{const a=this.tr(i,s);r=r.insert(i,a),o=o.insert(i,Xv(s))}).next(()=>({documents:r,sr:o}))}rr(e,t,r){if(t.isEmpty())return k.resolve();let o=new Ht(jU);t.forEach(c=>o=o.add(c));const i=IDBKeyRange.bound(om(o.first()),om(o.last())),s=o.getIterator();let a=s.getNext();return au(e).Y({index:"documentKeyIndex",range:i},(c,u,d)=>{const g=pe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&jU(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.U(om(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,o,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Kv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return au(e).W(IDBKeyRange.bound(a,c,!0)).next(u=>{i?.incrementDocumentReadCount(u.length);let d=xo();for(const g of u){const m=this.tr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(Hg(t,m)||o.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,r,o){let i=xo();const s=BU(t,r),a=BU(t,qo.max());return au(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,d)=>{const g=this.tr(pe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(g.key,g),i.size===o&&d.done()}).next(()=>i)}newChangeBuffer(e){return new sX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return UU(e).get("remoteDocumentGlobalKey").next(t=>(xe(!!t),t))}er(e,t){return UU(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function GY(n,e){let t;if(e.document)t=cU(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),o=nu(e.noDocument.readTime);t=fn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=pe.fromSegments(e.unknownDocument.path),o=nu(e.unknownDocument.version);t=fn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(o){const i=new _n(o[0],o[1]);return Ne.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ne.min()))return r}return fn.newInvalidDocument(e)}}function LU(n){return new iX(n)}class sX extends VU{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ma(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Ht((i,s)=>Ze(i.canonicalString(),s.canonicalString()));return this.changes.forEach((i,s)=>{const a=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,a.readTime)),s.isValidDocument()){const c=gU(this._r.serializer,s);o=o.add(i.path.popLast());const u=Xv(c);r+=u-a.size,t.push(this._r.addEntry(e,i,c))}else if(r-=a.size,this.trackRemovals){const c=gU(this._r.serializer,s.convertToNoDocument(Ne.min()));t.push(this._r.addEntry(e,i,c))}}),o.forEach(i=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,i))}),t.push(this._r.updateMetadata(e,r)),k.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:o})=>(o.forEach((i,s)=>{this.ar.set(i,{size:s,readTime:r.get(i).readTime})}),r))}}function UU(n){return yr(n,"remoteDocumentGlobal")}function au(n){return yr(n,"remoteDocumentsV14")}function om(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BU(n,e){const t=e.documentKey.path.toArray();return[n,Kv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jU(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(o=Ze(t[i],r[i]),o)return o;return o=Ze(t.length,r.length),o||(o=Ze(t[t.length-2],r[r.length-2]),o||Ze(t[t.length-1],r[r.length-1]))}class aX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $U{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Wg(r.mutation,o,Ro.empty(),_n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ot()){const o=Os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(i=>{let s=zg();return i.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Os();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ot()))}populateOverlays(e,t,r){const o=[];return r.forEach(i=>{t.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,o){let i=xo();const s=qg(),a=qg();return t.forEach((c,u)=>{const d=r.get(u.key);o.has(u.key)&&(void 0===d||d.mutation instanceof _a)?i=i.insert(u.key,u):void 0!==d?(s.set(u.key,d.mutation.getFieldMask()),Wg(d.mutation,u,d.mutation.getFieldMask(),_n.now())):s.set(u.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var g;return a.set(u,new aX(d,null!==(g=s.get(u))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=qg();let o=new tn((s,a)=>s-a),i=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let d=r.get(c)||Ro.empty();d=a.applyToLocalView(u,d),r.set(c,d);const g=(o.get(a.batchId)||ot()).add(c);o=o.insert(a.batchId,g)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,g=xL();d.forEach(m=>{if(!i.has(m)){const y=$L(t.get(m),r.get(m));null!==y&&g.set(m,y),i=i.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):MP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o);var s}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-i.size):k.resolve(Os());let a=-1,c=i;return s.next(u=>k.forEach(u,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),i.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ot())).next(d=>({batchId:a,changes:RL(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let o=zg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const i=t.collectionGroup;let s=zg();return this.indexManager.getCollectionParents(e,i).next(a=>k.forEach(a,c=>{const u=(g=t,m=c.child(i),new ga(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,o).next(d=>{d.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,o))).next(s=>{i.forEach((c,u)=>{const d=u.getKey();null===s.get(d)&&(s=s.insert(d,fn.newInvalidDocument(d)))});let a=zg();return s.forEach((c,u)=>{const d=i.get(c);void 0!==d&&Wg(d.mutation,u,Ro.empty(),_n.now()),Hg(t,u)&&(a=a.insert(c,u))}),a})}}class cX{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return k.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(o=t).id,version:o.version,createTime:Ln(o.createTime)}),k.resolve();var o}getNamedQuery(e,t){return k.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(o=t).name,query:BP(o.bundledQuery),readTime:Ln(o.readTime)}),k.resolve();var o}}class lX{constructor(){this.overlays=new tn(pe.comparator),this.lr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Os();return k.forEach(t,o=>this.getOverlay(e,o).next(i=>{null!==i&&r.set(o,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,i)=>{this.lt(e,t,i)}),k.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.lr.get(r);return void 0!==o&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){const o=Os(),i=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return k.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let i=new tn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);null===d&&(d=Os(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Os(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=o)););return k.resolve(a)}lt(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const s=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xP(t,r));let i=this.lr.get(t);void 0===i&&(i=ot(),this.lr.set(t,i)),this.lr.set(t,i.add(r.key))}}class WP{constructor(){this.hr=new Ht(br.Pr),this.Ir=new Ht(br.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new br(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new br(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new pe(new Mt([])),r=new br(t,e),o=new br(t,e+1),i=[];return this.Ir.forEachInRange([r,o],s=>{this.dr(s),i.push(s.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new Mt([])),r=new br(t,e),o=new br(t,e+1);let i=ot();return this.Ir.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const t=new br(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class br{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Ze(e.gr,t.gr)}static Tr(e,t){return Ze(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class uX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ht(br.Pr)}checkEmpty(e){return k.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const i=this.pr;this.pr++;const s=new SP(i,t,r,o);this.mutationQueue.push(s);for(const a of o)this.yr=this.yr.add(new br(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Sr(t+1),i=o<0?0:o;return k.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new br(t,0),o=new br(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,o],s=>{const a=this.wr(s.gr);i.push(a)}),k.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Ze);return t.forEach(o=>{const i=new br(o,0),s=new br(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,s],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const s=new br(new pe(i),0);let a=new Ht(Ze);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(c.gr)),!0)},s),k.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const o=this.wr(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){xe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return k.forEach(t.mutations,o=>{const i=new br(o.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new br(t,0),o=this.yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return k.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fX{constructor(e){this.Cr=e,this.docs=new tn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=xo();return t.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():fn.newInvalidDocument(o))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let i=xo();const s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||_P(GV(d),r)<=0||(o.has(d.key)||Hg(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return k.resolve(i)}getAllFromCollectionGroup(e,t,r,o){Ee()}vr(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dX(this)}getSize(e){return k.resolve(this.size)}}class dX extends VU{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this._r.addEntry(e,o)):this._r.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class hX{constructor(e){this.persistence=e,this.Fr=new ma(t=>Xl(t),jg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new WP,this.targetCount=0,this.Nr=su.On()}forEachTarget(e,t){return this.Fr.forEach((r,o)=>t(o)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),k.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new su(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.kn(t),k.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let o=0;const i=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),k.waitFor(i).next(()=>o)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const o=this.persistence.referenceDelegate,i=[];return o&&t.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),k.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),k.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Or.containsKey(t))}}class KP{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Go(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new hX(this),this.indexManager=new JY,this.remoteDocumentCache=new fX(r=>this.referenceDelegate.Qr(r)),this.serializer=new pU(t),this.Kr=new cX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new uX(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);const o=new pX(this.Lr.next());return this.referenceDelegate.$r(),r(o).next(i=>this.referenceDelegate.Ur(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Wr(e,t){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class pX extends KV{constructor(e){super(),this.currentSequenceNumber=e}}class tC{constructor(e){this.persistence=e,this.Gr=new WP,this.zr=null}static jr(e){return new tC(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const o=pe.fromPath(r);return this.Jr(e,o).next(i=>{i||t.removeEntry(o,Ne.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return k.or([()=>k.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class gX{constructor(e){this.serializer=e}N(e,t,r,o){const i=new Rv("createOrUpgrade",t);var c;r<1&&o>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0}),c.createObjectStore("documentMutations"),HU(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=k.resolve();return r<3&&o>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),HU(e)),s=s.next(()=>function(c){const u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(i))),r<4&&o>=4&&(0!==r&&(s=s.next(()=>function(c,u){return u.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0});const g=u.store("mutations"),m=d.map(y=>g.put(y));return k.waitFor(m)})}(e,i))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(s=s.next(()=>this.Zr(i))),r<6&&o>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i)))),r<7&&o>=7&&(s=s.next(()=>this.ei(i))),r<8&&o>=8&&(s=s.next(()=>this.ti(e,i))),r<9&&o>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(s=s.next(()=>this.ni(i))),r<11&&o>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(s=s.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:eY});u.createIndex("collectionPathOverlayIndex",tY,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",nY,{unique:!1})}(e)})),r<13&&o>=13&&(s=s.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:HQ});u.createIndex("documentKeyIndex",zQ),u.createIndex("collectionGroupIndex",qQ)}(e)).next(()=>this.ri(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(s=s.next(()=>this.ii(e,i))),r<15&&o>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:QQ}).createIndex("sequenceNumberIndex",YQ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:XQ}).createIndex("documentKeyIndex",JQ,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,o)=>{t+=Xv(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>k.forEach(o,i=>{const s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>k.forEach(a,c=>{xe(c.userId===i.userId);const u=ru(this.serializer,c);return OU(e,i.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const i=[];return r.Y((s,a)=>{const c=new Mt(s),u=[0,Kr(c)];i.push(t.get(u).next(d=>d?k.resolve():t.put({targetId:0,path:Kr(c),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>k.waitFor(i))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ZQ});const r=t.store("collectionParents"),o=new GP,i=s=>{if(o.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Kr(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Mt(s);return i(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],u)=>{const d=Ds(a);return i(d.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,o)=>{const i=em(o),s=mU(this.serializer,i);return t.put(s)})}ri(e,t){const r=t.store("remoteDocuments"),o=[];return r.Y((i,s)=>{const a=t.store("remoteDocumentsV14"),c=(g=s,g.document?new pe(Mt.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):Ee()).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;o.push(a.put(u))}).next(()=>k.waitFor(o))}ii(e,t){const r=t.store("mutations"),o=LU(this.serializer),i=new KP(tC.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var u;let d=null!==(u=a.get(c.userId))&&void 0!==u?u:ot();ru(this.serializer,c).keys().forEach(g=>d=d.add(g)),a.set(c.userId,d)}),k.forEach(a,(c,u)=>{const d=new _r(u),g=Zv.ct(this.serializer,d),m=i.getIndexManager(d),y=Jv.ct(d,this.serializer,m,i.referenceDelegate);return new $U(o,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new vP(t,Go._e),c).next()})})}}function HU(n){n.createObjectStore("targetDocuments",{keyPath:WQ}).createIndex("documentTargetsIndex",KQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GQ,{unique:!0}),n.createObjectStore("targetGlobal")}const ZP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QP{constructor(e,t,r,o,i,s,a,c,u,d,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=i,this.window=s,this.document=a,this.oi=u,this._i=d,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!QP.D())throw new re(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oX(this,o),this.Ii=t+"main",this.serializer=new pU(c),this.Ti=new zi(this.Ii,this.ai,new gX(this.serializer)),this.qr=new tX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LU(this.serializer),this.Kr=new WY,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===d&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(L.FAILED_PRECONDITION,ZP);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Go(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,Q.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Q.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(vc(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return im(e).get("owner").next(t=>k.resolve(this.wi(t)))}Si(e){return rC(e).delete(this.clientId)}bi(){var e=this;return(0,Q.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=yr(r,"clientMetadata");return o.W().next(i=>{const s=e.Ci(i,18e5),a=i.filter(c=>-1===s.indexOf(c));return k.forEach(a,c=>o.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?k.resolve(!0):im(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re(L.FAILED_PRECONDITION,ZP);return!1}}return!(!this.networkEnabled||!this.inForeground)||rC(e).W().next(r=>void 0===this.Ci(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Q.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vP(t,Go._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>rC(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Jv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eX(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Zv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){se("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",i=15===(c=this.ai)?oY:14===c?nL:13===c?tL:12===c?rY:11===c?eL:void Ee();var c;let s;return this.Ti.runTransaction(e,o,i,a=>(s=new vP(a,this.Lr?this.Lr.next():Go._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re(L.FAILED_PRECONDITION,WV);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return im(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(L.FAILED_PRECONDITION,ZP)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return im(e).put("owner",t)}static D(){return zi.D()}pi(e){const t=im(e);return t.get("owner").next(r=>this.wi(r)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):k.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,_t.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function im(n){return yr(n,"owner")}function rC(n){return yr(n,"clientMetadata")}function YP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class XP{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=o}static Qi(e,t){let r=ot(),o=ot();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new XP(e,t.fromCache,r,o)}}class mX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,o){const i={result:null};return this.zi(e,t).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ji(e,t,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new mX;return this.Hi(e,t,s).next(a=>{if(i.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>i.result)}Ji(e,t,r,o){return r.documentReadCount<this.Ui?(ud()<=Is.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",bd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(ud()<=Is.in.DEBUG&&se("QueryEngine","Query:",bd(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(ud()<=Is.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",bd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yo(t))):k.resolve())}zi(e,t){if(PL(t))return k.resolve(null);let r=yo(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=$v(t,null,"F"),r=yo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=ot(...i);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(t,a);return this.Zi(t,u,s,c.readTime)?this.zi(e,$v(t,null,"F")):this.Xi(e,u,t,c)}))})))}ji(e,t,r,o){return PL(t)||o.isEqual(Ne.min())?k.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const s=this.Yi(t,i);return this.Zi(t,s,r,o)?k.resolve(null):(ud()<=Is.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bd(t)),this.Xi(e,s,t,qV(o,-1)).next(a=>a))})}Yi(e,t){let r=new Ht(OL(e));return t.forEach((o,i)=>{Hg(e,i)&&(r=r.add(i))}),r}Zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Hi(e,t,r){return ud()<=Is.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",bd(t)),this.Gi.getDocumentsMatchingQuery(e,t,qo.min(),r)}Xi(e,t,r,o){return this.Gi.getDocumentsMatchingQuery(e,r,o).next(i=>(t.forEach(s=>{i=i.insert(s.key,s)}),i))}}class _X{constructor(e,t,r,o){this.persistence=e,this.es=t,this.serializer=o,this.ts=new tn(Ze),this.ns=new ma(i=>Xl(i),jg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $U(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function qU(n,e,t,r){return new _X(n,e,t,r)}function GU(n,e){return JP.apply(this,arguments)}function JP(){return JP=(0,Q.Z)(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let c=ot();for(const u of o){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}),JP.apply(this,arguments)}function WU(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function KU(n,e,t){let r=ot(),o=ot();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=xo();return t.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:o}})}function vX(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Od(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.qr.getTargetData(r,e).next(i=>i?(o=i,k.resolve(o)):t.qr.allocateTargetId(r).next(s=>(o=new ya(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ts.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function Sd(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,Q.Z)(function*(n,e,t){const r=de(n),o=r.ts.get(e),i=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o)))}catch(s){if(!vc(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(o.target)}),eM.apply(this,arguments)}function oC(n,e,t){const r=de(n);let o=Ne.min(),i=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const g=de(c),m=g.ns.get(d);return void 0!==m?k.resolve(g.ts.get(m)):g.qr.getTargetData(u,d)}(r,s,yo(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?o:Ne.min(),t?i:ot())).next(a=>(YU(r,AL(e),a),{documents:a,ls:i})))}function ZU(n,e){const t=de(n),r=de(t.qr),o=t.ts.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",i=>r._t(i,e).next(s=>s?s.target:null))}function QU(n,e){const t=de(n),r=t.rs.get(e)||Ne.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ss.getAllFromCollectionGroup(o,e,qV(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(YU(t,e,o),o))}function YU(n,e,t){let r=n.rs.get(e)||Ne.min();t.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.rs.set(e,r)}function tM(){return tM=(0,Q.Z)(function*(n,e,t,r){const o=de(n);let i=ot(),s=xo();for(const u of t){const d=e.hs(u.metadata.name);u.document&&(i=i.add(d));const g=e.Ps(u);g.setReadTime(e.Is(u.metadata.readTime)),s=s.insert(d,g)}const a=o.ss.newChangeBuffer({trackRemovals:!0}),c=yield Od(o,(d=r,yo(_d(Mt.fromString(`__bundle__/docs/${d}`)))));var d;return o.persistence.runTransaction("Apply bundle documents","readwrite",u=>KU(u,a,s).next(d=>(a.apply(u),d)).next(d=>o.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>o.qr.addMatchingKeys(u,i,c.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(u,d.us,d.cs)).next(()=>d.us)))}),tM.apply(this,arguments)}function EX(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Q.Z)(function*(n,e,t=ot()){const r=yield Od(n,yo(BP(e.bundledQuery))),o=de(n);return o.persistence.runTransaction("Save named query","readwrite",i=>{const s=Ln(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return o.Kr.saveNamedQuery(i,e);const a=r.withResumeToken(cr.EMPTY_BYTE_STRING,s);return o.ts=o.ts.insert(a.targetId,a),o.qr.updateTargetData(i,a).next(()=>o.qr.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>o.qr.addMatchingKeys(i,t,r.targetId)).next(()=>o.Kr.saveNamedQuery(i,e))})}),nM.apply(this,arguments)}function XU(n,e){return`firestore_clients_${n}_${e}`}function JU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rM(n,e){return`firestore_targets_${n}_${e}`}class iC{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ts(e,t,r){const o=JSON.parse(r);let i,s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code,s&&(i=new re(o.error.code,o.error.message))),s?new iC(e,t,o.state,i):(Vn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let o,i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(o=new re(r.error.code,r.error.message))),i?new sm(e,r.state,o):(Vn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,i=AP();for(let s=0;o&&s<r.activeTargetIds.length;++s)o=QV(r.activeTargetIds[s]),i=i.add(r.activeTargetIds[s]);return o?new sC(e,i):(Vn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class oM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oM(t.clientId,t.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class iM{constructor(){this.activeTargetIds=AP()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sM{constructor(e,t,r,o,i){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new tn(Ze),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=XU(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new iM),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Q.Z)(function*(){const t=yield e.syncEngine.Bi();for(const o of t){if(o===e.Rs)continue;const i=e.getItem(XU(e.persistenceKey,o));if(i){const s=sC.Ts(o,i);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const o=e.Ms(r);o&&e.xs(o)}for(const o of e.ps)e.fs(o);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rM(this.persistenceKey,e));if(r){const o=sm.Ts(e,r);o&&(t=o.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rM(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Bs(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Q.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const o=t.Ks(r.key);return t.$s(o,null)}{const o=t.Us(r.key,r.newValue);if(o)return t.$s(o.clientId,o)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const o=t.Ws(r.key,r.newValue);if(o)return t.Gs(o)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const o=t.zs(r.key,r.newValue);if(o)return t.js(o)}}else if(r.key===t.Cs){if(null!==r.newValue){const o=t.Ms(r.newValue);if(o)return t.xs(o)}}else if(r.key===t.ws){const o=function(s){let a=Go._e;if(null!=s)try{const c=JSON.parse(s);xe("number"==typeof c),a=c}catch(c){Vn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);o!==Go._e&&t.sequenceNumberHandler(o)}else if(r.key===t.vs){const o=t.Hs(r.newValue);yield Promise.all(o.map(i=>t.syncEngine.Js(i)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const o=new iC(this.currentUser,e,t,r),i=JU(this.persistenceKey,this.currentUser,e);this.setItem(i,o.Es())}Bs(e){const t=JU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const o=rM(this.persistenceKey,e),i=new sm(e,t,r);this.setItem(o,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return sC.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),o=Number(r[1]);return iC.Ts(new _r(void 0!==r[2]?r[2]:null),o,t)}zs(e,t){const r=this.Ds.exec(e),o=Number(r[1]);return sm.Ts(o,t)}Ms(e){return oM.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),o=this.Os(this.gs),i=this.Os(r),s=[],a=[];return i.forEach(c=>{o.has(c)||s.push(c)}),o.forEach(c=>{i.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=AP();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class eB{constructor(){this.eo=new iM,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new iM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wX{ro(e){}shutdown(){}}class tB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let aC=null;function aM(){return null===aC?aC=268435456+Math.round(2147483648*Math.random()):aC++,"0x"+aC.toString(16)}const IX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TX{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Qr="WebChannelConnection";class PX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${o}/databases/${i}`,this.po="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get yo(){return!1}wo(t,r,o,i,s){const a=aM(),c=this.So(t,r);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,o);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,s),this.Do(t,c,u,o).then(d=>(se("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw So("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",o),d})}Co(t,r,o,i,s,a){return this.wo(t,r,o,i,s)}bo(t,r,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+ld,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>t[s]=i),o&&o.headers.forEach((i,s)=>t[s]=i)}So(t,r){return`${this.mo}/v1/${r}:${IX[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,o){const i=aM();return new Promise((s,a)=>{const c=new wQ;c.setWithCredentials(!0),c.listenOnce(CQ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case pP.NO_ERROR:const d=c.getResponseJson();se(Qr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),s(d);break;case pP.TIMEOUT:se(Qr,`RPC '${e}' ${i} timed out`),a(new re(L.DEADLINE_EXCEEDED,"Request time out"));break;case pP.HTTP_ERROR:const g=c.getStatus();if(se(Qr,`RPC '${e}' ${i} failed with status:`,g,"response text:",c.getResponseText()),g>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const v=function(w){const O=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(O)>=0?O:L.UNKNOWN}(y.status);a(new re(v,y.message))}else a(new re(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new re(L.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(Qr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(o);se(Qr,`RPC '${e}' ${i} sending request:`,o),c.send(t,"POST",u,r,15)})}vo(e,t,r){const o=aM(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bQ(),a=vQ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=i.join("");se(Qr,`Creating RPC '${e}' stream ${o}: ${d}`,c);const g=s.createWebChannel(d,c);let m=!1,y=!1;const v=new TX({co:w=>{y?se(Qr,`Not sending because RPC '${e}' stream ${o} is closed:`,w):(m||(se(Qr,`Opening RPC '${e}' stream ${o} transport.`),g.open(),m=!0),se(Qr,`RPC '${e}' stream ${o} sending:`,w),g.send(w))},lo:()=>g.close()}),C=(w,O,D)=>{w.listen(O,S=>{try{D(S)}catch(U){setTimeout(()=>{throw U},0)}})};return C(g,Sv.EventType.OPEN,()=>{y||se(Qr,`RPC '${e}' stream ${o} transport opened.`)}),C(g,Sv.EventType.CLOSE,()=>{y||(y=!0,se(Qr,`RPC '${e}' stream ${o} transport closed`),v.Ro())}),C(g,Sv.EventType.ERROR,w=>{y||(y=!0,So(Qr,`RPC '${e}' stream ${o} transport errored:`,w),v.Ro(new re(L.UNAVAILABLE,"The operation could not be completed")))}),C(g,Sv.EventType.MESSAGE,w=>{var O;if(!y){const D=w.data[0];xe(!!D);const U=D.error||(null===(O=D[0])||void 0===O?void 0:O.error);if(U){se(Qr,`RPC '${e}' stream ${o} received error:`,U);const ce=U.status;let De=function(lr){const No=Gn[lr];if(void 0!==No)return KL(No)}(ce),Be=U.message;void 0===De&&(De=L.INTERNAL,Be="Unknown error status: "+ce+" with message "+U.message),y=!0,v.Ro(new re(De,Be)),g.close()}else se(Qr,`RPC '${e}' stream ${o} received:`,D),v.Vo(D)}}),C(a,EQ.STAT_EVENT,w=>{w.stat===UV.PROXY?se(Qr,`RPC '${e}' stream ${o} detected buffering proxy`):w.stat===UV.NOPROXY&&se(Qr,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function nB(){return typeof window<"u"?window:null}function cC(){return typeof document<"u"?document:null}function am(n){return new FY(n,!0)}class cM{constructor(e,t,r=1e3,o=1.5,i=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=o,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),o=Math.max(0,t-r);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class rB{constructor(e,t,r,o,i,s,a,c){this.si=e,this.Ko=r,this.$o=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new cM(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Q.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Q.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Q.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Vn(t.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Uo===t&&this.s_(r,o)},r=>{e(()=>{const o=new re(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(o)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{r(()=>this.o_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Q.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MX extends rB{constructor(e,t,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function UY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Ee(),o=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(void 0===d||"string"==typeof d),cr.fromBase64String(d||"")):(xe(void 0===d||d instanceof Uint8Array),cr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=void 0===u.code?L.UNKNOWN:KL(u.code);return new re(d,u.message||"")}(s);t=new JL(r,o,i,a||null)}else if("documentChange"in e){const r=e.documentChange,o=Ss(n,r.document.name),i=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):Ne.min(),a=new Or({mapValue:{fields:r.document.fields}}),c=fn.newFoundDocument(o,i,s,a);t=new Wv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,o=Ss(n,r.document),i=r.readTime?Ln(r.readTime):Ne.min(),s=fn.newNoDocument(o,i);t=new Wv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,o=Ss(n,r.document);t=new Wv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Ee();{const r=e.filter,{count:o=0,unchangedNames:i}=r,s=new OY(o,i);t=new XL(r.targetId,s)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?Ln(s.readTime):Ne.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Xg(this.serializer),t.addTarget=function(i,s){let a;const c=s.target;if(a=Bv(c)?{documents:lU(i,c)}:{query:UP(i,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rU(i,s.resumeToken);const u=kP(i,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Id(i,s.snapshotVersion.toTimestamp());const u=kP(i,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function jY(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Xg(this.serializer),t.removeTarget=e,this.e_(t)}}class DX extends rB{constructor(e,t,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function BY(n,e){return n&&n.length>0?(xe(void 0!==e),n.map(t=>function(o,i){let s=Ln(o.updateTime?o.updateTime:i);return s.isEqual(Ne.min())&&(s=Ln(i)),new PY(s,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.I_(r,t)}return xe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Jg(this.serializer,r))};this.e_(t)}}class AX extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new re(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.wo(e,t,r,o,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(L.UNKNOWN,o.toString())})}Co(e,t,r,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Co(e,t,r,i,s,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(L.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class SX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Vn(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class RX{constructor(e,t,r,o,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(a=>{r.enqueueAndForget((0,Q.Z)(function*(){var c;Rc(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,Q.Z)(function*(d){const g=de(d);g.C_.add(4),yield Rd(g),g.M_.set("Unknown"),g.C_.delete(4),yield cm(g)}),function u(d){return c.apply(this,arguments)})(s))}))}),this.M_=new SX(r,o)}}function cm(n){return uM.apply(this,arguments)}function uM(){return uM=(0,Q.Z)(function*(n){if(Rc(n))for(const e of n.v_)yield e(!0)}),uM.apply(this,arguments)}function Rd(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Q.Z)(function*(n){for(const e of n.v_)yield e(!1)}),fM.apply(this,arguments)}function lC(n,e){const t=de(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),pM(t)?hM(t):Nd(t).Ho()&&dM(t,e))}function lm(n,e){const t=de(n),r=Nd(t);t.D_.delete(e),r.Ho()&&oB(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Rc(t)&&t.M_.set("Unknown"))}function dM(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nd(n).u_(e)}function oB(n,e){n.x_.Oe(e),Nd(n).c_(e)}function hM(n){n.x_=new RY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Nd(n).start(),n.M_.g_()}function pM(n){return Rc(n)&&!Nd(n).jo()&&n.D_.size>0}function Rc(n){return 0===de(n).C_.size}function iB(n){n.x_=void 0}function xX(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Q.Z)(function*(n){n.D_.forEach((e,t)=>{dM(n,e)})}),gM.apply(this,arguments)}function NX(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Q.Z)(function*(n,e){iB(n),pM(n)?(n.M_.w_(e),hM(n)):n.M_.set("Unknown")}),mM.apply(this,arguments)}function kX(n,e,t){return _M.apply(this,arguments)}function _M(){return _M=(0,Q.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof JL&&2===e.state&&e.cause)try{yield(r=(0,Q.Z)(function*(i,s){const a=s.cause;for(const c of s.targetIds)i.D_.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.D_.delete(c),i.x_.removeTarget(c))}),function o(i,s){return r.apply(this,arguments)})(n,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uC(n,r)}else if(e instanceof Wv?n.x_.$e(e):e instanceof XL?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Ne.min()))try{const r=yield WU(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const a=i.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.D_.get(u);d&&i.D_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const d=i.D_.get(c);if(!d)return;i.D_.set(c,d.withResumeToken(cr.EMPTY_BYTE_STRING,d.snapshotVersion)),oB(i,c);const g=new ya(d.target,c,u,d.sequenceNumber);dM(i,g)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield uC(n,r)}var r}),_M.apply(this,arguments)}function uC(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,Q.Z)(function*(n,e,t){if(!vc(e))throw e;n.C_.add(1),yield Rd(n),n.M_.set("Offline"),t||(t=()=>WU(n.localStore)),n.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield cm(n)}))}),yM.apply(this,arguments)}function sB(n,e){return e().catch(t=>uC(n,t,e))}function xd(n){return bM.apply(this,arguments)}function bM(){return bM=(0,Q.Z)(function*(n){const e=de(n),t=xc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;FX(e);)try{const o=yield vX(e.localStore,r);if(null===o){0===e.b_.length&&t.Zo();break}r=o.batchId,VX(e,o)}catch(o){yield uC(e,o)}aB(e)&&cB(e)}),bM.apply(this,arguments)}function FX(n){return Rc(n)&&n.b_.length<10}function VX(n,e){n.b_.push(e);const t=xc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function aB(n){return Rc(n)&&!xc(n).jo()&&n.b_.length>0}function cB(n){xc(n).start()}function LX(n){return vM.apply(this,arguments)}function vM(){return vM=(0,Q.Z)(function*(n){xc(n).E_()}),vM.apply(this,arguments)}function UX(n){return CM.apply(this,arguments)}function CM(){return CM=(0,Q.Z)(function*(n){const e=xc(n);for(const t of n.b_)e.P_(t.mutations)}),CM.apply(this,arguments)}function BX(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,Q.Z)(function*(n,e,t){const r=n.b_.shift(),o=RP.from(r,e,t);yield sB(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield xd(n)}),EM.apply(this,arguments)}function jX(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,Q.Z)(function*(n,e){var t;e&&xc(n).h_&&(yield(t=(0,Q.Z)(function*(o,i){if(WL(a=i.code)&&a!==L.ABORTED){const s=o.b_.shift();xc(o).Yo(),yield sB(o,()=>o.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield xd(o)}var a}),function r(o,i){return t.apply(this,arguments)})(n,e)),aB(n)&&cB(n)}),wM.apply(this,arguments)}function lB(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Q.Z)(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Rc(t);t.C_.add(3),yield Rd(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield cm(t)}),IM.apply(this,arguments)}function TM(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,Q.Z)(function*(n,e){const t=de(n);e?(t.C_.delete(2),yield cm(t)):e||(t.C_.add(2),yield Rd(t),t.M_.set("Unknown"))}),PM.apply(this,arguments)}function Nd(n){return n.O_||(n.O_=function(t,r,o){const i=de(t);return i.A_(),new MX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{ho:xX.bind(null,n),Io:NX.bind(null,n),a_:kX.bind(null,n)}),n.v_.push(function(){var e=(0,Q.Z)(function*(t){t?(n.O_.Yo(),pM(n)?hM(n):n.M_.set("Unknown")):(yield n.O_.stop(),iB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function xc(n){return n.N_||(n.N_=function(t,r,o){const i=de(t);return i.A_(),new DX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{ho:LX.bind(null,n),Io:jX.bind(null,n),T_:UX.bind(null,n),I_:BX.bind(null,n)}),n.v_.push(function(){var e=(0,Q.Z)(function*(t){t?(n.N_.Yo(),yield xd(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class MM{constructor(e,t,r,o,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,i){const s=Date.now()+r,a=new MM(e,t,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(n,e){if(Vn("AsyncQueue",`${e}: ${n}`),vc(n))return new re(L.UNAVAILABLE,`${e}: ${n}`);throw n}class Fd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=zg(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new Fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uB{constructor(){this.B_=new tn(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Vd{constructor(e,t,r,o,i,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,o,i){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Vd(e,t,Fd.emptySet(t),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class $X{constructor(){this.k_=void 0,this.listeners=[]}}class HX{constructor(){this.queries=new ma(e=>DL(e),$g),this.onlineState="Unknown",this.q_=new Set}}function DM(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,Q.Z)(function*(n,e){const t=de(n),r=e.query;let o=!1,i=t.queries.get(r);if(i||(o=!0,i=new $X),o)try{i.k_=yield t.onListen(r)}catch(s){const a=kd(s,`Initialization of query '${bd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,i),i.listeners.push(e),e.Q_(t.onlineState),i.k_&&e.K_(i.k_)&&RM(t)}),AM.apply(this,arguments)}function OM(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,Q.Z)(function*(n,e){const t=de(n),r=e.query;let o=!1;const i=t.queries.get(r);if(i){const s=i.listeners.indexOf(e);s>=0&&(i.listeners.splice(s,1),o=0===i.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),SM.apply(this,arguments)}function zX(n,e){const t=de(n);let r=!1;for(const o of e){const s=t.queries.get(o.query);if(s){for(const a of s.listeners)a.K_(o)&&(r=!0);s.k_=o}}r&&RM(t)}function qX(n,e,t){const r=de(n),o=r.queries.get(e);if(o)for(const i of o.listeners)i.onError(t);r.queries.delete(e)}function RM(n){n.q_.forEach(e=>{e.next()})}class xM{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class GX{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class fB{constructor(e){this.serializer=e}hs(e){return Ss(this.serializer,e)}Ps(e){return e.metadata.exists?cU(this.serializer,e.document,!1):fn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ln(e)}}class WX{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=Mt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new fB(this.serializer);for(const o of e)if(o.metadata.queries){const i=r.hs(o.metadata.name);for(const s of o.metadata.queries){const a=(t.get(s)||ot()).add(i);t.set(s,a)}}return t}complete(){var e=this;return(0,Q.Z)(function*(){const t=yield function CX(n,e,t,r){return tM.apply(this,arguments)}(e.localStore,new fB(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const o of e.queries)yield EX(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function dB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hB{constructor(e){this.key=e}}class pB{constructor(e){this.key=e}}class gB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=OL(e),this.aa=new Fd(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new uB,o=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=o,a=!1;const c="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,u="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((d,g)=>{const m=o.get(d),y=Hg(this.query,g)?g:null,v=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;m&&y?m.data.isEqual(y.data)?v!==C&&(r.track({type:3,doc:y}),w=!0):this.ha(m,y)||(r.track({type:2,doc:y}),w=!0,(c&&this._a(y,c)>0||u&&this._a(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),w=!0):m&&!y&&(r.track({type:1,doc:m}),w=!0,(c||u)&&(a=!0)),w&&(y?(s=s.add(y),i=C?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{aa:s,la:r,Zi:a,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((d,g)=>function(y,v){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return C(y)-C(v)}(d.type,g.type)||this._a(d.doc,g.doc)),this.Pa(r),o=null!=o&&o;const a=t&&!o?this.Ia():[],c=0===this.oa.size&&this.current&&!o?1:0,u=c!==this.sa;return this.sa=c,0!==s.length||u?{snapshot:new Vd(this.query,e.aa,i,s,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new uB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new pB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new hB(r))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Vd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class KX{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZX{constructor(e){this.key=e,this.Ra=!1}}class QX{constructor(e,t,r,o,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ma(a=>DL(a),$g),this.fa=new Map,this.ga=new Set,this.pa=new tn(pe.comparator),this.ya=new Map,this.wa=new WP,this.Sa={},this.ba=new Map,this.Da=su.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function YX(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,Q.Z)(function*(n,e){const t=rD(n);let r,o;const i=t.ma.get(e);if(i)r=i.targetId,t.sharedClientState.addLocalQueryTarget(r),o=i.view.Aa();else{const s=yield Od(t.localStore,yo(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,o=yield kM(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&lC(t.remoteStore,s)}return o}),NM.apply(this,arguments)}function kM(n,e,t,r,o){return FM.apply(this,arguments)}function FM(){return FM=(0,Q.Z)(function*(n,e,t,r,o){n.va=(g,m,y)=>{return(v=(0,Q.Z)(function*(w,O,D,S){let U=O.view.ca(D);U.Zi&&(U=yield oC(w.localStore,O.query,!1).then(({documents:Ct})=>O.view.ca(Ct,U)));const ce=S&&S.targetChanges.get(O.targetId),De=S&&null!=S.targetMismatches.get(O.targetId),Be=O.view.applyChanges(U,w.isPrimaryClient,ce,De);return GM(w,O.targetId,Be.Ta),Be.snapshot}),function C(w,O,D,S){return v.apply(this,arguments)})(n,g,m,y);var v};const i=yield oC(n.localStore,e,!0),s=new gB(e,i.ls),a=s.ca(i.documents),c=Qg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),u=s.applyChanges(a,n.isPrimaryClient,c);GM(n,t,u.Ta);const d=new KX(e,t,s);return n.ma.set(e,d),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),FM.apply(this,arguments)}function XX(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,Q.Z)(function*(n,e){const t=de(n),r=t.ma.get(e),o=t.fa.get(r.targetId);if(o.length>1)return t.fa.set(r.targetId,o.filter(i=>!$g(i,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),lm(t.remoteStore,r.targetId),Ld(t,r.targetId)}).catch(bc))):(Ld(t,r.targetId),yield Sd(t.localStore,r.targetId,!0))}),VM.apply(this,arguments)}function LM(){return LM=(0,Q.Z)(function*(n,e,t){const r=oD(n);try{const o=yield function(s,a){const c=de(s),u=_n.now(),d=a.reduce((y,v)=>y.add(v.key),ot());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=xo(),C=ot();return c.ss.getEntries(y,d).next(w=>{v=w,v.forEach((O,D)=>{D.isValidDocument()||(C=C.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(w=>{g=w;const O=[];for(const D of a){const S=DY(D,g.get(D.key).overlayedDocument);null!=S&&O.push(new _a(D.key,S,hL(S.value.mapValue),yn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,O,a)}).next(w=>{m=w;const O=w.applyToLocalDocumentSet(g,C);return c.documentOverlayCache.saveOverlays(y,w.batchId,O)})}).then(()=>({batchId:m.batchId,changes:RL(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new tn(Ze)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(r,o.batchId,t),yield ba(r,o.changes),yield xd(r.remoteStore)}catch(o){const i=kd(o,"Failed to persist write");t.reject(i)}}),LM.apply(this,arguments)}function mB(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,Q.Z)(function*(n,e){const t=de(n);try{const r=yield function bX(n,e){const t=de(n),r=e.snapshotVersion;let o=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});o=t.ts;const a=[];e.targetChanges.forEach((d,g)=>{const m=o.get(g);if(!m)return;a.push(t.qr.removeMatchingKeys(i,d.removedDocuments,g).next(()=>t.qr.addMatchingKeys(i,d.addedDocuments,g)));let y=m.withSequenceNumber(i.currentSequenceNumber);var C,w,O;null!==e.targetMismatches.get(g)?y=y.withResumeToken(cr.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),o=o.insert(g,y),w=y,O=d,(0===(C=m).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(i,y))});let c=xo(),u=ot();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(KU(i,s,e.documentUpdates).next(d=>{c=d.us,u=d.cs})),!r.isEqual(Ne.min())){const d=t.qr.getLastRemoteSnapshotVersion(i).next(g=>t.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return k.waitFor(a).next(()=>s.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(t.ts=o,i))}(t.localStore,e);e.targetChanges.forEach((o,i)=>{const s=t.ya.get(i);s&&(xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.Ra=!0:o.modifiedDocuments.size>0?xe(s.Ra):o.removedDocuments.size>0&&(xe(s.Ra),s.Ra=!1))}),yield ba(t,r,e)}catch(r){yield bc(r)}}),UM.apply(this,arguments)}function _B(n,e,t){const r=de(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ma.forEach((i,s)=>{const a=s.view.Q_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const c=de(s);c.onlineState=a;let u=!1;c.queries.forEach((d,g)=>{for(const m of g.listeners)m.Q_(a)&&(u=!0)}),u&&RM(c)}(r.eventManager,e),o.length&&r.Va.a_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eJ(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,Q.Z)(function*(n,e,t){const r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ya.get(e),i=o&&o.key;if(i){let s=new tn(pe.comparator);s=s.insert(i,fn.newNoDocument(i,Ne.min()));const a=ot().add(i),c=new Zg(Ne.min(),new Map,new tn(Ze),s,a);yield mB(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),WM(r)}else yield Sd(r.localStore,e,!1).then(()=>Ld(r,e,t)).catch(bc)}),BM.apply(this,arguments)}function tJ(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,Q.Z)(function*(n,e){const t=de(n),r=e.batch.batchId;try{const o=yield function yX(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const g=u.batch,m=g.keys();let y=k.resolve();return m.forEach(v=>{y=y.next(()=>d.getEntry(c,v)).next(C=>{const w=u.docVersions.get(v);xe(null!==w),C.version.compareTo(w)<0&&(g.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),d.addEntry(C)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ot();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);qM(t,r,null),zM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ba(t,o)}catch(o){yield bc(o)}}),jM.apply(this,arguments)}function nJ(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,Q.Z)(function*(n,e,t){const r=de(n);try{const o=yield function(s,a){const c=de(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(g=>(xe(null!==g),d=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);qM(r,e,t),zM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ba(r,o)}catch(o){yield bc(o)}}),$M.apply(this,arguments)}function HM(){return HM=(0,Q.Z)(function*(n,e){const t=de(n);Rc(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=de(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ba.get(r)||[];o.push(e),t.ba.set(r,o)}catch(r){const o=kd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),HM.apply(this,arguments)}function zM(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function qM(n,e,t){const r=de(n);let o=r.Sa[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(t?i.reject(t):i.resolve(),o=o.remove(e)),r.Sa[r.currentUser.toKey()]=o}}function Ld(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||yB(n,r)})}function yB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(lm(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),WM(n))}function GM(n,e,t){for(const r of t)r instanceof hB?(n.wa.addReference(r.key,e),oJ(n,r)):r instanceof pB?(se("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||yB(n,r.key)):Ee()}function oJ(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(r),WM(n))}function WM(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(Mt.fromString(e)),r=n.Da.next();n.ya.set(r,new ZX(t)),n.pa=n.pa.insert(t,r),lC(n.remoteStore,new ya(yo(_d(t.path)),r,"TargetPurposeLimboResolution",Go._e))}}function ba(n,e,t){return KM.apply(this,arguments)}function KM(){return KM=(0,Q.Z)(function*(n,e,t){const r=de(n),o=[],i=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){o.push(u);const d=XP.Qi(c.targetId,u);i.push(d)}}))}),yield Promise.all(s),r.Va.a_(o),yield(a=(0,Q.Z)(function*(u,d){const g=de(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>k.forEach(d,y=>k.forEach(y.ki,v=>g.persistence.referenceDelegate.addReference(m,y.targetId,v)).next(()=>k.forEach(y.qi,v=>g.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))}catch(m){if(!vc(m))throw m;se("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const v=g.ts.get(y),w=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);g.ts=g.ts.insert(y,w)}}}),function c(u,d){return a.apply(this,arguments)})(r.localStore,i))}),KM.apply(this,arguments)}function iJ(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Q.Z)(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=yield GU(t.localStore,e);t.currentUser=e,(i=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new re(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ba(t,r._s)}var i}),ZM.apply(this,arguments)}function sJ(n,e){const t=de(n),r=t.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let o=ot();const i=t.fa.get(e);if(!i)return o;for(const s of i){const a=t.ma.get(s);o=o.unionWith(a.view.ua)}return o}}function aJ(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,Q.Z)(function*(n,e){const t=de(n),r=yield oC(t.localStore,e.query,!0),o=e.view.da(r);return t.isPrimaryClient&&GM(t,e.targetId,o.Ta),o}),QM.apply(this,arguments)}function cJ(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,Q.Z)(function*(n,e){const t=de(n);return QU(t.localStore,e).then(r=>ba(t,r))}),YM.apply(this,arguments)}function lJ(n,e,t,r){return XM.apply(this,arguments)}function XM(){return XM=(0,Q.Z)(function*(n,e,t,r){const o=de(n),i=yield function(a,c){const u=de(a),d=de(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>d.Cn(g,c).next(m=>m?u.localDocuments.getDocuments(g,m):k.resolve(null)))}(o.localStore,e);var c;null!==i?("pending"===t?yield xd(o.remoteStore):"acknowledged"===t||"rejected"===t?(qM(o,e,r||null),zM(o,e),c=e,de(de(o.localStore).mutationQueue).Fn(c)):Ee(),yield ba(o,i)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),XM.apply(this,arguments)}function JM(){return JM=(0,Q.Z)(function*(n,e){const t=de(n);if(rD(t),oD(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield bB(t,r.toArray());t.Ca=!0,yield TM(t.remoteStore,!0);for(const i of o)lC(t.remoteStore,i)}else if(!1===e&&!1!==t.Ca){const r=[];let o=Promise.resolve();t.fa.forEach((i,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):o=o.then(()=>(Ld(t,s),Sd(t.localStore,s,!0))),lm(t.remoteStore,s)}),yield o,yield bB(t,r),function(s){const a=de(s);a.ya.forEach((c,u)=>{lm(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new tn(pe.comparator)}(t),t.Ca=!1,yield TM(t.remoteStore,!1)}}),JM.apply(this,arguments)}function bB(n,e,t){return eD.apply(this,arguments)}function eD(){return eD=(0,Q.Z)(function*(n,e,t){const r=de(n),o=[],i=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield Od(r.localStore,yo(c[0]));for(const u of c){const d=r.ma.get(u),g=yield aJ(r,d);g.snapshot&&i.push(g.snapshot)}}else{const u=yield ZU(r.localStore,s);a=yield Od(r.localStore,u),yield kM(r,vB(u),s,!1,a.resumeToken)}o.push(a)}return r.Va.a_(i),o}),eD.apply(this,arguments)}function vB(n){return TL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function fJ(n){return t=de(n).localStore,de(de(t).persistence).Bi();var t}function dJ(n,e,t,r){return tD.apply(this,arguments)}function tD(){return tD=(0,Q.Z)(function*(n,e,t,r){const o=de(n);if(o.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const i=o.fa.get(e);if(i&&i.length>0)switch(t){case"current":case"not-current":{const s=yield QU(o.localStore,AL(i[0])),a=Zg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,cr.EMPTY_BYTE_STRING);yield ba(o,s,a);break}case"rejected":yield Sd(o.localStore,e,!0),Ld(o,e,r);break;default:Ee()}}),tD.apply(this,arguments)}function hJ(n,e,t){return nD.apply(this,arguments)}function nD(){return nD=(0,Q.Z)(function*(n,e,t){const r=rD(n);if(r.Ca){for(const o of e){if(r.fa.has(o)){se("SyncEngine","Adding an already active target "+o);continue}const i=yield ZU(r.localStore,o),s=yield Od(r.localStore,i);yield kM(r,vB(i),s.targetId,!1,s.resumeToken),lC(r.remoteStore,s)}for(const o of t)r.fa.has(o)&&(yield Sd(r.localStore,o,!1).then(()=>{lm(r.remoteStore,o),Ld(r,o)}).catch(bc))}}),nD.apply(this,arguments)}function rD(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eJ.bind(null,e),e.Va.a_=zX.bind(null,e.eventManager),e.Va.Fa=qX.bind(null,e.eventManager),e}function oD(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nJ.bind(null,e),e}class um{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Q.Z)(function*(){t.serializer=am(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qU(this.persistence,new zU,e.initialUser,this.serializer)}createPersistence(e){return new KP(tC.jr,this.serializer)}createSharedClientState(e){return new eB}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iD extends um{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield oD(r.xa.syncEngine),yield xd(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qU(this.persistence,new zU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new kU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new BQ(t,this.persistence);return new UQ(e.asyncQueue,r)}createPersistence(e){const t=YP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new QP(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,nB(),cC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new eB}}class CB extends iD{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield t().call(r,e);const o=r.xa.syncEngine;r.sharedClientState instanceof sM&&(r.sharedClientState.syncEngine={Ys:lJ.bind(null,o),Zs:dJ.bind(null,o),Xs:hJ.bind(null,o),Bi:fJ.bind(null,o),Js:cJ.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var i=(0,Q.Z)(function*(s){yield function uJ(n,e){return JM.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return i.apply(this,arguments)}}())})()}createSharedClientState(e){const t=nB();if(!sM.D(t))throw new re(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ud{initialize(e,t){var r=this;return(0,Q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>_B(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=iJ.bind(null,r.syncEngine),yield TM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new HX}createDatastore(e){const t=am(e.databaseInfo.databaseId),r=new PX(e.databaseInfo);return new AX(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,o=this.datastore,i=e.asyncQueue,s=t=>_B(this.syncEngine,t,0),a=tB.D()?new tB:new wX,new RX(r,o,i,s,a);var r,o,i,s,a}createSyncEngine(e,t){return function(o,i,s,a,c,u,d){const g=new QX(o,i,s,a,c,u);return d&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Q.Z)(function*(r){const o=de(r);se("RemoteStore","RemoteStore shutting down."),o.C_.add(5),yield Rd(o),o.F_.shutdown(),o.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function EB(n,e=10240){let t=0;return{read:()=>(0,Q.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Q.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mJ{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new ar,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Q.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Q.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Q.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),o=Number(r);isNaN(o)&&e.Qa(`length string (${r}) is not valid number`);const i=yield e.Ka(o);return new GX(JSON.parse(i),t.length+o)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Q.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,Q.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Q.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _J{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Q.Z)(function*(s,a){const c=de(s),u=Xg(c.serializer)+"/documents",d={documents:a.map(v=>Yg(c.serializer,v))},g=yield c.Co("BatchGetDocuments",u,d,a.length),m=new Map;g.forEach(v=>{const C=function LY(n,e){return"found"in e?function(r,o){xe(!!o.found);const i=Ss(r,o.found.name),s=Ln(o.found.updateTime),a=o.found.createTime?Ln(o.found.createTime):Ne.min(),c=new Or({mapValue:{fields:o.found.fields}});return fn.newFoundDocument(i,s,a,c)}(n,e):"missing"in e?function(r,o){xe(!!o.missing),xe(!!o.readTime);const i=Ss(r,o.missing),s=Ln(o.readTime);return fn.newNoDocument(i,s)}(n,e):Ee()}(c.serializer,v);m.set(C.key.toString(),C)});const y=[];return a.forEach(v=>{const C=m.get(v.toString());xe(!!C),y.push(C)}),y}),function i(s,a){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const i=pe.fromPath(o);e.mutations.push(new OP(i,e.precondition(i)))}),yield(r=(0,Q.Z)(function*(i,s){const a=de(i),c=Xg(a.serializer)+"/documents",u={writes:s.map(d=>Jg(a.serializer,d))};yield a.wo("Commit",c,u)}),function o(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ne.min())?yn.exists(!1):yn.updateTime(t):yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ne.min()))throw new re(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(t)}return yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yJ{constructor(e,t,r,o,i){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=i,this.Wa=r.maxAttempts,this.zo=new cM(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Q.Z)(function*(){const t=new _J(e.datastore),r=e.za(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(i=>{e.ja(i)}))}).catch(o=>{e.ja(o)})}))}za(e){try{const t=this.updateFunction(e);return!Ng(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WL(t)}return!1}}class bJ{constructor(e,t,r,o){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=_r.UNAUTHENTICATED,this.clientId=HV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,Q.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield i.authCredentialListener(a),i.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=kd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function dC(n,e){return sD.apply(this,arguments)}function sD(){return sD=(0,Q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Q.Z)(function*(i){r.isEqual(i)||(yield GU(e.localStore,i),r=i)});return function(i){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sD.apply(this,arguments)}function aD(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,Q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lD(n);se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>lB(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,i)=>lB(e.remoteStore,i)),n._onlineComponents=e}),cD.apply(this,arguments)}function wB(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lD(n){return uD.apply(this,arguments)}function uD(){return uD=(0,Q.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!wB(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),yield dC(n,new um)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield dC(n,new um);return n._offlineComponents}),uD.apply(this,arguments)}function hC(n){return fD.apply(this,arguments)}function fD(){return fD=(0,Q.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield aD(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield aD(n,new Ud))),n._onlineComponents}),fD.apply(this,arguments)}function IB(n){return lD(n).then(e=>e.persistence)}function Bd(n){return lD(n).then(e=>e.localStore)}function TB(n){return hC(n).then(e=>e.remoteStore)}function dD(n){return hC(n).then(e=>e.syncEngine)}function jd(n){return hD.apply(this,arguments)}function hD(){return hD=(0,Q.Z)(function*(n){const e=yield hC(n),t=e.eventManager;return t.onListen=YX.bind(null,e.syncEngine),t.onUnlisten=XX.bind(null,e.syncEngine),t}),hD.apply(this,arguments)}function MB(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(i,s,a,c,u){const d=new fC({next:m=>{s.enqueueAndForget(()=>OM(i,g));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new re(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&"server"===c.source?u.reject(new re(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new xM(_d(a.path),d,{includeMetadataChanges:!0,J_:!0});return DM(i,g)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function DB(n,e,t={}){const r=new ar;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(i,s,a,c,u){const d=new fC({next:m=>{s.enqueueAndForget(()=>OM(i,g)),m.fromCache&&"server"===c.source?u.reject(new re(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new xM(a,d,{includeMetadataChanges:!0,J_:!0});return DM(i,g)}(yield jd(n),n.asyncQueue,e,t,r)})),r.promise}function AB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const OB=new Map;function pD(n,e,t){if(!t)throw new re(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SB(n,e,t,r){if(!0===e&&!0===r)throw new re(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RB(n){if(!pe.isDocumentKey(n))throw new re(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xB(n){if(pe.isDocumentKey(n))throw new re(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ee()}function yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pC(n);throw new re(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NB(n,e){if(e<=0)throw new re(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class kB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new re(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new MQ;switch(r.type){case"firstParty":return new SQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OB.get(t);r&&(se("ComponentProvider","Removing Datastore"),OB.delete(t),r.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Rs extends Sr{constructor(e,t,r){super(e,t,_d(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new pe(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function VB(n,e,...t){if(n=(0,_t.m9)(n),pD("collection","path",e),n instanceof fm){const r=Mt.fromString(e,...t);return xB(r),new Rs(n,null,r)}{if(!(n instanceof dn||n instanceof Rs))throw new re(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return xB(r),new Rs(n.firestore,null,r)}}function gC(n,e,...t){if(n=(0,_t.m9)(n),1===arguments.length&&(e=HV.newId()),pD("doc","path",e),n instanceof fm){const r=Mt.fromString(e,...t);return RB(r),new dn(n,null,new pe(r))}{if(!(n instanceof dn||n instanceof Rs))throw new re(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return RB(r),new dn(n.firestore,n instanceof Rs?n.converter:null,new pe(r))}}function LB(n,e){return n=(0,_t.m9)(n),e=(0,_t.m9)(e),(n instanceof dn||n instanceof Rs)&&(e instanceof dn||e instanceof Rs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gD(n,e){return n=(0,_t.m9)(n),e=(0,_t.m9)(e),n instanceof Sr&&e instanceof Sr&&n.firestore===e.firestore&&$g(n._query,e._query)&&n.converter===e.converter}class SJ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new cM(this,"async_queue_retry"),this.iu=()=>{const t=cC();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=cC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=cC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new ar;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Q.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!vc(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const o=MM.createAndSchedule(this,e,t,r,i=>this.au(i));return this.Xa.push(o),o}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,Q.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function mD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const o=t;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(n)}class RJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nn extends fm{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new SJ,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UB(this),this._firestoreClient.terminate()}}function Sn(n){return n._firestoreClient||UB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UB(n){var e,t,r;const o=n._freezeSettings(),i=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new aY(n._databaseId,c,n._persistenceKey,(d=o).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AB(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;n._firestoreClient=new bJ(n._authCredentials,n._appCheckCredentials,n._queue,i),null!==(t=o.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}function BB(n,e,t){const r=new ar;return n.asyncQueue.enqueue((0,Q.Z)(function*(){try{yield dC(n,t),yield aD(n,e),r.resolve()}catch(o){const i=o;if(!wB(i))throw i;So("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}})).then(()=>r.promise)}function jB(n){if(n._initialized||n._terminated)throw new re(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(cr.fromBase64String(e))}catch(t){throw new re(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xs(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class va{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._methodName=e}}class mC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const HJ=/^__.*__$/;class zJ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}class $B{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class _C{constructor(e,t,r,o,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new _C(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Tu({path:r,du:!1});return o.Au(e),o}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Tu({path:r,du:!1});return o.Pu(),o}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return vC(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(HB(this.Iu)&&HJ.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class qJ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||am(e)}pu(e,t,r,o=!1){return new _C({Iu:e,methodName:t,gu:r,path:un.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lu(n){const e=n._freezeSettings(),t=am(n._databaseId);return new qJ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yC(n,e,t,r,o,i={}){const s=n.pu(i.merge||i.mergeFields?2:0,e,t,o);vD("Data must be an object, but it was:",s,r);const a=GB(r,s);let c,u;if(i.merge)c=new Ro(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const g of i.mergeFields){const m=pm(e,g,t);if(!s.contains(m))throw new re(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KB(d,m)||d.push(m)}c=new Ro(d),u=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,u=s.fieldTransforms;return new zJ(new Or(a),c,u)}class hm extends cu{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hm}}function zB(n,e,t){return new _C({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _D extends cu{_toFieldTransform(e){return new Gg(e.path,new vd)}isEqual(e){return e instanceof _D}}class GJ extends cu{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=zB(this,e,!0),r=this.yu.map(i=>uu(i,t)),o=new Jl(r);return new Gg(e.path,o)}isEqual(e){return this===e}}class WJ extends cu{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=zB(this,e,!0),r=this.yu.map(i=>uu(i,t)),o=new eu(r);return new Gg(e.path,o)}isEqual(e){return this===e}}class KJ extends cu{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Cd(e.serializer,FL(e.serializer,this.wu));return new Gg(e.path,t)}isEqual(e){return this===e}}function yD(n,e,t,r){const o=n.pu(1,e,t);vD("Data must be an object, but it was:",o,r);const i=[],s=Or.empty();Cc(r,(c,u)=>{const d=bC(e,c,t);u=(0,_t.m9)(u);const g=o.Ru(d);if(u instanceof hm)i.push(d);else{const m=uu(u,g);null!=m&&(i.push(d),s.set(d,m))}});const a=new Ro(i);return new $B(s,a,o.fieldTransforms)}function bD(n,e,t,r,o,i){const s=n.pu(1,e,t),a=[pm(e,r,t)],c=[o];if(i.length%2!=0)throw new re(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(pm(e,i[m])),c.push(i[m+1]);const u=[],d=Or.empty();for(let m=a.length-1;m>=0;--m)if(!KB(u,a[m])){const y=a[m];let v=c[m];v=(0,_t.m9)(v);const C=s.Ru(y);if(v instanceof hm)u.push(y);else{const w=uu(v,C);null!=w&&(u.push(y),d.set(y,w))}}const g=new Ro(u);return new $B(d,g,s.fieldTransforms)}function qB(n,e,t,r=!1){return uu(t,n.pu(r?4:3,e))}function uu(n,e){if(WB(n=(0,_t.m9)(n)))return vD("Unsupported field value:",e,n),GB(n,e);if(n instanceof cu)return function(r,o){if(!HB(o.Iu))throw o.mu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let c=uu(a,o.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(n,e)}return function(r,o){if(null===(r=(0,_t.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return FL(o.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const i=_n.fromDate(r);return{timestampValue:Id(o.serializer,i)}}if(r instanceof _n){const i=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(o.serializer,i)}}if(r instanceof mC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:rU(o.serializer,r._byteString)};if(r instanceof dn){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:FP(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.mu(`Unsupported field value: ${pC(r)}`)}(n,e)}function GB(n,e){const t={};return oL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(n,(r,o)=>{const i=uu(o,e.Eu(r));null!=i&&(t[r]=i)}),{mapValue:{fields:t}}}function WB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof mC||n instanceof xs||n instanceof dn||n instanceof cu)}function vD(n,e,t){if(!WB(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const r=pC(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var o}function pm(n,e,t){if((e=(0,_t.m9)(e))instanceof va)return e._internalPath;if("string"==typeof e)return bC(n,e);throw vC("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZJ=new RegExp("[~\\*/\\[\\]]");function bC(n,e,t){if(e.search(ZJ)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new va(...e.split("."))._internalPath}catch{throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vC(n,e,t,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new re(L.INVALID_ARGUMENT,a+n+c)}function KB(n,e){return n.some(t=>t.isEqual(e))}class gm{constructor(e,t,r,o,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QJ extends gm{data(){return super.data()}}function CC(n,e){return"string"==typeof e?bC(n,e):e instanceof va?e._internalPath:e._delegate._internalPath}function ZB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CD{}class mm extends CD{}function Nc(n,e,...t){let r=[];e instanceof CD&&r.push(e),r=r.concat(t),function(i){const s=i.filter(c=>c instanceof $d).length,a=i.filter(c=>c instanceof _m).length;if(s>1||s>0&&a>0)throw new re(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class _m extends mm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _m(e,t,r)}_apply(e){const t=this._parse(e);return JB(e._query,t),new Sr(e.firestore,e.converter,DP(e._query,t))}_parse(e){const t=lu(e.firestore);return function(i,s,a,c,u,d,g){let m;if(u.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new re(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){XB(g,d);const y=[];for(const v of g)y.push(YB(c,i,v));m={arrayValue:{values:y}}}else m=YB(c,i,g)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||XB(g,d),m=qB(a,"where",g,"in"===d||"not-in"===d);return vt.create(u,d,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends CD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $d(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ut.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,i){let s=o;const a=i.getFlattenedFilters();for(const c of a)JB(s,c),s=DP(s,c)}(e._query,t),new Sr(e.firestore,e.converter,DP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ED extends mm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ED(e,t)}_apply(e){const t=function(o,i,s){if(null!==o.startAt)throw new re(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new re(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bg(i,s)}(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,function(o,i){const s=o.explicitOrderBy.concat([i]);return new ga(o.path,o.collectionGroup,s,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class EC extends mm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new EC(e,t,r)}_apply(e){return new Sr(e.firestore,e.converter,$v(e._query,this._limit,this._limitType))}}class wC extends mm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wC(e,t,r)}_apply(e){const t=QB(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(i=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)));var o,i}}class IC extends mm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new IC(e,t,r)}_apply(e){const t=QB(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(i=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)));var o,i}}function QB(n,e,t,r){if(t[0]=(0,_t.m9)(t[0]),t[0]instanceof gm)return function(i,s,a,c,u){if(!c)throw new re(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const g of yd(i))if(g.field.isKeyField())d.push(Yl(s,c.key));else{const m=c.data.field(g.field);if(kv(m))throw new re(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new re(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(m)}return new Mc(d,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=lu(n.firestore);return function(s,a,c,u,d,g){const m=s.explicitOrderBy;if(d.length>m.length)throw new re(L.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<d.length;v++){const C=d[v];if(m[v].field.isKeyField()){if("string"!=typeof C)throw new re(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof C}`);if(!MP(s)&&-1!==C.indexOf("/"))throw new re(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${C}' contains a slash.`);const w=s.path.child(Mt.fromString(C));if(!pe.isDocumentKey(w))throw new re(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const O=new pe(w);y.push(Yl(a,O))}else{const w=qB(c,u,C);y.push(w)}}return new Mc(y,g)}(n._query,n.firestore._databaseId,o,e,t,r)}}function YB(n,e,t){if("string"==typeof(t=(0,_t.m9)(t))){if(""===t)throw new re(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MP(e)&&-1!==t.indexOf("/"))throw new re(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mt.fromString(t));if(!pe.isDocumentKey(r))throw new re(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yl(n,new pe(r))}if(t instanceof dn)return Yl(n,t._key);throw new re(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pC(t)}.`)}function XB(n,e){if(!Array.isArray(n)||0===n.length)throw new re(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JB(n,e){const t=function(o,i){for(const s of o)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wD{convertValue(e,t="none"){switch(Tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cc(e,(o,i)=>{r[o]=this.convertValue(i,t)}),r}convertGeoPoint(e){return new mC(On(e.latitude),On(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fg(e));default:return null}}convertTimestamp(e){const t=Ec(e);return new _n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mt.fromString(e);xe(hU(r));const o=new wc(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return o.isEqual(t)||Vn(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function TC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class iee extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}class fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends gm{constructor(e,t,r,o,i,s){super(e,t,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ym extends Ca{data(e={}){return super.data(e)}}class kc{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ym(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>({type:"added",doc:new ym(o._firestore,o._userDataWriter,a.doc.key,a.doc,new fu(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:s++}))}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const c=new ym(o._firestore,o._userDataWriter,a.doc.key,a.doc,new fu(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,d=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:aee(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function t4(n,e){return n instanceof Ca&&e instanceof Ca?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kc&&e instanceof kc&&n._firestore===e._firestore&&gD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fc extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function n4(n,e,t){n=yt(n,dn);const r=yt(n.firestore,nn),o=TC(n.converter,e,t);return Hd(r,[yC(lu(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,yn.none())])}function r4(n,e,t,...r){n=yt(n,dn);const o=yt(n.firestore,nn),i=lu(o);let s;return s="string"==typeof(e=(0,_t.m9)(e))||e instanceof va?bD(i,"updateDoc",n._key,e,t,r):yD(i,"updateDoc",n._key,e),Hd(o,[s.toMutation(n._key,yn.exists(!0))])}function o4(n,...e){var t,r,o;n=(0,_t.m9)(n);let i={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||mD(e[s])||(i=e[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges};if(mD(e[s])){const g=e[s];e[s]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}let c,u,d;if(n instanceof dn)u=yt(n.firestore,nn),d=_d(n._key.path),c={next:g=>{e[s]&&e[s](ID(u,n,g))},error:e[s+1],complete:e[s+2]};else{const g=yt(n,Sr);u=yt(g.firestore,nn),d=g._query;const m=new Fc(u);c={next:y=>{e[s]&&e[s](new kc(u,m,g,y))},error:e[s+1],complete:e[s+2]},ZB(n._query)}return function(m,y,v,C){const w=new fC(C),O=new xM(y,w,v);return m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return DM(yield jd(m),O)})),()=>{w.Na(),m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return OM(yield jd(m),O)}))}}(Sn(u),d,a,c)}function Hd(n,e){return function(r,o){const i=new ar;return r.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function JX(n,e,t){return LM.apply(this,arguments)}(yield dD(r),o,i)})),i.promise}(Sn(n),e)}function ID(n,e,t){const r=t.docs.get(e._key),o=new Fc(n);return new Ca(n,o,e._key,r,new fu(t.hasPendingWrites,t.fromCache),e.converter)}const Tee={maxAttempts:5};class i4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lu(e)}set(e,t,r){this._verifyNotCommitted();const o=Vc(e,this._firestore),i=TC(o.converter,t,r),s=yC(this._dataReader,"WriteBatch.set",o._key,i,null!==o.converter,r);return this._mutations.push(s.toMutation(o._key,yn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const i=Vc(e,this._firestore);let s;return s="string"==typeof(t=(0,_t.m9)(t))||t instanceof va?bD(this._dataReader,"WriteBatch.update",i._key,t,r,o):yD(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vc(e,this._firestore);return this._mutations=this._mutations.concat(new wd(t._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vc(n,e){if((n=(0,_t.m9)(n)).firestore!==e)throw new re(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Pee extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=lu(t)}get(t){const r=Vc(t,this._firestore),o=new iee(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||1!==i.length)return Ee();const s=i[0];if(s.isFoundDocument())return new gm(this._firestore,o,s.key,s,r.converter);if(s.isNoDocument())return new gm(this._firestore,o,r._key,null,r.converter);throw Ee()})}set(t,r,o){const i=Vc(t,this._firestore),s=TC(i.converter,r,o),a=yC(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,o);return this._transaction.set(i._key,a),this}update(t,r,o,...i){const s=Vc(t,this._firestore);let a;return a="string"==typeof(r=(0,_t.m9)(r))||r instanceof va?bD(this._dataReader,"Transaction.update",s._key,r,o,i):yD(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){const r=Vc(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vc(e,this._firestore),r=new Fc(this._firestore);return super.get(e).then(o=>new Ca(this._firestore,r,t._key,o._document,new fu(!1,!1),t.converter))}}function PD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function l4(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function u4(){if(!function iY(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ld=Es.SDK_VERSION,(0,Es._registerComponent)(new iv.wA("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new nn(new AQ(r.getProvider("auth-internal")),new RQ(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(u.options.projectId,d)}(s,o),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,Es.registerVersion)(BV,"4.4.0",e),(0,Es.registerVersion)(BV,"4.4.0","esm2017")}();class bm{constructor(e){this._delegate=e}static fromBase64String(e){return u4(),new bm(xs.fromBase64String(e))}static fromUint8Array(e){return l4(),new bm(xs.fromUint8Array(e))}toBase64(){return u4(),this._delegate.toBase64()}toUint8Array(){return l4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MD(n){return function Fee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Vee{enableIndexedDbPersistence(e,t){return function NJ(n,e){jB(n=yt(n,nn));const t=Sn(n);if(t._uninitializedComponentsProvider)throw new re(L.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new Ud;return BB(t,o,new iD(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kJ(n){jB(n=yt(n,nn));const e=Sn(n);if(e._uninitializedComponentsProvider)throw new re(L.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ud;return BB(e,r,new CB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FJ(n){if(n._initialized&&!n._terminated)throw new re(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{yield(t=(0,Q.Z)(function*(o){if(!zi.D())return Promise.resolve();const i=o+"main";yield zi.delete(i)}),function r(o){return t.apply(this,arguments)})(YP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class f4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof wc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&So("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function FB(n,e,t,r={}){var o;const i=(n=yt(n,fm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==i.host&&i.host!==s&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=_r.MOCK_USER;else{a=(0,_t.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _r(u)}n._authCredentials=new DQ(new jV(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function LJ(n){return function vJ(n){return n.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield IB(n),t=yield TB(n);return e.setNetworkEnabled(!0),function(o){const i=de(o);return i.C_.delete(0),cm(i)}(t)}))}(Sn(n=yt(n,nn)))}(this._delegate)}disableNetwork(){return function UJ(n){return function CJ(n){return n.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield IB(n),t=yield TB(n);return e.setNetworkEnabled(!1),(r=(0,Q.Z)(function*(i){const s=de(i);s.C_.add(0),yield Rd(s),s.M_.set("Offline")}),function o(i){return r.apply(this,arguments)})(t);var r}))}(Sn(n=yt(n,nn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VJ(n){return function(t){const r=new ar;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function rJ(n,e){return HM.apply(this,arguments)}(yield dD(t),r)})),r.promise}(Sn(n=yt(n,nn)))}(this._delegate)}onSnapshotsInSync(e){return function mee(n,e){return function IJ(n,e){const t=new fC(e);return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return o=yield jd(n),i=t,de(o).q_.add(i),void i.next();var o,i})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return o=yield jd(n),i=t,void de(o).q_.delete(i);var o,i}))}}(Sn(n=yt(n,nn)),mD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zd(this,VB(this._delegate,e))}catch(t){throw bo(t,"collection()","Firestore.collection()")}}doc(e){try{return new wi(this,gC(this._delegate,e))}catch(t){throw bo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vo(this,function OJ(n,e){if(n=yt(n,fm),pD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sr(n,null,(r=e,new ga(Mt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mee(n,e,t){n=yt(n,nn);const r=Object.assign(Object.assign({},Tee),t);return function(i){if(i.maxAttempts<1)throw new re(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,a){const c=new ar;return i.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){const u=yield function PB(n){return hC(n).then(e=>e.datastore)}(i);new yJ(i.asyncQueue,u,a,s,c).run()})),c.promise}(Sn(n),o=>e(new Pee(n,o)),r)}(this._delegate,t=>e(new d4(this,t)))}batch(){return Sn(this._delegate),new h4(new i4(this._delegate,e=>Hd(this._delegate,e)))}loadBundle(e){return function BJ(n,e){const t=Sn(n=yt(n,nn)),r=new RJ;return function TJ(n,e,t,r){const o=function(s,a){let c;return c="string"==typeof s?ZL().encode(s):s,d=function(d,g){if(d instanceof Uint8Array)return EB(d,g);if(d instanceof ArrayBuffer)return EB(new Uint8Array(d),g);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new mJ(d,a);var d}(t,am(e));n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){!function pJ(n,e,t){const r=de(n);var o;(o=(0,Q.Z)(function*(s,a,c){try{const u=yield a.getMetadata();if(yield function(v,C){const w=de(v),O=Ln(C.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",D=>w.Kr.getBundleMetadata(D,C.id)).then(D=>!!D&&D.createTime.compareTo(O)>=0)}(s.localStore,u))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(v=u).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);c._updateProgress(dB(u));const d=new WX(u,s.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield d.ea(g);y&&c._updateProgress(y),g=yield a.Ma()}const m=yield d.complete();return yield ba(s,m.ra,void 0),yield function(v,C){const w=de(v);return w.persistence.runTransaction("Save bundle","readwrite",O=>w.Kr.saveBundleMetadata(O,C))}(s.localStore,u),c._completeWith(m.progress),Promise.resolve(m.na)}catch(u){return So("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var v}),function i(s,a,c){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield dD(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function jJ(n,e){return function PJ(n,e){return n.asyncQueue.enqueue((0,Q.Z)(function*(){return function(r,o){const i=de(r);return i.persistence.runTransaction("Get named query","readonly",s=>i.Kr.getNamedQuery(s,o))}(yield Bd(n),e)}))}(Sn(n=yt(n,nn)),e).then(t=>t?new Sr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vo(this,t):null)}}class MC extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bm(new xs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wi.forKey(t,this.firestore,null)}}class d4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}get(e){const t=hu(e);return this._delegate.get(t).then(r=>new vm(this._firestore,new Ca(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=hu(e);return r?(PD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const i=hu(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,r,...o),this}delete(e){const t=hu(e);return this._delegate.delete(t),this}}class h4{constructor(e){this._delegate=e}set(e,t,r){const o=hu(e);return r?(PD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const i=hu(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,r,...o),this}delete(e){const t=hu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class du{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ym(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=du.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let i=o.get(t);return i||(i=new du(e,new MC(e),t),o.set(t,i)),i}}du.INSTANCES=new WeakMap;class wi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wi(t,new dn(t._delegate,r,new pe(e)))}static forKey(e,t,r){return new wi(t,new dn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new zd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zd(this.firestore,VB(this._delegate,e))}catch(t){throw bo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_t.m9)(e))instanceof dn&&LB(this._delegate,e)}set(e,t){t=PD("DocumentReference.set",t);try{return t?n4(this._delegate,e,t):n4(this._delegate,e)}catch(r){throw bo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?r4(this._delegate,e):r4(this._delegate,e,t,...r)}catch(o){throw bo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function pee(n){return Hd(yt(n.firestore,nn),[new wd(n._key,yn.none())])}(this._delegate)}onSnapshot(...e){const t=p4(e),r=g4(e,o=>new vm(this.firestore,new Ca(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return o4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lee(n){n=yt(n,dn);const e=yt(n.firestore,nn),t=Sn(e),r=new Fc(e);return function EJ(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(i,s,a){try{const c=yield function(d,g){const m=de(d);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(i,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new re(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=kd(c,`Failed to get document '${s} from cache`);a.reject(u)}}),function o(i,s,a){return r.apply(this,arguments)})(yield Bd(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Ca(e,r,n._key,o,new fu(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function uee(n){n=yt(n,dn);const e=yt(n.firestore,nn);return MB(Sn(e),n._key,{source:"server"}).then(t=>ID(e,n,t))}(this._delegate):function cee(n){n=yt(n,dn);const e=yt(n.firestore,nn);return MB(Sn(e),n._key).then(t=>ID(e,n,t))}(this._delegate),t.then(r=>new vm(this.firestore,new Ca(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wi(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function bo(n,e,t){return n.message=n.message.replace(e,t),n}function p4(n){for(const e of n)if("object"==typeof e&&!MD(e))return e;return{}}function g4(n,e){var t,r;let o;return o=MD(n[0])?n[0]:MD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:i=>{o.next&&o.next(e(i))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class vm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return t4(this._delegate,e._delegate)}}class Cm extends vm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function PQ(n,e){n||Ee()}(void 0!==t),t}}class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}where(e,t,r){try{return new vo(this.firestore,Nc(this._delegate,function YJ(n,e,t){const r=e,o=CC("where",n);return _m._create(o,r,t)}(e,t,r)))}catch(o){throw bo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vo(this.firestore,Nc(this._delegate,function XJ(n,e="asc"){const t=e,r=CC("orderBy",n);return ED._create(r,t)}(e,t)))}catch(r){throw bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vo(this.firestore,Nc(this._delegate,function JJ(n){return NB("limit",n),EC._create("limit",n,"F")}(e)))}catch(t){throw bo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vo(this.firestore,Nc(this._delegate,function eee(n){return NB("limitToLast",n),EC._create("limitToLast",n,"L")}(e)))}catch(t){throw bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vo(this.firestore,Nc(this._delegate,function tee(...n){return wC._create("startAt",n,!0)}(...e)))}catch(t){throw bo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vo(this.firestore,Nc(this._delegate,function nee(...n){return wC._create("startAfter",n,!1)}(...e)))}catch(t){throw bo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vo(this.firestore,Nc(this._delegate,function ree(...n){return IC._create("endBefore",n,!1)}(...e)))}catch(t){throw bo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vo(this.firestore,Nc(this._delegate,function oee(...n){return IC._create("endAt",n,!0)}(...e)))}catch(t){throw bo(t,"endAt()","Query.endAt()")}}isEqual(e){return gD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function dee(n){n=yt(n,Sr);const e=yt(n.firestore,nn),t=Sn(e),r=new Fc(e);return function wJ(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(i,s,a){try{const c=yield oC(i,s,!0),u=new gB(s,c.ls),d=u.ca(c.documents),g=u.applyChanges(d,!1);a.resolve(g.snapshot)}catch(c){const u=kd(c,`Failed to execute query '${s} against cache`);a.reject(u)}}),function o(i,s,a){return r.apply(this,arguments)})(yield Bd(n),e,t);var r})),t.promise}(t,n._query).then(o=>new kc(e,r,n,o))}(this._delegate):"server"===e?.source?function hee(n){n=yt(n,Sr);const e=yt(n.firestore,nn),t=Sn(e),r=new Fc(e);return DB(t,n._query,{source:"server"}).then(o=>new kc(e,r,n,o))}(this._delegate):function fee(n){n=yt(n,Sr);const e=yt(n.firestore,nn),t=Sn(e),r=new Fc(e);return ZB(n._query),DB(t,n._query).then(o=>new kc(e,r,n,o))}(this._delegate),t.then(r=>new DD(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=p4(e),r=g4(e,o=>new DD(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return o4(this._delegate,t,r)}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}class Uee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Uee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Cm(this._firestore,r))})}isEqual(e){return t4(this._delegate,e._delegate)}}class zd extends vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wi(this.firestore,e):null}doc(e){try{return new wi(this.firestore,void 0===e?gC(this._delegate):gC(this._delegate,e))}catch(t){throw bo(t,"doc()","CollectionReference.doc()")}}add(e){return function gee(n,e){const t=yt(n.firestore,nn),r=gC(n),o=TC(n.converter,e);return Hd(t,[yC(lu(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wi(this.firestore,t))}isEqual(e){return LB(this._delegate,e._delegate)}withConverter(e){return new zd(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function hu(n){return yt(n,dn)}class AD{constructor(...e){this._delegate=new va(...e)}static documentId(){return new AD(un.keyField().canonicalString())}isEqual(e){return(e=(0,_t.m9)(e))instanceof va&&this._delegate._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Aee(){return new _D("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pu(e)}static delete(){const e=function Dee(){return new hm("deleteField")}();return e._methodName="FieldValue.delete",new pu(e)}static arrayUnion(...e){const t=function Oee(...n){return new GJ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pu(t)}static arrayRemove(...e){const t=function See(...n){return new WJ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pu(t)}static increment(e){const t=function Ree(n){return new KJ("increment",n)}(e);return t._methodName="FieldValue.increment",new pu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bee={Firestore:f4,GeoPoint:mC,Timestamp:_n,Blob:bm,Transaction:d4,WriteBatch:h4,DocumentReference:wi,DocumentSnapshot:vm,Query:vo,QueryDocumentSnapshot:Cm,QuerySnapshot:DD,CollectionReference:zd,FieldPath:AD,FieldValue:pu,setLogLevel:function Lee(n){!function TQ(n){yc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function m4(n,e){return function Hee(n,e=CT){return new ht(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function OD(n,e){return m4(n,e).pipe(ve(t=>({payload:t,type:"query"})))}!function $ee(n){(function jee(n,e){n.INTERNAL.registerComponent(new iv.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Bee)))})(n,(e,t)=>new f4(e,t,new Vee)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(ws.Z);class _4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:i}=w4(r,t);return new v4(o,i,this.afs)}snapshotChanges(){return function zee(n,e){return m4(n,e).pipe(rv(void 0),PT(),ve(t=>{const[r,o]=t;return o.exists?r?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mo)}valueChanges(e={}){return this.snapshotChanges().pipe(ve(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return M(this.ref.get(e)).pipe(mo)}}function DC(n,e){return OD(n,e).pipe(rv(void 0),PT(),ve(t=>{const[r,o]=t,i=o.payload.docChanges(),s=i.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((a,c)=>{const u=i.find(g=>g.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function y4(n,e,t){return DC(n,t).pipe(ov((r,o)=>function qee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Gee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return SD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return SD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return SD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(i=>i.payload),e),[]),an(),ve(r=>r.map(o=>({type:o.type,payload:o}))))}function SD(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function b4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class v4{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=DC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ve(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(rv(void 0),PT(),Ci(([r,o])=>o.length>0||!r),ve(([,r])=>r),mo)}auditTrail(e){return this.stateChanges(e).pipe(ov((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=b4(e);return y4(this.query,t,this.afs.schedulers.outsideAngular).pipe(mo)}valueChanges(e={}){return OD(this.query,this.afs.schedulers.outsideAngular).pipe(ve(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),mo)}get(e){return M(this.query.get(e)).pipe(mo)}add(e){return this.ref.add(e)}doc(e){return new _4(this.ref.doc(e),this.afs)}}class Wee{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DC(this.query,this.afs.schedulers.outsideAngular).pipe(ve(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ci(t=>t.length>0),mo):DC(this.query,this.afs.schedulers.outsideAngular).pipe(mo)}auditTrail(e){return this.stateChanges(e).pipe(ov((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=b4(e);return y4(this.query,t,this.afs.schedulers.outsideAngular).pipe(mo)}valueChanges(e={}){return OD(this.query,this.afs.schedulers.outsideAngular).pipe(ve(r=>r.payload.docs.map(o=>e.idField?{[e.idField]:o.id,...o.data()}:o.data())),mo)}get(e){return M(this.query.get(e)).pipe(mo)}}const C4=new le("angularfire2.enableFirestorePersistence"),E4=new le("angularfire2.firestore.persistenceSettings"),Kee=new le("angularfire2.firestore.settings"),Zee=new le("angularfire2.firestore.use-emulator");function w4(n,e=(t=>t)){return{query:e(n),ref:n}}let RD=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,o,i,s,a,c,u,d,g,m,y,v,C,w,O,D){this.schedulers=c;const S=ev(t,a,r),U=d;g&&CF(S,a,m,v,C,w,y,O),[this.firestore,this.persistenceEnabled$]=IT(`${S.name}.firestore`,"AngularFirestore",S.name,()=>{const ce=a.runOutsideAngular(()=>S.firestore());if(i&&ce.settings(i),U&&ce.useEmulator(...U),o&&!Db(s)){const De=()=>{try{return M(ce.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),G(!1)}};return[ce,a.runOutsideAngular(De)]}return[ce,G(!1)]},[i,U,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:s}=w4(o,r),a=this.schedulers.ngZone.run(()=>i);return new v4(a,s,this)}collectionGroup(t,r){const o=r||(s=>s),i=this.firestore.collectionGroup(t);return new Wee(o(i),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new _4(o,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(W(cg),W(lg,8),W(C4,8),W(Kee,8),W(Fi),W(It),W(wT),W(E4,8),W(Zee,8),W(EF,8),W(gF,8),W(mF,8),W(_F,8),W(yF,8),W(bF,8),W(vF,8),W(ET,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Qee=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Jb.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:C4,useValue:!0},{provide:E4,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=vn({providers:[RD]})}return n})();const I4="firebasestorage.googleapis.com",T4="storageBucket";class Tn extends _t.ZR{constructor(e,t,r=0){super(xD(e),`Firebase Storage: ${t} (${xD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var bn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(bn||{});function xD(n){return"storage/"+n}function ND(){return new Tn(bn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function P4(){return new Tn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M4(){return new Tn(bn.CANCELED,"User canceled the upload/download.")}function D4(){return new Tn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qd(n){return new Tn(bn.INVALID_ARGUMENT,n)}function A4(){return new Tn(bn.APP_DELETED,"The Firebase app was deleted.")}function O4(n){return new Tn(bn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Em(n,e){return new Tn(bn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wm(n){throw new Tn(bn.INTERNAL_ERROR,"Internal error: "+n)}class Yr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Yr.makeFromUrl(e,t)}catch{return new Yr(e,"")}if(""===r.path)return r;throw function ate(n){return new Tn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+o+"(/(.*))?$","i");function u(U){U.path_=decodeURIComponent(U.path)}const g=t.replace(/[.]/g,"\\."),S=[{regex:a,indices:{bucket:1,path:3},postModify:function i(U){"/"===U.path.charAt(U.path.length-1)&&(U.path_=U.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===I4?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let U=0;U<S.length;U++){const ce=S[U],De=ce.regex.exec(e);if(De){let Ct=De[ce.indices.path];Ct||(Ct=""),r=new Yr(De[ce.indices.bucket],Ct),ce.postModify(r);break}}if(null==r)throw function ste(n){return new Tn(bn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class dte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function AC(n){return"string"==typeof n||n instanceof String}function S4(n){return kD()&&n instanceof Blob}function kD(){return typeof Blob<"u"}function FD(n,e,t,r){if(r<e)throw qd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw qd(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ea(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function R4(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Gd=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Gd||{});function x4(n,e){const t=n>=500&&n<600,o=-1!==[408,429].indexOf(n),i=-1!==e.indexOf(n);return t||o||i}class yte{constructor(e,t,r,o,i,s,a,c,u,d,g,m=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const t=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function gte(n){return void 0!==n}(c)?i():i(c)}catch(c){s(c)}else if(null!==a){const c=ND();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(o.canceled?this.appDelete_?A4():M4():P4())};this.canceled_?t(0,new OC(!1,null,!0)):this.backoffId_=function hte(n,e,t){let r=1,o=null,i=null,s=!1,a=0;function c(){return 2===a}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function g(w){o=setTimeout(()=>{o=null,n(y,c())},w)}function m(){i&&clearTimeout(i)}function y(w,...O){if(u)return void m();if(w)return m(),void d.call(null,w,...O);if(c()||s)return m(),void d.call(null,w,...O);let S;r<64&&(r*=2),1===a?(a=2,S=0):S=1e3*(r+Math.random()),g(S)}let v=!1;function C(w){v||(v=!0,m(),!u&&(null!==o?(w||(a=2),clearTimeout(o),g(0)):w||(a=1)))}return g(0),i=setTimeout(()=>{s=!0,C(!0)},t),C}((r,o)=>{if(o)return void r(!1,new OC(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Gd.NO_ERROR,c=i.getStatus();if(!a||x4(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Gd.ABORT;return void r(!1,new OC(!1,null,d))}const u=-1!==this.successCodes_.indexOf(c);r(!0,new OC(u,i))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function pte(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class OC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Tte(...n){const e=function Ite(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(kD())return new Blob(n);throw new Tn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Wo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VD{constructor(e,t){this.data=e,this.contentType=t||null}}function LD(n,e){switch(n){case Wo.RAW:return new VD(N4(e));case Wo.BASE64:case Wo.BASE64URL:return new VD(k4(n,e));case Wo.DATA_URL:return new VD(function Ate(n){const e=new F4(n);return e.base64?k4(Wo.BASE64,e.rest):function Dte(n){let e;try{e=decodeURIComponent(n)}catch{throw Em(Wo.DATA_URL,"Malformed data URL.")}return N4(e)}(e.rest)}(e),function Ote(n){return new F4(n).contentType}(e))}throw ND()}function N4(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function k4(n,e){switch(n){case Wo.BASE64:{const o=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(o||i)throw Em(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Wo.BASE64URL:{const o=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(o||i)throw Em(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Mte(n){if(typeof atob>"u")throw function fte(n){return new Tn(bn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(o){throw o.message.includes("polyfill")?o:Em(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class F4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Em(Wo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Ste(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ns{constructor(e,t){let r=0,o="";S4(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(S4(this.data_)){const o=function Pte(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Ns(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(kD()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(Tte.apply(null,t))}{const t=e.map(s=>AC(s)?LD(Wo.RAW,s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Ns(o,!0)}}uploadData(){return this.data_}}function UD(n){let e;try{e=JSON.parse(n)}catch{return null}return function _te(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function V4(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Nte(n,e){return e}class Co{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||Nte}}let SC=null;function Im(){if(SC)return SC;const n=[];n.push(new Co("bucket")),n.push(new Co("generation")),n.push(new Co("metageneration")),n.push(new Co("name","fullPath",!0));const t=new Co("name");t.xform=function e(i,s){return function kte(n){return!AC(n)||n.length<2?n:V4(n)}(s)},n.push(t);const o=new Co("size");return o.xform=function r(i,s){return void 0!==s?Number(s):s},n.push(o),n.push(new Co("timeCreated")),n.push(new Co("updated")),n.push(new Co("md5Hash",null,!0)),n.push(new Co("cacheControl",null,!0)),n.push(new Co("contentDisposition",null,!0)),n.push(new Co("contentEncoding",null,!0)),n.push(new Co("contentLanguage",null,!0)),n.push(new Co("contentType",null,!0)),n.push(new Co("metadata","customMetadata",!0)),SC=n,SC}function L4(n,e,t){const r=UD(e);return null===r?null:function Vte(n,e,t){const r={type:"file"},o=t.length;for(let i=0;i<o;i++){const s=t[i];r[s.local]=s.xform(r,e[s.server])}return function Fte(n,e){Object.defineProperty(n,"ref",{get:function t(){const i=new Yr(n.bucket,n.fullPath);return e._makeStorageReference(i)}})}(r,n),r}(n,r,t)}function BD(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(t[i.server]=n[i.local])}return JSON.stringify(t)}const U4="prefixes",B4="items";class ks{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fs(n){if(!n)throw ND()}function RC(n,e){return function t(r,o){const i=L4(n,o,e);return Fs(null!==i),i}}function Wd(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function ote(){return new Tn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rte(){return new Tn(bn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function nte(n){return new Tn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ite(n){return new Tn(bn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}}function Tm(n){const e=Wd(n);return function t(r,o){let i=e(r,o);return 404===r.getStatus()&&(i=function tte(n){return new Tn(bn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),i.serverResponse=o.serverResponse,i}}function j4(n,e,t){const o=Ea(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new ks(o,"GET",RC(n,t),s);return a.errorHandler=Tm(e),a}function Hte(n,e,t,r,o){const i={};i.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(i.delimiter=t),r&&(i.pageToken=r),o&&(i.maxResults=o);const a=Ea(e.bucketOnlyServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,d=new ks(a,"GET",function jte(n,e){return function t(r,o){const i=function Bte(n,e,t){const r=UD(t);return null===r?null:function Ute(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[U4])for(const o of t[U4]){const i=o.replace(/\/$/,""),s=n._makeStorageReference(new Yr(e,i));r.prefixes.push(s)}if(t[B4])for(const o of t[B4]){const i=n._makeStorageReference(new Yr(e,o.name));r.items.push(i)}return r}(n,e,r)}(n,e,o);return Fs(null!==i),i}}(n,e.bucket),u);return d.urlParams=i,d.errorHandler=Wd(e),d}function H4(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Wte(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class xC{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function jD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Fs(!1)}return Fs(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Yte={STATE_CHANGED:"state_changed"},Eo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $D(n){switch(n){case"running":case"pausing":case"canceling":return Eo.RUNNING;case"paused":return Eo.PAUSED;case"success":return Eo.SUCCESS;case"canceled":return Eo.CANCELED;default:return Eo.ERROR}}class Xte{constructor(e,t,r){if(function mte(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}function Kd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let G4=null;class Jte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw wm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ene extends Jte{initXhr(){this.xhr_.responseType="text"}}function qi(){return G4?G4():new ene}class W4{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Im(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(bn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(x4(o.status,[])){if(!i)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=P4()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(bn.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Kte(n,e,t,r,o){const i=e.bucketOnlyServerUrl(),s=H4(e,r,o),a={name:s.fullPath},c=Ea(i,n.host,n._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=BD(s,t),v=new ks(c,"POST",function y(C){let w;jD(C);try{w=C.getResponseHeader("X-Goog-Upload-URL")}catch{Fs(!1)}return Fs(AC(w)),w},n.maxUploadRetryTime);return v.urlParams=a,v.headers=d,v.body=g,v.errorHandler=Wd(e),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qi,e,t);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function Zte(n,e,t,r){const c=new ks(t,"POST",function i(u){const d=jD(u,["active","final"]);let g=null;try{g=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fs(!1)}g||Fs(!1);const m=Number(g);return Fs(!isNaN(m)),new xC(m,r.size(),"final"===d)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Wd(e),c}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,qi,t,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new xC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=function Qte(n,e,t,r,o,i,s,a){const c=new xC(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function lte(){return new Tn(bn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=c.total-c.current;let d=u;o>0&&(d=Math.min(d,o));const g=c.current;let y="";y=0===d?"finalize":u===d?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},C=r.slice(g,g+d);if(null===C)throw D4();const S=new ks(t,"POST",function w(U,ce){const De=jD(U,["active","final"]),Be=c.current+d,Ct=r.size();let lr;return lr="final"===De?RC(e,i)(U,ce):null,new xC(Be,Ct,"final"===De,lr)},e.maxUploadRetryTime);return S.headers=v,S.body=C.uploadData(),S.progressCallback=a||null,S.errorHandler=Wd(n),S}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,qi,o,i,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=j4(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,qi,e,t);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function z4(n,e,t,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let S="";for(let U=0;U<2;U++)S+=Math.random().toString().slice(2);return S}();s["Content-Type"]="multipart/related; boundary="+c;const u=H4(e,r,o),d=BD(u,t),y=Ns.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+c+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===y)throw D4();const v={name:u.fullPath},C=Ea(i,n.host,n._protocol),O=n.maxUploadRetryTime,D=new ks(C,"POST",RC(n,t),O);return D.urlParams=v,D.headers=s,D.body=y.uploadData(),D.errorHandler=Wd(e),D}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qi,e,t);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=M4(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=$D(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const i=new Xte(t||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch($D(this._state)){case Eo.SUCCESS:Kd(this._resolve.bind(null,this.snapshot))();break;case Eo.CANCELED:case Eo.ERROR:Kd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($D(this._state)){case Eo.RUNNING:case Eo.PAUSED:e.next&&Kd(e.next.bind(e,this.snapshot))();break;case Eo.SUCCESS:e.complete&&Kd(e.complete.bind(e))();break;default:e.error&&Kd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class gu{constructor(e,t){this._service=e,this._location=t instanceof Yr?t:Yr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gu(e,t)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V4(this._location.path)}get storage(){return this._service}get parent(){const e=function Rte(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Yr(this._location.bucket,e);return new gu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw O4(e)}}function Z4(n,e,t){return HD.apply(this,arguments)}function HD(){return HD=(0,Q.Z)(function*(n,e,t){const o=yield Q4(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield Z4(n,e,o.nextPageToken))}),HD.apply(this,arguments)}function Q4(n,e){null!=e&&"number"==typeof e.maxResults&&FD("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Hte(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,qi)}function dne(n){n._throwIfRoot("getDownloadURL");const e=function zte(n,e,t){const o=Ea(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new ks(o,"GET",function $te(n,e){return function t(r,o){const i=L4(n,o,e);return Fs(null!==i),function Lte(n,e,t,r){const o=UD(e);if(null===o||!AC(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const s=encodeURIComponent;return i.split(",").map(u=>{const g=n.fullPath;return Ea("/b/"+s(n.bucket)+"/o/"+s(g),t,r)+R4({alt:"media",token:u})})[0]}(i,o,n.host,n._protocol)}}(n,t),s);return a.errorHandler=Tm(e),a}(n.storage,n._location,Im());return n.storage.makeRequestWithTokens(e,qi).then(t=>{if(null===t)throw function ute(){return new Tn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Y4(n,e){const t=function xte(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Yr(n._location.bucket,t);return new gu(n.storage,r)}function X4(n,e){if(n instanceof zD){const t=n;if(null==t._bucket)throw function cte(){return new Tn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T4+"' property when initializing the app?")}();const r=new gu(t,t._bucket);return null!=e?X4(r,e):r}return void 0!==e?Y4(n,e):n}function mne(n,e){if(e&&function pne(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof zD)return function gne(n,e){return new gu(n,e)}(n,e);throw qd("To use ref(service, url), the first argument must be a Storage instance.")}return X4(n,e)}function J4(n,e){const t=e?.[T4];return null==t?null:Yr.makeFromBucketSpec(t,n)}class zD{constructor(e,t,r,o,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=I4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Yr.makeFromBucketSpec(o,this._host):J4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Yr.makeFromBucketSpec(this._url,e):J4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Q.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Q.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gu(this,e)}_makeRequest(e,t,r,o,i=!0){if(this._deleted)return new dte(A4());{const s=function wte(n,e,t,r,o,i,s=!0){const a=R4(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return function Cte(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function bte(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function vte(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,i),function Ete(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new yte(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,s)}(e,this._appId,r,o,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,Q.Z)(function*(){const[o,i]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,i).getPromise()})()}}const ej="@firebase/storage";function rj(n,e){return mne(n=(0,_t.m9)(n),e)}function Pne(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new zD(t,r,o,e,Es.SDK_VERSION)}!function Mne(){(0,Es._registerComponent)(new iv.wA("storage",Pne,"PUBLIC").setMultipleInstances(!0)),(0,Es.registerVersion)(ej,"0.12.0",""),(0,Es.registerVersion)(ej,"0.12.0","esm2017")}();class NC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ij{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new NC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new NC(r,this,this._ref))},t)}on(e,t,r,o){let i;return t&&(i="function"==typeof t?s=>t(new NC(s,this,this._ref)):{next:t.next?s=>t.next(new NC(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,r||void 0,o||void 0)}}class sj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new wa(e,this._service))}get items(){return this._delegate.items.map(e=>new wa(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wa{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Tne(n,e){return Y4(n,e)}(this._delegate,e);return new wa(t,this.storage)}get root(){return new wa(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new wa(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new ij(function yne(n,e,t){return function ane(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new W4(n,new Ns(e),t)}(n=(0,_t.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Wo.RAW,r){this._throwIfRoot("putString");const o=LD(t,e),i=Object.assign({},r);return null==i.contentType&&null!=o.contentType&&(i.contentType=o.contentType),new ij(new W4(this._delegate,new Ns(o.data,!0),i),this)}listAll(){return function Ene(n){return function lne(n){const e={prefixes:[],items:[]};return Z4(n,e).then(()=>e)}(n=(0,_t.m9)(n))}(this._delegate).then(e=>new sj(e,this.storage))}list(e){return function Cne(n,e){return Q4(n=(0,_t.m9)(n),e)}(this._delegate,e||void 0).then(t=>new sj(t,this.storage))}getMetadata(){return function bne(n){return function une(n){n._throwIfRoot("getMetadata");const e=j4(n.storage,n._location,Im());return n.storage.makeRequestWithTokens(e,qi)}(n=(0,_t.m9)(n))}(this._delegate)}updateMetadata(e){return function vne(n,e){return function fne(n,e){n._throwIfRoot("updateMetadata");const t=function qte(n,e,t,r){const i=Ea(e.fullServerUrl(),n.host,n._protocol),a=BD(t,r),u=n.maxOperationRetryTime,d=new ks(i,"PATCH",RC(n,r),u);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=Tm(e),d}(n.storage,n._location,e,Im());return n.storage.makeRequestWithTokens(t,qi)}(n=(0,_t.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function wne(n){return dne(n=(0,_t.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ine(n){return function hne(n){n._throwIfRoot("deleteObject");const e=function Gte(n,e){const r=Ea(e.fullServerUrl(),n.host,n._protocol),a=new ks(r,"DELETE",function s(c,u){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Tm(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,qi)}(n=(0,_t.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw O4(e)}}class aj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(cj(e))throw qd("ref() expected a child path but got a URL, use refFromURL instead.");return new wa(rj(this._delegate,e),this)}refFromURL(e){if(!cj(e))throw qd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yr.makeFromUrl(e,this._delegate.host)}catch{throw qd("refFromUrl() expected a valid full URL but got an invalid one.")}return new wa(rj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function oj(n,e,t,r={}){!function _ne(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,_t.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function cj(n){return/^[A-Za-z]+:\/\//.test(n)}function Sne(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new aj(t,r)}function lj(n){const e=function xne(n){return new ht(e=>{const t=s=>e.next(s);t(n.snapshot);const i=n.on("state_changed",t);return n.then(s=>{t(s),e.complete()},s=>{t(n.snapshot),(s=>{e.error(s)})(s)}),function(){i()}}).pipe(function Yee(n,e=CT){return H((t,r)=>{let o=null,i=null,s=null;const a=()=>{if(o){o.unsubscribe(),o=null;const u=i;i=null,r.next(u)}};function c(){const u=s+n,d=e.now();if(d<u)return o=this.schedule(void 0,u-d),void r.add(o);a()}t.subscribe(me(r,u=>{i=u,s=e.now(),o||(o=e.schedule(c,n),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(ve(t=>t.bytesTransferred/t.totalBytes*100))}}function kC(n){return{getDownloadURL:()=>G(void 0).pipe(lF,bt(()=>n.getDownloadURL()),mo),getMetadata:()=>G(void 0).pipe(lF,bt(()=>n.getMetadata()),mo),delete:()=>M(n.delete()),child:e=>kC(n.child(e)),updateMetadata:e=>M(n.updateMetadata(e)),put:(e,t)=>lj(n.put(e,t)),putString:(e,t,r)=>lj(n.putString(e,t,r)),list:e=>M(n.list(e)),listAll:()=>M(n.listAll())}}!function Rne(n){const e={TaskState:Eo,TaskEvent:Yte,StringFormat:Wo,Storage:aj,Reference:wa};n.INTERNAL.registerComponent(new iv.wA("storage-compat",Sne,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.3")}(ws.Z);const Nne=new le("angularfire2.storageBucket"),kne=new le("angularfire2.storage.maxUploadRetryTime"),Fne=new le("angularfire2.storage.maxOperationRetryTime"),Vne=new le("angularfire2.storage.use-emulator");let uj=(()=>{class n{storage;constructor(t,r,o,i,s,a,c,u,d,g){const m=ev(t,s,r);this.storage=IT(`${m.name}.storage.${o}`,"AngularFireStorage",m.name,()=>{const y=s.runOutsideAngular(()=>m.storage(o||void 0)),v=d;return v&&y.useEmulator(...v),c&&y.setMaxUploadRetryTime(c),u&&y.setMaxOperationRetryTime(u),y},[c,u])}ref(t){return kC(this.storage.ref(t))}refFromURL(t){return kC(this.storage.refFromURL(t))}upload(t,r,o){return kC(this.storage.ref(t)).put(r,o)}static \u0275fac=function(r){return new(r||n)(W(cg),W(lg,8),W(Nne,8),W(Fi),W(It),W(wT),W(kne,8),W(Fne,8),W(Vne,8),W(ET,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Lne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=vn({})}return n})(),Une=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Jb.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=vn({providers:[uj],imports:[Lne]})}return n})();class fj{}class Bne{}const Ia="*";function jne(n,e){return{type:7,name:n,definitions:e,options:{}}}function dj(n,e=null){return{type:4,styles:e,timings:n}}function hj(n,e=null){return{type:2,steps:n,options:e}}function Pm(n){return{type:6,styles:n,offset:null}}function qD(n,e,t){return{type:0,name:n,styles:e,options:t}}function pj(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Mm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const i=this.players.length;0==i?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==i&&this._onFinish()}),s.onDestroy(()=>{++r==i&&this._onDestroy()}),s.onStart(()=>{++o==i&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const mj=["toast-component",""];function $ne(n,e){if(1&n){const t=_i();q(0,"button",5),Oe("click",function(){return Le(t),Ue(be().remove())}),q(1,"span",6),Me(2,"\xd7"),$()()}}function Hne(n,e){if(1&n&&(Op(0),Me(1),Sp()),2&n){const t=be(2);ie(1),Tr("[",t.duplicatesCount+1,"]")}}function zne(n,e){if(1&n&&(q(0,"div"),Me(1),lt(2,Hne,2,1,"ng-container",4),$()),2&n){const t=be();ia(t.options.titleClass),Hr("aria-label",t.title),ie(1),Tr(" ",t.title," "),ie(1),ue("ngIf",t.duplicatesCount)}}function qne(n,e){if(1&n&&Xe(0,"div",7),2&n){const t=be();ia(t.options.messageClass),ue("innerHTML",t.message,Lw)}}function Gne(n,e){if(1&n&&(q(0,"div",8),Me(1),$()),2&n){const t=be();ia(t.options.messageClass),Hr("aria-label",t.message),ie(1),Tr(" ",t.message," ")}}function Wne(n,e){if(1&n&&(q(0,"div"),Xe(1,"div",9),$()),2&n){const t=be();ie(1),oa("width",t.width+"%")}}class ere{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class tre{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class nre{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new B;_activate=new B;_manualClose=new B;_resetTimeout=new B;_countDuplicate=new B;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class FC{toastId;config;message;title;toastType;toastRef;_onTap=new B;_onAction=new B;constructor(e,t,r,o,i,s){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=i,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const yj=new le("ToastConfig");class rre extends tre{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ore=(()=>{class n{_document=fe(Mn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ire{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let sre=(()=>{class n{_overlayContainer=fe(ore);_componentFactoryResolver=fe(bp);_appRef=fe(ca);_document=fe(Mn);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new rre(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ire(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VC=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,o,i,s){this.overlay=r,this._injector=o,this.sanitizer=i,this.ngZone=s,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,o={},i=""){return this._preBuildNotification(i,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,i){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts)if((!s||s&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(o,i),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,i){return i.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,i)):this._buildNotification(t,r,o,i)}_buildNotification(t,r,o,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&i.enableHtml&&(u=this.sanitizer.sanitize(Do.HTML,r));const d=new nre(c),g=new FC(this.index,i,u,o,t,d),y=jr.create({providers:[{provide:FC,useValue:g}],parent:this._injector}),v=new ere(i.toastComponent,y),C=c.attach(v,i.newestOnTop);d.componentInstance=C.instance;const w={toastId:this.index,title:o||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:C};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{w.toastRef.activate()})),this.toasts.push(w),w}static \u0275fac=function(r){return new(r||n)(W(yj),W(sre),W(jr),W(Y0),W(It))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const are={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(i=>{this.duplicatesCount=i}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(X(VC),X(FC),X(It))};static \u0275cmp=pr({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,o){1&r&&Oe("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&r&&(FI("@flyInOut",o.state),ia(o.toastClasses),oa("display",o.displayStyle))},standalone:!0,features:[ib],attrs:mj,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,o){1&r&&(lt(0,$ne,3,0,"button",0),lt(1,zne,3,5,"div",1),lt(2,qne,1,3,"div",2),lt(3,Gne,2,4,"div",3),lt(4,Wne,2,2,"div",4)),2&r&&(ue("ngIf",o.options.closeButton),ie(1),ue("ngIf",o.title),ie(1),ue("ngIf",o.message&&o.options.enableHtml),ie(1),ue("ngIf",o.message&&!o.options.enableHtml),ie(1),ue("ngIf",o.options.progressBar))},dependencies:[cc],encapsulation:2,data:{animation:[jne("flyInOut",[qD("inactive",Pm({opacity:0})),qD("active",Pm({opacity:1})),qD("removed",Pm({opacity:0})),pj("inactive => active",dj("{{ easeTime }}ms {{ easing }}")),pj("active => removed",dj("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},cre=(n={})=>Oy([{provide:yj,useValue:{default:are,config:n}}]);let lre=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[cre(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=vn({})}return n})();function bj(n){return new N(3e3,!1)}function Lc(n){switch(n.length){case 0:return new Mm;case 1:return n[0];default:return new gj(n)}}function vj(n,e,t=new Map,r=new Map){const o=[],i=[];let s=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),d=u==s,g=d&&a||new Map;c.forEach((m,y)=>{let v=y,C=m;if("offset"!==y)switch(v=n.normalizePropertyName(v,o),C){case"!":C=t.get(y);break;case Ia:C=r.get(y);break;default:C=n.normalizeStyleValue(y,v,C,o)}g.set(v,C)}),d||i.push(g),a=g,s=u}),o.length)throw function Rre(n){return new N(3502,!1)}();return i}function WD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&KD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&KD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&KD(t,"destroy",n)))}}function KD(n,e,t){const i=ZD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(i._data=s),i}function ZD(n,e,t,r,o="",i=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:i,disabled:!!s}}function Ko(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Cj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zre=(()=>typeof document>"u"?null:document.documentElement)();function QD(n){const e=n.parentNode||n.host||null;return e===zre?null:e}let mu=null,Ej=!1;function wj(n,e){for(;e;){if(e===n)return!0;e=QD(e)}return!1}function Ij(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Tj=(()=>{class n{validateStyleProperty(t){return function Gre(n){mu||(mu=function Wre(){return typeof document<"u"?document.body:null}()||{},Ej=!!mu.style&&"WebkitAppearance"in mu.style);let e=!0;return mu.style&&!function qre(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mu.style,!e&&Ej&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mu.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return wj(t,r)}getParentElement(t){return QD(t)}query(t,r,o){return Ij(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,i,s,a=[],c){return new Mm(o,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),YD=(()=>{class n{static#e=this.NOOP=new Tj}return n})();const Kre=1e3,XD="ng-enter",LC="ng-leave",UC="ng-trigger",BC=".ng-trigger",Mj="ng-animating",JD=".ng-animating";function Ta(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eA(parseFloat(e[1]),e[2])}function eA(n,e){return"s"===e?n*Kre:n}function jC(n,e,t){return n.hasOwnProperty("duration")?n:function Qre(n,e,t){let o,i=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(bj()),{duration:0,delay:0,easing:""};o=eA(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(i=eA(parseFloat(c),a[4]));const u=a[5];u&&(s=u)}else o=n;if(!t){let a=!1,c=e.length;o<0&&(e.push(function ure(){return new N(3100,!1)}()),a=!0),i<0&&(e.push(function fre(){return new N(3101,!1)}()),a=!0),a&&e.splice(c,0,bj())}return{duration:o,delay:i,easing:s}}(n,e,t)}function Dm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Dj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Uc(n,e=new Map,t){if(t)for(let[r,o]of t)e.set(r,o);for(let[r,o]of n)e.set(r,o);return e}function Vs(n,e,t){e.forEach((r,o)=>{const i=nA(o);t&&!t.has(o)&&t.set(o,n.style[i]),n.style[i]=r})}function _u(n,e){e.forEach((t,r)=>{const o=nA(r);n.style[o]=""})}function Am(n){return Array.isArray(n)?1==n.length?n[0]:hj(n):n}const tA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oj(n){let e=[];if("string"==typeof n){let t;for(;t=tA.exec(n);)e.push(t[1]);tA.lastIndex=0}return e}function Om(n,e,t){const r=n.toString(),o=r.replace(tA,(i,s)=>{let a=e[s];return null==a&&(t.push(function hre(n){return new N(3003,!1)}()),a=""),a.toString()});return o==r?n:o}function $C(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Jre=/-+([a-z0-9])/g;function nA(n){return n.replace(Jre,(...e)=>e[1].toUpperCase())}function Zo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function pre(n){return new N(3004,!1)}()}}function Sj(n,e){return window.getComputedStyle(n)[e]}const HC="*";function noe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function roe(n,e,t){if(":"==n[0]){const c=function ooe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Dre(n){return new N(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Mre(n){return new N(3015,!1)}()),e;const o=r[1],i=r[2],s=r[3];e.push(Rj(o,s));"<"==i[0]&&!(o==HC&&s==HC)&&e.push(Rj(s,o))}(r,t,e)):t.push(n),t}const zC=new Set(["true","1"]),qC=new Set(["false","0"]);function Rj(n,e){const t=zC.has(n)||qC.has(n),r=zC.has(e)||qC.has(e);return(o,i)=>{let s=n==HC||n==o,a=e==HC||e==i;return!s&&t&&"boolean"==typeof o&&(s=o?zC.has(n):qC.has(n)),!a&&r&&"boolean"==typeof i&&(a=i?zC.has(e):qC.has(e)),s&&a}}const ioe=new RegExp("s*:selfs*,?","g");function rA(n,e,t,r){return new soe(n).build(e,t,r)}class soe{constructor(e){this._driver=e}build(e,t,r){const o=new loe(t);return this._resetContextStyleTimingState(o),Zo(this,Am(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function mre(){return new N(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,i.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,o+=c.depCount,s.push(c)}else t.errors.push(function _re(){return new N(3007,!1)}())}),{type:7,name:e.name,states:i,transitions:s,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const i=new Set,s=o||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Oj(c).forEach(u=>{s.hasOwnProperty(u)||i.add(u)})})}),i.size&&($C(i.values()),t.errors.push(function yre(n,e){return new N(3008,!1)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Zo(this,Am(e.animation),t);return{type:1,matchers:noe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:yu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Zo(this,r,t)),options:yu(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const i=e.steps.map(s=>{t.currentTime=r;const a=Zo(this,s,t);return o=Math.max(o,t.currentTime),a});return t.currentTime=o,{type:3,steps:i,options:yu(e.options)}}visitAnimate(e,t){const r=function foe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oA(jC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(i=>"{"==i.charAt(0)&&"{"==i.charAt(1))){const i=oA(0,0,"");return i.dynamic=!0,i.strValue=t,i}const o=jC(t,e);return oA(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,i=e.styles?e.styles:Pm({});if(5==i.type)o=this.visitKeyframes(i,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=Pm(u)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,o=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of o)"string"==typeof a?a===Ia?r.push(a):t.errors.push(new N(3002,!1)):r.push(Dj(a));let i=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!i))for(let c of a.values())if(c.toString().indexOf("{{")>=0){i=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,i=t.currentTime;r&&i>0&&(i-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c);let g=!0;d&&(i!=o&&i>=d.startTime&&o<=d.endTime&&(t.errors.push(function vre(n,e,t,r,o){return new N(3010,!1)}()),g=!1),i=d.startTime),g&&u.set(c,{startTime:i,endTime:o}),t.options&&function Xre(n,e,t){const r=e.params||{},o=Oj(n);o.length&&o.forEach(i=>{r.hasOwnProperty(i)||t.push(function dre(n){return new N(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Cre(){return new N(3011,!1)}()),r;let i=0;const s=[];let a=!1,c=!1,u=0;const d=e.steps.map(O=>{const D=this._makeStyleAst(O,t);let S=null!=D.offset?D.offset:function uoe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),U=0;return null!=S&&(i++,U=D.offset=S),c=c||U<0||U>1,a=a||U<u,u=U,s.push(U),D});c&&t.errors.push(function Ere(){return new N(3012,!1)}()),a&&t.errors.push(function wre(){return new N(3200,!1)}());const g=e.steps.length;let m=0;i>0&&i<g?t.errors.push(function Ire(){return new N(3202,!1)}()):0==i&&(m=1/(g-1));const y=g-1,v=t.currentTime,C=t.currentAnimateTimings,w=C.duration;return d.forEach((O,D)=>{const S=m>0?D==y?1:m*D:s[D],U=S*w;t.currentTime=v+C.delay+U,C.duration=U,this._validateStyleAst(O,t),O.offset=S,r.styles.push(O)}),r}visitReference(e,t){return{type:8,animation:Zo(this,Am(e.animation),t),options:yu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function aoe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ioe,"")),n=n.replace(/@\*/g,BC).replace(/@\w+/g,t=>BC+"-"+t.slice(1)).replace(/:animating/g,JD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+i:i,Ko(t.collectedStyles,t.currentQuerySelector,new Map);const a=Zo(this,Am(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:i,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:yu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Tre(){return new N(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:jC(e.timings,t.errors,!0);return{type:12,animation:Zo(this,Am(e.animation),t),timings:r,options:null}}}class loe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yu(n){return n?(n=Dm(n)).params&&(n.params=function coe(n){return n?Dm(n):null}(n.params)):n={},n}function oA(n,e,t){return{duration:n,delay:e,easing:t}}function iA(n,e,t,r,o,i,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:i,totalTime:o+i,easing:s,subTimeline:a}}class GC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const poe=new RegExp(":enter","g"),moe=new RegExp(":leave","g");function sA(n,e,t,r,o,i=new Map,s=new Map,a,c,u=[]){return(new _oe).buildKeyframes(n,e,t,r,o,i,s,a,c,u)}class _oe{buildKeyframes(e,t,r,o,i,s,a,c,u,d=[]){u=u||new GC;const g=new aA(e,t,u,o,i,d,[]);g.options=c;const m=c.delay?Ta(c.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([s],null,g.errors,c),Zo(this,r,g);const y=g.timelines.filter(v=>v.containsAnimation());if(y.length&&a.size){let v;for(let C=y.length-1;C>=0;C--){const w=y[C];if(w.element===t){v=w;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,g.errors,c)}return y.length?y.map(v=>v.buildKeyframes()):[iA(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,o,o.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const o of e){const i=o?.delay;if(i){const s="number"==typeof i?i:Ta(Om(i,o?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let i=t.currentTimeline.currentTime;const s=null!=r.duration?Ta(r.duration):null,a=null!=r.delay?Ta(r.delay):null;return 0!==s&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,s,a);i=Math.max(i,u.duration+u.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Zo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const i=e.options;if(i&&(i.params||i.delay)&&(o=t.createSubContext(i),o.transformIntoNewTimeline(),null!=i.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=WC);const s=Ta(i.delay);o.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Zo(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?Ta(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);i&&a.delayNextStep(i),Zo(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return jC(t.params?Om(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(r.duration),this.visitStyle(i,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const i=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(i):r.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,i=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*i),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(o+i),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},i=o.delay?Ta(o.delay):0;i&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WC);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;const g=t.createSubContext(e.options,u);i&&g.delayNextStep(i),u===t.element&&(c=g.currentTimeline),Zo(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const g=d.currentTime;Zo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-g+(o.startTime-r.currentTimeline.startTime)}}const WC={};class aA{constructor(e,t,r,o,i,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=i,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new KC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Ta(r.duration)),null!=r.delay&&(o.delay=Ta(r.delay));const i=r.params;if(i){let s=o.params;s||(s=this.options.params={}),Object.keys(i).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Om(i[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,i=new aA(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=WC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},i=new yoe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(i),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,i,s){let a=[];if(o&&a.push(this.element),e.length>0){e=(e=e.replace(poe,"."+this._enterClassName)).replace(moe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!i&&0==a.length&&s.push(function Pre(n){return new N(3014,!1)}()),a}}class KC{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ia),this._currentKeyframe.set(t,Ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&this._previousKeyframe.set("easing",t);const i=o&&o.params||{},s=function boe(n,e){const t=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||e.keys();for(let i of r)t.set(i,Ia)}else Uc(o,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const u=Om(c,i,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ia),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const o=this._styleSummary.get(r);(!o||t.time>o.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((a,c)=>{const u=Uc(a,new Map,this._backFill);u.forEach((d,g)=>{"!"===d?e.add(g):d===Ia&&t.add(g)}),r||u.set("offset",c/this.duration),o.push(u)});const i=e.size?$C(e.values()):[],s=t.size?$C(t.values()):[];if(r){const a=o[0],c=new Map(a);a.set("offset",0),c.set("offset",1),o=[a,c]}return iA(this.element,o,i,s,this.duration,this.startTime,this.easing,!1)}}class yoe extends KC{constructor(e,t,r,o,i,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=r+t,a=t/s,c=Uc(e[0]);c.set("offset",0),i.push(c);const u=Uc(e[0]);u.set("offset",kj(a)),i.push(u);const d=e.length-1;for(let g=1;g<=d;g++){let m=Uc(e[g]);const y=m.get("offset");m.set("offset",kj((t+y*r)/s)),i.push(m)}r=s,t=0,o="",e=i}return iA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function kj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cA{}const voe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Coe extends cA{normalizePropertyName(e,t){return nA(e)}normalizeStyleValue(e,t,r,o){let i="";const s=r.toString().trim();if(voe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)i="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&o.push(function gre(n,e){return new N(3005,!1)}())}return s+i}}function Fj(n,e,t,r,o,i,s,a,c,u,d,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:i,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:g,errors:m}}const lA={};class Vj{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function Eoe(n,e,t,r,o){return n.some(i=>i(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,r):new Map}build(e,t,r,o,i,s,a,c,u,d){const g=[],m=this.ast.options&&this.ast.options.params||lA,v=this.buildStyles(r,a&&a.params||lA,g),C=c&&c.params||lA,w=this.buildStyles(o,C,g),O=new Set,D=new Map,S=new Map,U="void"===o,ce={params:woe(C,m),delay:this.ast.options?.delay},De=d?[]:sA(e,t,this.ast.animation,i,s,v,w,ce,u,g);let Be=0;if(De.forEach(lr=>{Be=Math.max(lr.duration+lr.delay,Be)}),g.length)return Fj(t,this._triggerName,r,o,U,v,w,[],[],D,S,Be,g);De.forEach(lr=>{const No=lr.element,pE=Ko(D,No,new Set);lr.preStyleProps.forEach(wu=>pE.add(wu));const Zm=Ko(S,No,new Set);lr.postStyleProps.forEach(wu=>Zm.add(wu)),No!==t&&O.add(No)});const Ct=$C(O.values());return Fj(t,this._triggerName,r,o,U,v,w,De,Ct,D,S,Be)}}function woe(n,e){const t=Dm(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ioe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,o=Dm(this.defaultParams);return Object.keys(e).forEach(i=>{const s=e[i];null!==s&&(o[i]=s)}),this.styles.styles.forEach(i=>{"string"!=typeof i&&i.forEach((s,a)=>{s&&(s=Om(s,o,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class Poe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new Ioe(o.style,o.options&&o.options.params||{},r))}),Lj(this.states,"true","1"),Lj(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Vj(e,o,this.states))}),this.fallbackTransition=function Moe(n,e,t){return new Vj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(s=>s.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Lj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Doe=new GC;class Aoe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=rA(this._driver,t,r,[]);if(r.length)throw function xre(n){return new N(3503,!1)}();this._animations.set(e,i)}_buildPlayer(e,t,r){const o=e.element,i=vj(this._normalizer,e.keyframes,t,r);return this._driver.animate(o,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],i=this._animations.get(e);let s;const a=new Map;if(i?(s=sA(this._driver,t,i,XD,LC,new Map,new Map,r,Doe,o),s.forEach(d=>{const g=Ko(a,d.element,new Map);d.postStyleProps.forEach(m=>g.set(m,null))})):(o.push(function Nre(){return new N(3300,!1)}()),s=[]),o.length)throw function kre(n){return new N(3504,!1)}();a.forEach((d,g)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(g,y,Ia))})});const u=Lc(s.map(d=>{const g=a.get(d.element);return this._buildPlayer(d,new Map,g)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Fre(n){return new N(3301,!1)}();return t}listen(e,t,r,o){const i=ZD(t,"","","");return WD(this._getPlayer(e),r,i,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const i=this._getPlayer(e);switch(r){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Uj="ng-animate-queued",uA="ng-animate-disabled",Noe=[],Bj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},koe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gi="__ng_removed";class fA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Uoe(n){return n??null}(r?e.value:e),r){const i=Dm(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const Sm="void",dA=new fA(Sm);class Foe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ii(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.has(t))throw function Vre(n,e){return new N(3302,!1)}();if(null==r||0==r.length)throw function Lre(n){return new N(3303,!1)}();if(!function Boe(n){return"start"==n||"done"==n}(r))throw function Ure(n,e){return new N(3400,!1)}();const i=Ko(this._elementListeners,e,[]),s={name:t,phase:r,callback:o};i.push(s);const a=Ko(this._engine.statesByElement,e,new Map);return a.has(t)||(Ii(e,UC),Ii(e,UC+"-"+t),a.set(t,dA)),()=>{this._engine.afterFlush(()=>{const c=i.indexOf(s);c>=0&&i.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Bre(n){return new N(3401,!1)}();return t}trigger(e,t,r,o=!0){const i=this._getTrigger(t),s=new hA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ii(e,UC),Ii(e,UC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new fA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=dA),u.value!==Sm&&c.value===u.value){if(!function Hoe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const i=t[o];if(!e.hasOwnProperty(i)||n[i]!==e[i])return!1}return!0}(c.params,u.params)){const C=[],w=i.matchStyles(c.value,c.params,C),O=i.matchStyles(u.value,u.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{_u(e,w),Vs(e,O)})}return}const m=Ko(this._engine.playersByElement,e,[]);m.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let y=i.matchTransition(c.value,u.value,e,u.params),v=!1;if(!y){if(!o)return;y=i.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:c,toState:u,player:s,isFallbackTransition:v}),v||(Ii(e,Uj),s.onStart(()=>{Zd(e,Uj)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const w=this._engine.playersByElement.get(e);if(w){let O=w.indexOf(s);O>=0&&w.splice(O,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,BC,!0);r.forEach(o=>{if(o[Gi])return;const i=this._engine.fetchNamespacesByElement(o);i.size?i.forEach(s=>s.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const i=this._engine.statesByElement.get(e),s=new Map;if(i){const a=[];if(i.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){const d=this.trigger(e,u,Sm,o);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Lc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(i=>{const s=i.name;if(o.has(s))return;o.add(s);const c=this._triggers.get(s).fallbackTransition,u=r.get(s)||dA,d=new fA(Sm),g=new hA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const i=r.players.length?r.playersByQueriedElement.get(e):[];if(i&&i.length)o=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const i=e[Gi];(!i||i===Bj)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ii(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const i=r.element,s=this._elementListeners.get(i);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=ZD(i,r.triggerName,r.fromState.value,r.toState.value);c._data=e,WD(r.player,a.phase,c,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const i=r.transition.ast.depCount,s=o.transition.ast.depCount;return 0==i||0==s?i-s:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Voe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,i)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Foe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=o.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let o of r.values())if(o.namespaceId){const i=this._fetchNamespace(o.namespaceId);i&&t.add(i)}return t}trigger(e,t,r,o){if(ZC(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!ZC(t))return;const i=t[Gi];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ii(e,uA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zd(e,uA))}removeNode(e,t,r){if(ZC(t)){const o=e?this._fetchNamespace(e):null;o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,o,i){this.collectedLeaveElements.push(t),t[Gi]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,t,r,o,i){return ZC(t)?this._fetchNamespace(e).listen(t,r,o,i):()=>{}}_buildInstruction(e,t,r,o,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,BC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Gi];if(t&&t.setForRemoval){if(e[Gi]=Bj,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(uA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ii(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Lc(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function jre(n){return new N(3402,!1)}()}_flushAnimations(e,t){const r=new GC,o=[],i=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Re=>{d.add(Re);const Fe=this.driver.query(Re,".ng-animate-queued",!0);for(let Ge=0;Ge<Fe.length;Ge++)d.add(Fe[Ge])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=Hj(m,this.collectedEnterElements),v=new Map;let C=0;y.forEach((Re,Fe)=>{const Ge=XD+C++;v.set(Fe,Ge),Re.forEach(St=>Ii(St,Ge))});const w=[],O=new Set,D=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Fe=this.collectedLeaveElements[Re],Ge=Fe[Gi];Ge&&Ge.setForRemoval&&(w.push(Fe),O.add(Fe),Ge.hasAnimation?this.driver.query(Fe,".ng-star-inserted",!0).forEach(St=>O.add(St)):D.add(Fe))}const S=new Map,U=Hj(m,Array.from(O));U.forEach((Re,Fe)=>{const Ge=LC+C++;S.set(Fe,Ge),Re.forEach(St=>Ii(St,Ge))}),e.push(()=>{y.forEach((Re,Fe)=>{const Ge=v.get(Fe);Re.forEach(St=>Zd(St,Ge))}),U.forEach((Re,Fe)=>{const Ge=S.get(Fe);Re.forEach(St=>Zd(St,Ge))}),w.forEach(Re=>{this.processLeaveNode(Re)})});const ce=[],De=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(t).forEach(Ge=>{const St=Ge.player,vr=Ge.element;if(ce.push(St),this.collectedEnterElements.length){const Xr=vr[Gi];if(Xr&&Xr.setForMove){if(Xr.previousTriggersValues&&Xr.previousTriggersValues.has(Ge.triggerName)){const Iu=Xr.previousTriggersValues.get(Ge.triggerName),Ti=this.statesByElement.get(Ge.element);if(Ti&&Ti.has(Ge.triggerName)){const gE=Ti.get(Ge.triggerName);gE.value=Iu,Ti.set(Ge.triggerName,gE)}}return void St.destroy()}}const Bs=!g||!this.driver.containsElement(g,vr),Yo=S.get(vr),$c=v.get(vr),Pn=this._buildInstruction(Ge,r,$c,Yo,Bs);if(Pn.errors&&Pn.errors.length)return void De.push(Pn);if(Bs)return St.onStart(()=>_u(vr,Pn.fromStyles)),St.onDestroy(()=>Vs(vr,Pn.toStyles)),void o.push(St);if(Ge.isFallbackTransition)return St.onStart(()=>_u(vr,Pn.fromStyles)),St.onDestroy(()=>Vs(vr,Pn.toStyles)),void o.push(St);const c5=[];Pn.timelines.forEach(Xr=>{Xr.stretchStartingKeyframe=!0,this.disabledNodes.has(Xr.element)||c5.push(Xr)}),Pn.timelines=c5,r.append(vr,Pn.timelines),s.push({instruction:Pn,player:St,element:vr}),Pn.queriedElements.forEach(Xr=>Ko(a,Xr,[]).push(St)),Pn.preStyleProps.forEach((Xr,Iu)=>{if(Xr.size){let Ti=c.get(Iu);Ti||c.set(Iu,Ti=new Set),Xr.forEach((gE,$A)=>Ti.add($A))}}),Pn.postStyleProps.forEach((Xr,Iu)=>{let Ti=u.get(Iu);Ti||u.set(Iu,Ti=new Set),Xr.forEach((gE,$A)=>Ti.add($A))})});if(De.length){const Re=[];De.forEach(Fe=>{Re.push(function $re(n,e){return new N(3505,!1)}())}),ce.forEach(Fe=>Fe.destroy()),this.reportError(Re)}const Be=new Map,Ct=new Map;s.forEach(Re=>{const Fe=Re.element;r.has(Fe)&&(Ct.set(Fe,Fe),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,Be))}),o.forEach(Re=>{const Fe=Re.element;this._getPreviousPlayers(Fe,!1,Re.namespaceId,Re.triggerName,null).forEach(St=>{Ko(Be,Fe,[]).push(St),St.destroy()})});const lr=w.filter(Re=>qj(Re,c,u)),No=new Map;$j(No,this.driver,D,u,Ia).forEach(Re=>{qj(Re,c,u)&&lr.push(Re)});const Zm=new Map;y.forEach((Re,Fe)=>{$j(Zm,this.driver,new Set(Re),c,"!")}),lr.forEach(Re=>{const Fe=No.get(Re),Ge=Zm.get(Re);No.set(Re,new Map([...Fe?.entries()??[],...Ge?.entries()??[]]))});const wu=[],s5=[],a5={};s.forEach(Re=>{const{element:Fe,player:Ge,instruction:St}=Re;if(r.has(Fe)){if(d.has(Fe))return Ge.onDestroy(()=>Vs(Fe,St.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(St.totalTime),void o.push(Ge);let vr=a5;if(Ct.size>1){let Yo=Fe;const $c=[];for(;Yo=Yo.parentNode;){const Pn=Ct.get(Yo);if(Pn){vr=Pn;break}$c.push(Yo)}$c.forEach(Pn=>Ct.set(Pn,vr))}const Bs=this._buildAnimation(Ge.namespaceId,St,Be,i,Zm,No);if(Ge.setRealPlayer(Bs),vr===a5)wu.push(Ge);else{const Yo=this.playersByElement.get(vr);Yo&&Yo.length&&(Ge.parentPlayer=Lc(Yo)),o.push(Ge)}}else _u(Fe,St.fromStyles),Ge.onDestroy(()=>Vs(Fe,St.toStyles)),s5.push(Ge),d.has(Fe)&&o.push(Ge)}),s5.forEach(Re=>{const Fe=i.get(Re.element);if(Fe&&Fe.length){const Ge=Lc(Fe);Re.setRealPlayer(Ge)}}),o.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<w.length;Re++){const Fe=w[Re],Ge=Fe[Gi];if(Zd(Fe,LC),Ge&&Ge.hasAnimation)continue;let St=[];if(a.size){let Bs=a.get(Fe);Bs&&Bs.length&&St.push(...Bs);let Yo=this.driver.query(Fe,JD,!0);for(let $c=0;$c<Yo.length;$c++){let Pn=a.get(Yo[$c]);Pn&&Pn.length&&St.push(...Pn)}}const vr=St.filter(Bs=>!Bs.destroyed);vr.length?joe(this,Fe,vr):this.processLeaveNode(Fe)}return w.length=0,wu.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Fe=this.players.indexOf(Re);this.players.splice(Fe,1)}),Re.play()}),wu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,i){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!i||i==Sm;a.forEach(u=>{u.queued||!c&&u.triggerName!=o||s.push(u)})}}return(r||o)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const i=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,d=u!==i,g=Ko(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(y=>{const v=y.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),y.destroy(),g.push(y)})}_u(i,t.fromStyles)}_buildAnimation(e,t,r,o,i,s){const a=t.triggerName,c=t.element,u=[],d=new Set,g=new Set,m=t.timelines.map(v=>{const C=v.element;d.add(C);const w=C[Gi];if(w&&w.removedBeforeQueried)return new Mm(v.duration,v.delay);const O=C!==c,D=function $oe(n){const e=[];return zj(n,e),e}((r.get(C)||Noe).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===C),S=i.get(C),U=s.get(C),ce=vj(this._normalizer,v.keyframes,S,U),De=this._buildPlayer(v,ce,D);if(v.subTimeline&&o&&g.add(C),O){const Be=new hA(e,a,C);Be.setRealPlayer(De),u.push(Be)}return De});u.forEach(v=>{Ko(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function Loe(n,e,t){let r=n.get(e);if(r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>Ii(v,Mj));const y=Lc(m);return y.onDestroy(()=>{d.forEach(v=>Zd(v,Mj)),Vs(c,t.toStyles)}),g.forEach(v=>{Ko(o,v,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Mm(e.duration,e.delay)}}class hA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Mm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(o=>WD(e,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ZC(n){return n&&1===n.nodeType}function jj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $j(n,e,t,r,o){const i=[];t.forEach(c=>i.push(jj(c)));const s=[];r.forEach((c,u)=>{const d=new Map;c.forEach(g=>{const m=e.computeStyle(u,g,o);d.set(g,m),(!m||0==m.length)&&(u[Gi]=koe,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>jj(c,i[a++])),s}function Hj(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const o=new Set(e),i=new Map;function s(a){if(!a)return 1;let c=i.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:o.has(u)?1:s(u),i.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Ii(n,e){n.classList?.add(e)}function Zd(n,e){n.classList?.remove(e)}function joe(n,e,t){Lc(t).onDone(()=>n.processLeaveNode(e))}function zj(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gj?zj(r.players,e):e.push(r)}}function qj(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(i=>o.add(i)):e.set(n,r),t.delete(n),!0}class QC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,i)=>{},this._transitionEngine=new Voe(e,t,r),this._timelineEngine=new Aoe(e,t,r),this._transitionEngine.onRemovalComplete=(o,i)=>this.onRemovalComplete(o,i)}registerTrigger(e,t,r,o,i){const s=e+"-"+o;let a=this._triggerCache[s];if(!a){const c=[],d=rA(this._driver,i,c,[]);if(c.length)throw function Sre(n,e){return new N(3404,!1)}();a=function Toe(n,e,t){return new Poe(n,e,t)}(o,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,o,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[i,s]=Cj(r);this._timelineEngine.command(i,t,s,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,i){if("@"==r.charAt(0)){const[s,a]=Cj(r);return this._timelineEngine.listen(s,t,a,i)}return this._transitionEngine.listen(e,t,r,o,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let qoe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let i=n.initialStylesByElement.get(t);i||n.initialStylesByElement.set(t,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vs(this._element,this._initialStyles),this._endStyles&&(Vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_u(this._element,this._endStyles),this._endStyles=null),Vs(this._element,this._initialStyles),this._state=3)}}return n})();function pA(n){let e=null;return n.forEach((t,r)=>{(function Goe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Gj{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&e.set(o,this._finished?r:Sj(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Woe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return wj(e,t)}getParentElement(e){return QD(e)}query(e,t,r){return Ij(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,i,s=[]){const c={duration:r,delay:o,fill:0==o?"both":"forwards"};i&&(c.easing=i);const u=new Map,d=s.filter(y=>y instanceof Gj);(function eoe(n,e){return 0===n||0===e})(r,o)&&d.forEach(y=>{y.currentSnapshot.forEach((v,C)=>u.set(C,v))});let g=function Yre(n){return n.length?n[0]instanceof Map?n:n.map(e=>Dj(e)):[]}(t).map(y=>Uc(y));g=function toe(n,e,t){if(t.size&&e.length){let r=e[0],o=[];if(t.forEach((i,s)=>{r.has(s)||o.push(s),r.set(s,i)}),o.length)for(let i=1;i<e.length;i++){let s=e[i];o.forEach(a=>s.set(a,Sj(n,a)))}}return e}(e,g,u);const m=function zoe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=pA(e[0]),e.length>1&&(r=pA(e[e.length-1]))):e instanceof Map&&(t=pA(e)),t||r?new qoe(n,t,r):null}(e,g);return new Gj(e,g,c,m)}}let Koe=(()=>{class n extends fj{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:no.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?hj(t):t;return Wj(this._renderer,null,r,"register",[o]),new Zoe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(W(vp),W(Mn))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();class Zoe extends Bne{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qoe(this._id,e,t||{},this._renderer)}}class Qoe{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Wj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wj(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const Kj="@.disabled";let Yoe=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(i,s)=>{const a=s?.parentNode(i);a&&s.removeChild(a,i)}}createRenderer(t,r){const i=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(i);return d||(d=new Zj("",i,this.engine,()=>this._rendererCache.delete(i)),this._rendererCache.set(i,d)),d}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,t,d.name,d)};return r.data.animation.forEach(c),new Xoe(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(i=>{const[s,a]=i;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(W(vp),W(QC),W(It))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();class Zj{constructor(e,t,r,o){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Kj?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Xoe extends Zj{constructor(e,t,r,o,i){super(t,r,o,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Kj?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function Joe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let i=t.slice(1),s="";return"@"!=i.charAt(0)&&([i,s]=function eie(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(i)),this.engine.listen(this.namespaceId,o,i,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let tie=(()=>{class n extends QC{constructor(t,r,o,i){super(t.body,r,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mn),W(YD),W(cA),W(ca))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();const Qj=[{provide:fj,useClass:Koe},{provide:cA,useFactory:function nie(){return new Coe}},{provide:QC,useClass:tie},{provide:vp,useFactory:function rie(n,e,t){return new Yoe(n,e,t)},deps:[W0,QC,It]}],gA=[{provide:YD,useFactory:()=>new Woe},{provide:wS,useValue:"BrowserAnimations"},...Qj],Yj=[{provide:YD,useClass:Tj},{provide:wS,useValue:"NoopAnimations"},...Qj];let oie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Yj:gA}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({providers:gA,imports:[Mk]})}return n})();const iie=["labelButton"],sie=function(n,e){return{selected:n,focused:e}};function aie(n,e){if(1&n){const t=_i();q(0,"button",9),Oe("click",function(o){const s=Le(t).$implicit;return Ue(be().optionSelect(s,o))}),Me(1),$()}if(2&n){const t=e.$implicit,r=e.index,o=be();ue("ngClass",vx(2,sie,t.value===o.value,r===o.optionId)),ie(1),Tr(" ",t.label," ")}}function cie(n,e){1&n&&(q(0,"span",10),Me(1,"No items for select"),$())}const lie=function(n){return{"ae-expanded":n}},uie=["fileInput"];function fie(n,e){if(1&n){const t=_i();q(0,"div",2)(1,"ae-select",63),Oe("ngModelChange",function(o){return Le(t),Ue(be(2).customClassId=o)})("change",function(){Le(t);const o=be(2);return Ue(o.setCustomClass(o.customClassId))}),$()()}if(2&n){const t=be(2);ie(1),ue("options",t.customClassList)("ngModel",t.customClassId)("disabled",t.htmlMode)("hidden",t.isButtonHidden("customClasses"))}}function die(n,e){if(1&n){const t=_i();q(0,"div",1)(1,"div",2)(2,"button",3),Oe("click",function(){return Le(t),Ue(be().triggerCommand("undo"))}),Xe(3,"i",4),$(),q(4,"button",5),Oe("click",function(){return Le(t),Ue(be().triggerCommand("redo"))}),Xe(5,"i",6),$()(),q(6,"div",2)(7,"button",7),Oe("click",function(){return Le(t),Ue(be().triggerCommand("bold"))}),Xe(8,"i",8),$(),q(9,"button",9),Oe("click",function(){return Le(t),Ue(be().triggerCommand("italic"))}),Xe(10,"i",10),$(),q(11,"button",11),Oe("click",function(){return Le(t),Ue(be().triggerCommand("underline"))}),Xe(12,"i",12),$(),q(13,"button",13),Oe("click",function(){return Le(t),Ue(be().triggerCommand("strikeThrough"))}),Xe(14,"i",14),$(),q(15,"button",15),Oe("click",function(){return Le(t),Ue(be().triggerCommand("subscript"))}),Xe(16,"i",16),$(),q(17,"button",17),Oe("click",function(){return Le(t),Ue(be().triggerCommand("superscript"))}),Xe(18,"i",18),$()(),q(19,"div",2)(20,"button",19),Oe("click",function(){return Le(t),Ue(be().triggerCommand("justifyLeft"))}),Xe(21,"i",20),$(),q(22,"button",21),Oe("click",function(){return Le(t),Ue(be().triggerCommand("justifyCenter"))}),Xe(23,"i",22),$(),q(24,"button",23),Oe("click",function(){return Le(t),Ue(be().triggerCommand("justifyRight"))}),Xe(25,"i",24),$(),q(26,"button",25),Oe("click",function(){return Le(t),Ue(be().triggerCommand("justifyFull"))}),Xe(27,"i",26),$()(),q(28,"div",2)(29,"button",27),Oe("click",function(){return Le(t),Ue(be().triggerCommand("indent"))}),Xe(30,"i",28),$(),q(31,"button",29),Oe("click",function(){return Le(t),Ue(be().triggerCommand("outdent"))}),Xe(32,"i",30),$()(),q(33,"div",2)(34,"button",31),Oe("click",function(){return Le(t),Ue(be().triggerCommand("insertUnorderedList"))}),Xe(35,"i",32),$(),q(36,"button",33),Oe("click",function(){return Le(t),Ue(be().triggerCommand("insertOrderedList"))}),Xe(37,"i",34),$()(),q(38,"div",2)(39,"ae-select",35),Oe("ngModelChange",function(o){return Le(t),Ue(be().block=o)})("change",function(){Le(t);const o=be();return Ue(o.triggerCommand(o.block))}),$()(),q(40,"div",2)(41,"ae-select",36),Oe("ngModelChange",function(o){return Le(t),Ue(be().fontName=o)})("change",function(){Le(t);const o=be();return Ue(o.setFontName(o.fontName))}),$()(),q(42,"div",2)(43,"ae-select",37),Oe("ngModelChange",function(o){return Le(t),Ue(be().fontSize=o)})("change",function(){Le(t);const o=be();return Ue(o.setFontSize(o.fontSize))}),$()(),q(44,"div",2)(45,"input",38,39),Oe("change",function(){Le(t);const o=ra(46);return Ue(be().insertColor(o.value,"textColor"))}),$(),q(47,"button",40),Oe("click",function(){Le(t);const o=ra(46);return be().focus(),Ue(o.click())}),q(48,"span",41),Xe(49,"i",42),$()(),q(50,"input",38,43),Oe("change",function(){Le(t);const o=ra(51);return Ue(be().insertColor(o.value,"backgroundColor"))}),$(),q(52,"button",44),Oe("click",function(){Le(t);const o=ra(51);return be().focus(),Ue(o.click())}),q(53,"span",45),Xe(54,"i",42),$()()(),lt(55,fie,2,4,"div",46),q(56,"div",2)(57,"button",47),Oe("click",function(){return Le(t),Ue(be().insertUrl())}),Xe(58,"i",48),$(),q(59,"button",49),Oe("click",function(){return Le(t),Ue(be().triggerCommand("unlink"))}),Xe(60,"i",50),$(),q(61,"input",51,52),Oe("change",function(o){return Le(t),Ue(be().onFileChanged(o))}),$(),q(63,"button",53),Oe("click",function(){Le(t);const o=ra(62);return be().focus(),Ue(o.click())}),Xe(64,"i",54),$(),q(65,"button",55),Oe("click",function(){return Le(t),Ue(be().insertVideo())}),Xe(66,"i",56),$(),q(67,"button",57),Oe("click",function(){return Le(t),Ue(be().triggerCommand("insertHorizontalRule"))}),Xe(68,"i",58),$()(),q(69,"div",2)(70,"button",59),Oe("click",function(){return Le(t),Ue(be().triggerCommand("removeFormat"))}),Xe(71,"i",60),$()(),q(72,"div",2)(73,"button",61),Oe("click",function(){return Le(t),Ue(be().triggerCommand("toggleEditorMode"))}),Xe(74,"i",62),$()(),function X1(n,e=0,t){const r=ne(),o=gt(),i=Sf(o,st+n,16,null,t||null);null===i.projection&&(i.projection=e),gl(),(!r[xi]||ls())&&32!=(32&i.flags)&&function B5(n,e,t){eS(e[qe],0,e,t,Dw(n,t,e),KO(t.parent||e[Hn],t,e))}(o,r,i)}(75),$()}if(2&n){const t=be();ie(2),ue("hidden",t.isButtonHidden("undo")),ie(2),ue("hidden",t.isButtonHidden("redo")),ie(3),ue("id","bold-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("bold")),ie(2),ue("id","italic-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("italic")),ie(2),ue("id","underline-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("underline")),ie(2),ue("id","strikeThrough-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("strikeThrough")),ie(2),ue("id","subscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("subscript")),ie(2),ue("id","superscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("superscript")),ie(3),ue("id","justifyLeft-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyLeft")),ie(2),ue("id","justifyCenter-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyCenter")),ie(2),ue("id","justifyRight-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyRight")),ie(2),ue("id","justifyFull-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyFull")),ie(3),ue("id","indent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("indent")),ie(2),ue("id","outdent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("outdent")),ie(3),ue("id","insertUnorderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertUnorderedList")),ie(2),ue("id","insertOrderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertOrderedList")),ie(3),ue("options",t.headings)("ngModel",t.block)("disabled",t.htmlMode)("hidden",t.isButtonHidden("heading")),ie(2),ue("options",t.fonts)("ngModel",t.fontName)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontName")),ie(2),ue("options",t.fontSizes)("ngModel",t.fontSize)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontSize")),ie(4),ue("id","foregroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("textColor")),ie(5),ue("id","backgroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("backgroundColor")),ie(3),ue("ngIf",t._customClasses),ie(2),ue("id","link-"+t.id)("disabled",t.isLinkButtonDisabled)("hidden",t.isButtonHidden("link")),ie(2),ue("id","unlink-"+t.id)("disabled",t.htmlMode||!t.linkSelected)("hidden",t.isButtonHidden("unlink")),ie(4),ue("id","insertImage-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertImage")),ie(2),ue("id","insertVideo-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertVideo")),ie(2),ue("id","insertHorizontalRule-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertHorizontalRule")),ie(3),ue("id","clearFormatting-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("removeFormat")),ie(3),ue("id","toggleEditorMode-"+t.id)("hidden",t.isButtonHidden("toggleEditorMode"))}}const hie=["*"],pie=["customButtons"],gie=["editor"],mie=["editorWrapper"],_ie=["editorToolbar"],yie=function(n){return{executeCommandFn:n}};function bie(n,e){if(1&n){const t=_i();q(0,"angular-editor-toolbar",8,9),Oe("execute",function(o){return Le(t),Ue(be().executeCommand(o))}),DI(2,10),$()}if(2&n){const t=be();ue("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons),ie(2),ue("ngTemplateOutlet",t.customButtonsTemplateRef)("ngTemplateOutletContext",vs(11,yie,t.executeCommandFn))}}function vie(n,e){if(1&n){const t=_i();q(0,"angular-editor-toolbar",8,9),Oe("execute",function(o){return Le(t),Ue(be().executeCommand(o))}),$()}if(2&n){const t=be();ue("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons)}}let mA=(()=>{class n{constructor(t,r){this.http=t,this.doc=r,this.saveSelection=()=>{if(this.doc.getSelection){const o=this.doc.getSelection();o.getRangeAt&&o.rangeCount&&(this.savedSelection=o.getRangeAt(0),this.selectedText=o.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(t,r){["h1","h2","h3","h4","h5","h6","p","pre"].includes(t)?this.doc.execCommand("formatBlock",!1,t):this.doc.execCommand(t,!1,r)}createLink(t){t.includes("http")?this.insertHtml('<a href="'+t+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,t)}insertColor(t,r){this.restoreSelection()&&this.doc.execCommand("textColor"===r?"foreColor":"hiliteColor",!1,t)}setFontName(t){this.doc.execCommand("fontName",!1,t)}setFontSize(t){this.doc.execCommand("fontSize",!1,t)}insertHtml(t){if(!this.doc.execCommand("insertHTML",!1,t))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const t=this.doc.getSelection();return t.removeAllRanges(),t.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(t,r=100){setTimeout(t,r)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(t){const r=new FormData;return r.append("file",t,t.name),this.http.post(this.uploadUrl,r,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(t){this.doc.execCommand("insertImage",!1,t)}setDefaultParagraphSeparator(t){this.doc.execCommand("defaultParagraphSeparator",!1,t)}createCustomClass(t){let r=this.selectedText;if(t){const o=t.tag?t.tag:"span";r="<"+o+' class="'+t.class+'">'+this.selectedText+"</"+o+">"}this.insertHtml(r)}insertVideo(t){t.match("www.youtube.com")&&this.insertYouTubeVideoTag(t),t.match("vimeo.com")&&this.insertVimeoVideoTag(t)}insertYouTubeVideoTag(t){const o=`https://img.youtube.com/vi/${t.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${t}' target='_blank'>\n          <img src="${o}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(t){const r=this.http.get(`https://vimeo.com/api/oembed.json?url=${t}`).subscribe(o=>{this.insertHtml(`<div>\n        <a href='${t}' target='_blank'>\n          <img src="${o.thumbnail_url_with_play_button}" alt="${o.title}"/>\n        </a>\n      </div>`),r.unsubscribe()})}nextNode(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}getRangeSelectedNodes(t,r){let o=t.startContainer;const i=t.endContainer;let s=[];if(o===i)s=[o];else{for(;o&&o!==i;)s.push(o=this.nextNode(o));for(o=t.startContainer;o&&o!==t.commonAncestorContainer;)s.unshift(o),o=o.parentNode}if(r)for(o=t.commonAncestorContainer;o;)s.push(o),o=o.parentNode;return s}getSelectedNodes(){const t=[];if(this.doc.getSelection){const r=this.doc.getSelection();for(let o=0,i=r.rangeCount;o<i;++o)t.push.apply(t,this.getRangeSelectedNodes(r.getRangeAt(o),!0))}return t}replaceWithOwnChildren(t){const r=t.parentNode;for(;t.hasChildNodes();)r.insertBefore(t.firstChild,t);r.removeChild(t)}removeSelectedElements(t){const r=t.toLowerCase().split(",");this.getSelectedNodes().forEach(o=>{1===o.nodeType&&r.indexOf(o.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(o)})}}return n.\u0275fac=function(t){return new(t||n)(W(K2),W(Mn))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const _A={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function Xj(n){return null!=n}let Cie=(()=>{class n{constructor(t,r){this.elRef=t,this.r=r,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new Gt,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],Xj(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(t,r){r.stopPropagation(),this.setValue(t.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(t){this.disabled||(this.opened=!this.opened)}onClick(t){this.elRef.nativeElement.contains(t.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(t){!t||"string"!=typeof t||this.setValue(t)}setValue(t){let r=0;const o=this.options.find((i,s)=>(r=s,i.value===t));o&&(this.selectedOption=o,this.optionId=r)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.labelButton.nativeElement.disabled=t,this.r[t?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=t}handleKeyDown(t){if(this.opened)switch(t.key){case"ArrowDown":this._handleArrowDown(t);break;case"ArrowUp":this._handleArrowUp(t);break;case"Space":this._handleSpace(t);break;case"Enter":this._handleEnter(t);break;case"Tab":this._handleTab(t);break;case"Escape":this.close(),t.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(t){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(t){this.optionId>=1&&this.optionId--}_handleSpace(t){}_handleEnter(t){this.optionSelect(this.options[this.optionId],t)}_handleTab(t){}_handleBackspace(){}}return n.\u0275fac=function(t){return new(t||n)(X(uo),X(gi))},n.\u0275cmp=pr({type:n,selectors:[["ae-select"]],viewQuery:function(t,r){if(1&t&&zf(iie,7),2&t){let o;oc(o=ic())&&(r.labelButton=o.first)}},hostVars:2,hostBindings:function(t,r){1&t&&Oe("click",function(i){return r.onClick(i)},0,$S)("keydown",function(i){return r.handleKeyDown(i)}),2&t&&oa("display",r.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[Jt([{provide:vi,useExisting:F(()=>n),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(t,r){1&t&&(q(0,"span",0)(1,"button",1,2),Oe("click",function(i){return r.toggleOpen(i)}),Me(3),function q_(){Ve.lFrame.currentNamespace="svg"}(),q(4,"svg",3),Xe(5,"polygon",4)(6,"polygon",5),$()(),function G_(){!function YE(){Ve.lFrame.currentNamespace=null}()}(),q(7,"span",6),lt(8,aie,2,5,"button",7),lt(9,cie,2,0,"span",8),$()()),2&t&&(ue("ngClass",vs(5,lie,r.isOpen)),ie(1),ue("tabIndex",-1),ie(2),Tr("",r.label," "),ie(5),ue("ngForOf",r.options),ie(1),ue("ngIf",!r.options.length))},dependencies:[Mb,Wp,cc],styles:['.ae-font.ae-picker{color:#444;display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:26px;vertical-align:middle;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;float:left;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,rgb(255,255,255),#ffffff 100%)}.ae-font .ae-picker-label:focus{outline:none}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-font .ae-picker-label:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}\n'],encapsulation:2}),n})(),Eie=(()=>{class n{constructor(t,r,o,i){this.r=t,this.editorService=r,this.er=o,this.doc=i,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new Gt}set customClasses(t){t&&(this._customClasses=t,this.customClassList=this._customClasses.map((r,o)=>({label:r.name,value:o.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(t){t&&(this.fontName=t)}set defaultFontSize(t){t&&(this.fontSize=t)}get isLinkButtonDisabled(){return this.htmlMode||!this.editorService.selectedText}triggerCommand(t){this.execute.emit(t)}triggerButtons(){this.showToolbar&&this.buttons.forEach(t=>{const r=this.doc.queryCommandState(t),o=this.doc.getElementById(t+"-"+this.id);r?this.r.addClass(o,"active"):this.r.removeClass(o,"active")})}triggerBlocks(t){if(!this.showToolbar)return;this.linkSelected=t.findIndex(o=>"A"===o.nodeName)>-1;let r=!1;this.select.forEach(o=>{const i=t.find(s=>s.nodeName===o);void 0!==i&&o===i.nodeName?!1===r&&(this.block=i.nodeName.toLowerCase(),r=!0):!1===r&&(this.block="default")}),r=!1,this._customClasses&&this._customClasses.forEach((o,i)=>{void 0!==t.find(a=>{if(a instanceof Element)return a.className===o.class})?!1===r&&(this.customClassId=i.toString(),r=!0):!1===r&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(o=>{const i=this.doc.getElementById(this.tagMap[o]+"-"+this.id),s=t.find(a=>a.nodeName===o);void 0!==s&&o===s.nodeName?this.r.addClass(i,"active"):this.r.removeClass(i,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let t="https://";const r=this.editorService.savedSelection;if(r&&"A"===r.commonAncestorContainer.parentElement.nodeName){const o=r.commonAncestorContainer.parentElement;""!==o.href&&(t=o.href)}t=prompt("Insert URL link",t),t&&""!==t&&"https://"!==t&&this.editorService.createLink(t)}insertVideo(){this.execute.emit("");const t=prompt("Insert Video link","https://");t&&""!==t&&"https://"!==t&&this.editorService.insertVideo(t)}insertColor(t,r){this.editorService.insertColor(t,r),this.execute.emit("")}setFontName(t){this.editorService.setFontName(t),this.execute.emit("")}setFontSize(t){this.editorService.setFontSize(t),this.execute.emit("")}setEditorMode(t){const r=this.doc.getElementById("toggleEditorMode-"+this.id);t?this.r.addClass(r,"active"):this.r.removeClass(r,"active"),this.htmlMode=t}onFileChanged(t){const r=t.target.files[0];if(r.type.includes("image/"))if(this.upload)this.upload(r).subscribe(o=>this.watchUploadImage(o,t));else if(this.uploadUrl)this.editorService.uploadImage(r).subscribe(o=>this.watchUploadImage(o,t));else{const o=new FileReader;o.onload=i=>{this.editorService.insertImage(i.currentTarget.result.toString())},o.readAsDataURL(r)}}watchUploadImage(t,r){const{imageUrl:o}=t.body;this.editorService.insertImage(o),r.srcElement.value=null}setCustomClass(t){"-1"===t?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+t])}isButtonHidden(t){if(!(t&&this.hiddenButtons instanceof Array))return!1;let r;for(const o of this.hiddenButtons)if(o instanceof Array&&(r=o.find(i=>i===t)),r)break;return void 0!==r}focus(){this.execute.emit("focus"),console.log("focused")}}return n.\u0275fac=function(t){return new(t||n)(X(gi),X(mA),X(uo),X(Mn))},n.\u0275cmp=pr({type:n,selectors:[["angular-editor-toolbar"]],viewQuery:function(t,r){if(1&t&&zf(uie,7),2&t){let o;oc(o=ic())&&(r.myInputFile=o.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:hie,decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(t,r){1&t&&(function Y1(n){const e=ne()[cn][Hn];if(!e.projection){const r=e.projection=Pl(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?Bz(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}(),lt(0,die,76,83,"div",0)),2&t&&ue("ngIf",r.showToolbar)},dependencies:[Cie,cc,Nb,zb],styles:['\n\n\n\n@font-face{font-family:FontAwesome;src:url(/assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(/assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(/assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(/assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(/assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(/assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite steps(8)}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}']}),n})(),wie=(()=>{class n{constructor(t,r,o,i,s,a,c){this.r=t,this.editorService=r,this.doc=o,this.sanitizer=i,this.cdRef=s,this.autoFocus=c,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=_A,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new Gt,this.blurEvent=new Gt,this.focusEvent=new Gt,this.tabindex=-1;const u=Number(a);this.tabIndex=u||0===u?u:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:_A.toolbarPosition}ngAfterViewInit(){Xj(this.autoFocus)&&this.focus()}onPaste(t){if(this.config.rawPaste){t.preventDefault();const r=t.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,r),r}}executeCommand(t,r){this.focus(),"focus"!==t&&("toggleEditorMode"===t?this.toggleEditorMode(this.modeVisual):""!==t&&("clear"===t?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===t?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(t,r),this.exec()))}onTextAreaFocus(t){this.focused?t.stopPropagation():(this.focused=!0,this.focusEvent.emit(t),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(t){this.editorService.saveSelection()}onTextAreaBlur(t){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==t.relatedTarget){const r=t.relatedTarget.parentElement;!r.classList.contains("angular-editor-toolbar-set")&&!r.classList.contains("ae-picker")&&(this.blurEvent.emit(t),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(t){let r="";r=this.modeVisual?t.innerHTML:t.innerText,(!r||"<br>"===r)&&(r=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(Do.HTML,r):r),!r!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(t){this.onChange=r=>t("<br>"===r?"":r)}registerOnTouched(t){this.onTouched=t}writeValue(t){(!t||"<br>"===t||""===t)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===t||""===t||"<br>"===t)&&(t=null),this.refreshView(t)}refreshView(t){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===t?"":t)}togglePlaceholder(t){t?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(t){this.r[t?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=t}toggleEditorMode(t){let r;const o=this.textArea.nativeElement;if(t){r=this.r.createText(o.innerHTML),this.r.setProperty(o,"innerHTML",""),this.r.setProperty(o,"contentEditable",!1);const i=this.r.createElement("pre");this.r.setStyle(i,"margin","0"),this.r.setStyle(i,"outline","none");const s=this.r.createElement("code");this.r.setProperty(s,"id","sourceText"+this.id),this.r.setStyle(s,"display","block"),this.r.setStyle(s,"white-space","pre-wrap"),this.r.setStyle(s,"word-break","keep-all"),this.r.setStyle(s,"outline","none"),this.r.setStyle(s,"margin","0"),this.r.setStyle(s,"background-color","#fff5b9"),this.r.setProperty(s,"contentEditable",!0),this.r.appendChild(s,r),this.focusInstance=this.r.listen(s,"focus",a=>this.onTextAreaFocus(a)),this.blurInstance=this.r.listen(s,"blur",a=>this.onTextAreaBlur(a)),this.r.appendChild(i,s),this.r.appendChild(o,i),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),s.focus()}else this.doc.querySelectorAll?this.r.setProperty(o,"innerHTML",o.innerText):(r=this.doc.createRange(),r.selectNodeContents(o.firstChild),this.r.setProperty(o,"innerHTML",r.toString())),this.r.setProperty(o,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(o),o.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let t;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(t=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let r=t.focusNode;const o=[];for(;r&&"editor"!==r.id;)o.unshift(r),r=r.parentNode;this.editorToolbar.triggerBlocks(o)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:_A.fonts).map(r=>({label:r.name,value:r.name}))}getCustomTags(){const t=["span"];return this.config.customClasses.forEach(r=>{void 0!==r.tag&&(t.includes(r.tag)||t.push(r.tag))}),t.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(t){return t.replace("position: fixed;","")}}return n.\u0275fac=function(t){return new(t||n)(X(gi),X(mA),X(Mn),X(Y0),X(Hp),Za("tabindex"),Za("autofocus"))},n.\u0275cmp=pr({type:n,selectors:[["angular-editor"]],contentQueries:function(t,r,o){if(1&t&&function e0(n,e,t,r){const o=gt();if(o.firstCreatePass){const i=kn();Bx(o,new Vx(e,t,r),i.index),function v6(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}Ux(o,ne(),t)}(o,pie,5),2&t){let i;oc(i=ic())&&(r.customButtonsTemplateRef=i.first)}},viewQuery:function(t,r){if(1&t&&(zf(gie,7),zf(mie,7),zf(_ie,5)),2&t){let o;oc(o=ic())&&(r.textArea=o.first),oc(o=ic())&&(r.editorWrapper=o.first),oc(o=ic())&&(r.editorToolbar=o.first)}},hostVars:1,hostBindings:function(t,r){1&t&&Oe("focus",function(){return r.onFocus()}),2&t&&Hr("tabindex",r.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[Jt([{provide:vi,useExisting:F(()=>n),multi:!0},mA])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(q(0,"div",0,1),lt(2,bie,3,13,"angular-editor-toolbar",2),q(3,"div",3,4)(5,"div",5,6),Oe("input",function(i){return r.onContentChange(i.target)})("focus",function(i){return r.onTextAreaFocus(i)})("blur",function(i){return r.onTextAreaBlur(i)})("click",function(){return r.exec()})("keyup",function(){return r.exec()})("mouseout",function(i){return r.onTextAreaMouseOut(i)})("paste",function(i){return r.onPaste(i)}),$(),q(7,"span",7),Me(8),$()(),lt(9,vie,2,9,"angular-editor-toolbar",2),$()),2&t&&(oa("width",r.config.width)("min-width",r.config.minWidth),ie(2),ue("ngIf","top"===r.config.toolbarPosition),ie(3),oa("height",r.config.height)("min-height",r.config.minHeight)("max-height",r.config.maxHeight)("outline",!1===r.config.outline?"none":void 0),Hr("contenteditable",r.config.editable)("tabindex",r.disabled?-1:r.tabIndex)("translate",r.config.translate)("spellcheck",r.config.spellcheck),ie(3),bs(r.placeholder||r.config.placeholder),ie(1),ue("ngIf","bottom"===r.config.toolbarPosition))},dependencies:[Eie,cc,ik],styles:['\n\n\n\n@font-face{font-family:FontAwesome;src:url(/assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(/assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(/assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(/assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(/assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(/assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite steps(8)}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),n})(),Iie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=vn({imports:[[ck,j2,$2]]}),n})();const Tie_firebaseConfig={apiKey:"AIzaSyADDrBFqSH-g5OFQ_PNcdU23pf-D8kYMIg",authDomain:"ng-complete-guide-e9b72.firebaseapp.com",databaseURL:"https://ng-complete-guide-e9b72-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ng-complete-guide-e9b72",storageBucket:"ng-complete-guide-e9b72.appspot.com",messagingSenderId:"442055696009",appId:"1:442055696009:web:330aab6e184930c2417058",measurementId:"G-VPX00R39F4"};function yA(...n){const e=Qi(n),t=Oa(n),{args:r,keys:o}=xk(n);if(0===r.length)return M([],e);const i=new ht(function Mie(n,e,t=Rn){return r=>{Jj(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)Jj(e,()=>{const u=M(n[c],e);let d=!1;u.subscribe(me(r,g=>{i[c]=g,d||(d=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>kk(o,s):Rn));return t?i.pipe(Nk(t)):i}function Jj(n,e,t){n?fr(t,n,e):e()}function e3(n){return new ht(e=>{xn(n()).subscribe(e)})}function Rm(n,e){const t=E(n)?n:()=>n,r=o=>o.error(t());return new ht(e?o=>e.schedule(r,0,o):r)}function bA(){return H((n,e)=>{let t=null;n._refCount++;const r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class t3 extends ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,te(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return bA()(this)}}function bu(n){return H((e,t)=>{let i,r=null,o=!1;r=e.subscribe(me(t,void 0,void 0,s=>{i=xn(n(s,bu(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function vA(n){return n<=0?()=>jn:H((e,t)=>{let r=[];e.subscribe(me(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}const it="primary",xm=Symbol("RouteTitle");class Sie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qd(n){return new Sie(n)}function Rie(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!n3(n[o],e[o]))return!1;return!0}function n3(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function r3(n){return n.length>0?n[n.length-1]:null}function Bc(n){return function Pie(n){return!!n&&(n instanceof ht||E(n.lift)&&E(n.subscribe))}(n)?n:Rp(n)?M(Promise.resolve(n)):G(n)}const Nie={exact:function s3(n,e,t){if(!vu(n.segments,e.segments)||!XC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!s3(n.children[r],e.children[r],t))return!1;return!0},subset:a3},o3={exact:function kie(n,e){return Ls(n,e)},subset:function Fie(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>n3(n[t],e[t]))},ignored:()=>!0};function i3(n,e,t){return Nie[t.paths](n.root,e.root,t.matrixParams)&&o3[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function a3(n,e,t){return c3(n,e,e.segments,t)}function c3(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!vu(o,t)||e.hasChildren()||!XC(o,t,r))}if(n.segments.length===t.length){if(!vu(n.segments,t)||!XC(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!a3(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(vu(n.segments,o)&&XC(n.segments,o,r)&&n.children[it])&&c3(n.children[it],e,i,r)}}function XC(n,e,t){return e.every((r,o)=>o3[t](n[o].parameters,r.parameters))}class Yd{constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qd(this.queryParams)),this._queryParamMap}toString(){return Uie.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JC(this)}}class Nm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qd(this.parameters)),this._parameterMap}toString(){return f3(this)}}function vu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let km=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return new CA},providedIn:"root"})}return n})();class CA{parse(e){const t=new Qie(e);return new Yd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fm(e.root,!0)}`,r=function $ie(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${eE(t)}=${eE(o)}`).join("&"):`${eE(t)}=${eE(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function Bie(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const Uie=new CA;function JC(n){return n.segments.map(e=>f3(e)).join("/")}function Fm(n,e){if(!n.hasChildren())return JC(n);if(e){const t=n.children[it]?Fm(n.children[it],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==it&&r.push(`${o}:${Fm(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Lie(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===it&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==it&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===it?[Fm(n.children[it],!1)]:[`${o}:${Fm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${JC(n)}/${t[0]}`:`${JC(n)}/(${t.join("//")})`}}function l3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eE(n){return l3(n).replace(/%3B/gi,";")}function EA(n){return l3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tE(n){return decodeURIComponent(n)}function u3(n){return tE(n.replace(/\+/g,"%20"))}function f3(n){return`${EA(n.path)}${function jie(n){return Object.keys(n).map(e=>`;${EA(e)}=${EA(n[e])}`).join("")}(n.parameters)}`}const Hie=/^[^\/()?;#]+/;function wA(n){const e=n.match(Hie);return e?e[0]:""}const zie=/^[^\/()?;=#]+/,Gie=/^[^=?&#]+/,Kie=/^[^&#]+/;class Qie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new Bt(e,t)),r}parseSegment(){const e=wA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Nm(tE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function qie(n){const e=n.match(zie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=wA(this.remaining);o&&(r=o,this.capture(r))}e[tE(t)]=tE(r)}parseQueryParam(e){const t=function Wie(n){const e=n.match(Gie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Zie(n){const e=n.match(Kie);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=u3(t),i=u3(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wA(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new N(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=it);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[it]:new Bt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function d3(n){return n.segments.length>0?new Bt([],{[it]:n}):n}function h3(n){const e={};for(const r of Object.keys(n.children)){const i=h3(n.children[r]);if(r===it&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Yie(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function Cu(n){return n instanceof Yd}function p3(n){let e;const o=d3(function t(i){const s={};for(const c of i.children){const u=t(c);s[c.outlet]=u}const a=new Bt(i.url,s);return i===n&&(e=a),a}(n.root));return e??o}function g3(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return IA(o,o,o,t,r);const i=function Jie(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _3(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new _3(t,e,r)}(e);if(i.toRoot())return IA(o,o,new Bt([],{}),t,r);const s=function ese(n,e,t){if(n.isAbsolute)return new rE(e,!0,0);if(!t)return new rE(e,!1,NaN);if(null===t.parent)return new rE(t,!0,0);const r=nE(n.commands[0])?0:1;return function tse(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new N(4005,!1);o=r.segments.length}return new rE(r,!1,o-i)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(i,o,n),a=s.processChildren?Lm(s.segmentGroup,s.index,i.commands):y3(s.segmentGroup,s.index,i.commands);return IA(o,s.segmentGroup,a,t,r)}function nE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vm(n){return"object"==typeof n&&null!=n&&n.outlets}function IA(n,e,t,r,o){let s,i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=n===e?t:m3(n,e,t);const a=d3(h3(s));return new Yd(a,i,o)}function m3(n,e,t){const r={};return Object.entries(n.children).forEach(([o,i])=>{r[o]=i===e?t:m3(i,e,t)}),new Bt(n.segments,r)}class _3{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nE(r[0]))throw new N(4003,!1);const o=r.find(Vm);if(o&&o!==r3(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function y3(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Lm(n,e,t);const r=function rse(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Vm(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!v3(c,u,s))return i;r+=2}else{if(!v3(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Bt(n.segments.slice(0,r.pathIndex),{});return i.children[it]=new Bt(n.segments.slice(r.pathIndex),n.children),Lm(i,0,o)}return r.match&&0===o.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?TA(n,e,t):r.match?Lm(n,0,o):TA(n,e,t)}function Lm(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function nse(n){return Vm(n[0])?n[0].outlets:{[it]:n}}(t),o={};if(Object.keys(r).some(i=>i!==it)&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const i=Lm(n.children[it],e,t);return new Bt(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=y3(n.children[i],e,s))}),Object.entries(n.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Bt(n.segments,o)}}function TA(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Vm(i)){const c=ose(i.outlets);return new Bt(r,c)}if(0===o&&nE(t[0])){r.push(new Nm(n.segments[e].path,b3(t[0]))),o++;continue}const s=Vm(i)?i.outlets[it]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&nE(a)?(r.push(new Nm(s,b3(a))),o+=2):(r.push(new Nm(s,{})),o++)}return new Bt(r,{})}function ose(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=TA(new Bt([],{}),0,r))}),e}function b3(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function v3(n,e,t){return n==t.path&&Ls(e,t.parameters)}const Um="imperative";class Us{constructor(e,t){this.id=e,this.url=t}}class oE extends Us{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jc extends Us{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bm extends Us{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xd extends Us{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class iE extends Us{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C3 extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ise extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sse extends Us{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ase extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cse extends Us{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lse{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class use{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fse{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dse{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hse{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pse{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E3{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PA{}class MA{constructor(e){this.url=e}}class gse{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jm,this.attachRef=null}}let jm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gse,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class w3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=DA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=AA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return AA(e,this._root).map(t=>t.value)}}function DA(n,e){if(n===e.value)return e;for(const t of e.children){const r=DA(n,t);if(r)return r}return null}function AA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=AA(n,t);if(r.length)return r.unshift(e),r}return[]}class Pa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class I3 extends w3{constructor(e,t){super(e),this.snapshot=t,OA(this,e)}toString(){return this.snapshot.toString()}}function T3(n,e){const t=function mse(n,e){const s=new sE([],{},{},"",{},it,e,null,{});return new M3("",new Pa(s,[]))}(0,e),r=new x([new Nm("",{})]),o=new x({}),i=new x({}),s=new x({}),a=new x(""),c=new Eu(r,o,s,a,i,it,e,t.root);return c.snapshot=t.root,new I3(new Pa(c,[]),t)}class Eu{constructor(e,t,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ve(u=>u[xm]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>Qd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>Qd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function P3(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function _se(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class sE{get title(){return this.data?.[xm]}constructor(e,t,r,o,i,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M3 extends w3{constructor(e,t){super(t),this.url=e,OA(this,t)}toString(){return D3(this._root)}}function OA(n,e){e.value._routerState=n,e.children.forEach(t=>OA(n,t))}function D3(n){const e=n.children.length>0?` { ${n.children.map(D3).join(", ")} } `:"";return`${n.value}${e}`}function SA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ls(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ls(e.params,t.params)||n.paramsSubject.next(t.params),function xie(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ls(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function RA(n,e){const t=Ls(n.params,e.params)&&function Vie(n,e){return vu(n,e)&&n.every((t,r)=>Ls(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||RA(n.parent,e.parent))}let xA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Gt,this.deactivateEvents=new Gt,this.attachEvents=new Gt,this.detachEvents=new Gt,this.parentContexts=fe(jm),this.location=fe(Ui),this.changeDetector=fe(Hp),this.environmentInjector=fe(jo),this.inputBinder=fe(aE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yse(t,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[so]})}return n})();class yse{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Eu?this.route:e===jm?this.childContexts:this.parent.get(e,t)}}const aE=new le("");let A3=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=yA([r.queryParams,r.params,r.data]).pipe(bt(([i,s,a],c)=>(a={...i,...s,...a},0===c?G(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function Q8(n){const e=pt(n);if(!e)return null;const t=new Tp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function $m(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function vse(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return $m(n,r,o);return $m(n,r)})}(n,e,t);return new Pa(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$m(n,a)),s}}const r=function Cse(n){return new Eu(new x(n.url),new x(n.params),new x(n.queryParams),new x(n.fragment),new x(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>$m(n,i));return new Pa(r,o)}}const NA="ngNavigationCancelingError";function O3(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=S3(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function S3(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[NA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function R3(n){return n&&n[NA]}let x3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=pr({type:n,selectors:[["ng-component"]],standalone:!0,features:[ib],decls:1,vars:0,template:function(r,o){1&r&&Xe(0,"router-outlet")},dependencies:[xA],encapsulation:2})}return n})();function kA(n){const e=n.children&&n.children.map(kA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=x3),t}function Wi(n){return n.outlet||it}function Hm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ase{constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),SA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Jd(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Jd(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Jd(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Jd(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new pse(i.value.snapshot))}),e.children.length&&this.forwardEvent(new dse(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(SA(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),SA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Hm(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class N3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cE{constructor(e,t){this.component=e,this.route=t}}function Ose(n,e,t){const r=n._root;return zm(r,e?e._root:null,t,[r.value])}function eh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function CE(n){return null!==Kc(n)}(n)?e.get(n):n:r}function zm(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Jd(e);return n.children.forEach(s=>{(function Rse(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function xse(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vu(n.url,e.url)||!Ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RA(n,e)||!Ls(n.queryParams,e.queryParams);default:return!RA(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new N3(r)):(i.data=s.data,i._resolvedData=s._resolvedData),zm(n,e,i.component?a?a.children:null:t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new cE(a.outlet.component,s))}else s&&qm(e,a,o),o.canActivateChecks.push(new N3(r)),zm(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>qm(a,t.getContext(s),o)),o}function qm(n,e,t){const r=Jd(n),o=n.value;Object.entries(r).forEach(([i,s])=>{qm(s,o.component?e?e.children.getContext(i):null:e,t)}),t.canDeactivateChecks.push(new cE(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Gm(n){return"function"==typeof n}function k3(n){return n instanceof tv||"EmptyError"===n?.name}const lE=Symbol("INITIAL_VALUE");function th(){return bt(n=>yA(n.map(e=>e.pipe(td(1),rv(lE)))).pipe(ve(e=>{for(const t of e)if(!0!==t){if(t===lE)return lE;if(!1===t||t instanceof Yd)return t}return!0}),Ci(e=>e!==lE),td(1)))}function F3(n){return function Xo(...n){return Jo(n)}(Pr(e=>{if(Cu(e))throw O3(0,e)}),ve(e=>!0===e))}class uE{constructor(e){this.segmentGroup=e||null}}class V3{constructor(e){this.urlTree=e}}function nh(n){return Rm(new uE(n))}function L3(n){return Rm(new V3(n))}class Jse{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new N(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return G(r);if(o.numberOfChildren>1||!o.children[it])return Rm(new N(4e3,!1));o=o.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Yd(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new Bt(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new N(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const FA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eae(n,e,t,r,o){const i=VA(n,e,t);return i.matched?(r=function wse(n,e){return n.providers&&!n._injector&&(n._injector=qI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Qse(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?G(o.map(s=>{const a=eh(s,n);return Bc(function Use(n){return n&&Gm(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(th(),F3()):G(!0)}(r,e,t).pipe(ve(s=>!0===s?i:{...FA}))):G(i)}function VA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...FA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Rie)(t,n,e);if(!o)return{...FA};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function U3(n,e,t,r){return t.length>0&&function rae(n,e,t){return t.some(r=>fE(n,e,r)&&Wi(r)!==it)}(n,t,r)?{segmentGroup:new Bt(e,nae(r,new Bt(t,n.children))),slicedSegments:[]}:0===t.length&&function oae(n,e,t){return t.some(r=>fE(n,e,r))}(n,t,r)?{segmentGroup:new Bt(n.segments,tae(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:t}}function tae(n,e,t,r,o){const i={};for(const s of r)if(fE(n,t,s)&&!o[Wi(s)]){const a=new Bt([],{});i[Wi(s)]=a}return{...o,...i}}function nae(n,e){const t={};t[it]=e;for(const r of n)if(""===r.path&&Wi(r)!==it){const o=new Bt([],{});t[Wi(r)]=o}return t}function fE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class cae{constructor(e,t,r,o,i,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Jse(this.urlSerializer,this.urlTree)}noMatchError(e){return new N(4002,!1)}recognize(){const e=U3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(bu(t=>{if(t instanceof V3)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof uE?this.noMatchError(t):t}),ve(t=>{const r=new sE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),o=new Pa(r,t),i=new M3("",o),s=function Xie(n,e,t=null,r=null){return g3(p3(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root),{state:i,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(bu(r=>{throw r instanceof uE?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=P3(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return M(o).pipe(Qf(i=>{const s=r.children[i],a=function Mse(n,e){const t=n.filter(r=>Wi(r)===e);return t.push(...n.filter(r=>Wi(r)!==e)),t}(t,i);return this.processSegmentGroup(e,a,s,i)}),ov((i,s)=>(i.push(...s),i)),nv(null),function Die(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((o,i)=>n(o,i,r)):Rn,vA(1),t?nv(e):hF(()=>new tv))}(),Qt(i=>{if(null===i)return nh(r);const s=B3(i);return function lae(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),G(s)}))}processSegment(e,t,r,o,i,s){return M(t).pipe(Qf(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,o,i,s).pipe(bu(c=>{if(c instanceof uE)return G(null);throw c}))),gc(a=>!!a),bu(a=>{if(k3(a))return function sae(n,e,t){return 0===e.length&&!n.children[t]}(r,o,i)?G([]):nh(r);throw a}))}processSegmentAgainstRoute(e,t,r,o,i,s,a){return function iae(n,e,t,r){return!!(Wi(n)===r||r!==it&&fE(e,t,n))&&("**"===n.path||VA(e,n,t).matched)}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,i,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,s):nh(o):nh(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?L3(i):this.applyRedirects.lineralizeSegments(r,i).pipe(Qt(s=>{const a=new Bt(s,{});return this.processSegment(e,t,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=VA(t,o,i);if(!a)return nh(t);const g=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,d);return o.redirectTo.startsWith("/")?L3(g):this.applyRedirects.lineralizeSegments(o,g).pipe(Qt(m=>this.processSegment(e,r,t,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i,s){let a;if("**"===r.path){const c=o.length>0?r3(o).parameters:{};a=G({snapshot:new sE(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j3(r),Wi(r),r.component??r._loadedComponent??null,r,$3(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=eae(t,r,o,e).pipe(ve(({matched:c,consumedSegments:u,remainingSegments:d,parameters:g})=>c?{snapshot:new sE(u,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j3(r),Wi(r),r.component??r._loadedComponent??null,r,$3(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(bt(c=>null===c?nh(t):this.getChildConfig(e=r._injector??e,r,o).pipe(bt(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=c,{segmentGroup:v,slicedSegments:C}=U3(t,m,y,u);if(0===C.length&&v.hasChildren())return this.processChildren(d,u,v).pipe(ve(O=>null===O?null:[new Pa(g,O)]));if(0===u.length&&0===C.length)return G([new Pa(g,[])]);const w=Wi(r)===i;return this.processSegment(d,u,v,C,w?it:i,!0).pipe(ve(O=>[new Pa(g,O)]))}))))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function Zse(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?G(!0):G(o.map(s=>{const a=eh(s,n);return Bc(function kse(n){return n&&Gm(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(th(),F3())}(e,t,r).pipe(Qt(o=>o?this.configLoader.loadChildren(e,t).pipe(Pr(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function Xse(n){return Rm(S3(!1,3))}())):G({routes:[],injector:e})}}function uae(n){const e=n.value.routeConfig;return e&&""===e.path}function B3(n){const e=[],t=new Set;for(const r of n){if(!uae(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=B3(r.children);e.push(new Pa(r.value,o))}return e.filter(r=>!t.has(r))}function j3(n){return n.data||{}}function $3(n){return n.resolve||{}}function H3(n){return"string"==typeof n.title||null===n.title}function LA(n){return bt(e=>{const t=n(e);return t?M(t).pipe(ve(()=>e)):G(e)})}const rh=new le("ROUTES");let UA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(iN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bc(t.loadComponent()).pipe(ve(z3),Pr(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),og(()=>{this.componentLoaders.delete(t)})),o=new t3(r,()=>new B).pipe(bA());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function _ae(n,e,t,r){return Bc(n.loadChildren()).pipe(ve(z3),Qt(o=>o instanceof dx||Array.isArray(o)?G(o):M(e.compileModuleAsync(o))),ve(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(t).injector,s=i.get(rh,[],{optional:!0,self:!0}).flat()),{routes:s.map(kA),injector:i}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(og(()=>{this.childrenLoaders.delete(r)})),s=new t3(i,()=>new B).pipe(bA());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z3(n){return function yae(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B,this.transitionAbortSubject=new B,this.configLoader=fe(UA),this.environmentInjector=fe(jo),this.urlSerializer=fe(km),this.rootContexts=fe(jm),this.inputBindingEnabled=null!==fe(aE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new use(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new lse(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new x({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Um,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ci(i=>0!==i.id),ve(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),bt(i=>{this.currentTransition=i;let s=!1,a=!1;return G(i).pipe(Pr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bt(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Xd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),jn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return G(c).pipe(bt(m=>{const y=this.transitions?.getValue();return this.events.next(new oE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?jn:Promise.resolve(m)}),function fae(n,e,t,r,o,i){return Qt(s=>function aae(n,e,t,r,o,i,s="emptyOnly"){return new cae(n,e,t,r,o,s,i).recognize()}(n,e,t,r,s.extractedUrl,o,i).pipe(ve(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Pr(m=>{i.targetSnapshot=m.targetSnapshot,i.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new C3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:y,source:v,restoredState:C,extras:w}=c,O=new oE(m,this.urlSerializer.serialize(y),v,C);this.events.next(O);const D=T3(0,this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:D,urlAfterRedirects:y,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},G(i)}{const m="";return this.events.next(new Xd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),jn}}),Pr(c=>{const u=new ise(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ve(c=>(this.currentTransition=i={...c,guards:Ose(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function jse(n,e){return Qt(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?G({...t,guardsResult:!0}):function $se(n,e,t,r){return M(n).pipe(Qt(o=>function Kse(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?G(i.map(a=>{const c=Hm(e)??o,u=eh(a,c);return Bc(function Lse(n){return n&&Gm(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(gc())})).pipe(th()):G(!0)}(o.component,o.route,t,e,r)),gc(o=>!0!==o,!0))}(s,r,o,n).pipe(Qt(a=>a&&function Nse(n){return"boolean"==typeof n}(a)?function Hse(n,e,t,r){return M(e).pipe(Qf(o=>TT(function qse(n,e){return null!==n&&e&&e(new fse(n)),G(!0)}(o.route.parent,r),function zse(n,e){return null!==n&&e&&e(new hse(n)),G(!0)}(o.route,r),function Wse(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function Sse(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>e3(()=>G(s.guards.map(c=>{const u=Hm(s.node)??t,d=eh(c,u);return Bc(function Vse(n){return n&&Gm(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(gc())})).pipe(th())));return G(i).pipe(th())}(n,o.path,t),function Gse(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const o=r.map(i=>e3(()=>{const s=Hm(e)??t,a=eh(i,s);return Bc(function Fse(n){return n&&Gm(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(gc())}));return G(o).pipe(th())}(n,o.route,t))),gc(o=>!0!==o,!0))}(r,i,n,e):G(a)),ve(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Pr(c=>{if(i.guardsResult=c.guardsResult,Cu(c.guardsResult))throw O3(0,c.guardsResult);const u=new sse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ci(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),LA(c=>{if(c.guards.canActivateChecks.length)return G(c).pipe(Pr(u=>{const d=new ase(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),bt(u=>{let d=!1;return G(u).pipe(function dae(n,e){return Qt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return G(t);let i=0;return M(o).pipe(Qf(s=>function hae(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!H3(o)&&(i[xm]=o.title),function pae(n,e,t,r){const o=function gae(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return G({});const i={};return M(o).pipe(Qt(s=>function mae(n,e,t,r){const o=Hm(e)??r,i=eh(n,o);return Bc(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(gc(),Pr(a=>{i[s]=a}))),vA(1),function Aie(n){return ve(()=>n)}(i),bu(s=>k3(s)?jn:Rm(s)))}(i,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=P3(n,t).resolve,o&&H3(o)&&(n.data[xm]=o.title),null)))}(s.route,r,n,e)),Pr(()=>i++),vA(1),Qt(s=>i===o.length?G(t):jn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Pr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Pr(u=>{const d=new cse(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),LA(c=>{const u=d=>{const g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(Pr(m=>{d.component=m}),ve(()=>{})));for(const m of d.children)g.push(...u(m));return g};return yA(u(c.targetSnapshot.root)).pipe(nv(),td(1))}),LA(()=>this.afterPreactivation()),ve(c=>{const u=function bse(n,e,t){const r=$m(n,e._root,t?t._root:void 0);return new I3(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:u},i}),Pr(()=>{this.events.next(new PA)}),((n,e,t,r)=>ve(o=>(new Ase(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),td(1),Pr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function Oie(n){return H((e,t)=>{xn(n).subscribe(me(t,()=>t.complete(),Ae)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Pr(c=>{throw c}))),og(()=>{s||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),bu(c=>{if(a=!0,R3(c))this.events.next(new Bm(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function Ese(n){return R3(n)&&Cu(n.url)}(c)?this.events.next(new MA(c.url)):i.resolve(!1);else{this.events.next(new iE(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(t.errorHandler(c))}catch(u){i.reject(u)}}return jn}))}))}cancelNavigationTransition(t,r,o){const i=new Bm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q3(n){return n!==Um}let G3=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[xm]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return fe(bae)},providedIn:"root"})}return n})(),bae=(()=>{class n extends G3{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Dk))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return fe(Eae)},providedIn:"root"})}return n})();class Cae{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Eae=(()=>{class n extends Cae{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=or(n)))(o||n)}}();static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hE=new le("",{providedIn:"root",factory:()=>({})});let wae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:function(){return fe(Iae)},providedIn:"root"})}return n})(),Iae=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wm||{});function W3(n,e){n.events.pipe(Ci(t=>t instanceof jc||t instanceof Bm||t instanceof iE||t instanceof Xd),ve(t=>t instanceof jc||t instanceof Xd?Wm.COMPLETE:t instanceof Bm&&(0===t.code||1===t.code)?Wm.REDIRECTING:Wm.FAILED),Ci(t=>t!==Wm.REDIRECTING),td(1)).subscribe(()=>{e()})}function Tae(n){throw n}function Pae(n,e,t){return e.parse("/")}const Mae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(oN),this.isNgZoneEnabled=!1,this._events=new B,this.options=fe(hE,{optional:!0})||{},this.pendingTasks=fe(lb),this.errorHandler=this.options.errorHandler||Tae,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pae,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(wae),this.routeReuseStrategy=fe(vae),this.titleStrategy=fe(G3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(rh,{optional:!0})?.flat()??[],this.navigationTransitions=fe(dE),this.urlSerializer=fe(km),this.location=fe(T0),this.componentInputBindingEnabled=!!fe(aE,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=fe(It)instanceof It&&It.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=T3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(K3(r)&&this._events.next(r));if(r instanceof oE)q3(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof Xd)this.rawUrlTree=o.rawUrl;else if(r instanceof C3){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(i,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof PA)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Bm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof MA){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),s={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||q3(o.source)};this.scheduleNavigation(i,Um,null,s,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof iE&&this.restoreHistory(o,!0),r instanceof jc&&(this.navigated=!0),K3(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Um,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let g,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{g=p3(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return g3(g,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Cu(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Um,null,r)}navigate(t,r={skipLocationChange:!1}){return function Aae(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new N(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Mae}:!1===r?{...Dae}:r,Cu(t))return i3(this.currentUrlTree,t,o);const i=this.parseUrl(t);return i3(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((g,m)=>{a=g,c=m});const d=this.pendingTasks.add();return W3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K3(n){return!(n instanceof PA||n instanceof MA)}let oh=(()=>{class n{constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof jc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,i,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function pS(n,e,t){return function y$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hS:Ay}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(X(Qo),X(Eu),Za("tabindex"),X(gi),X(uo),X(Ll))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&Oe("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Hr("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wf],skipLocationChange:["skipLocationChange","skipLocationChange",Wf],replaceUrl:["replaceUrl","replaceUrl",Wf],routerLink:"routerLink"},standalone:!0,features:[A1,so]})}return n})();class Z3{}let Rae=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(t=>t instanceof jc),Qf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=qI(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return M(o).pipe(Fo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const i=o.pipe(Qt(s=>null===s?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?M([i,this.loader.loadComponent(r)]).pipe(Fo()):i})}static#e=this.\u0275fac=function(r){return new(r||n)(W(Qo),W(iN),W(jo),W(Z3),W(UA))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BA=new le("");let Q3=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof E3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new E3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function n1(){throw new Error("invalid")}()};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function Ma(n,e){return{\u0275kind:n,\u0275providers:e}}function X3(){const n=fe(jr);return e=>{const t=n.get(ca);if(e!==t.components[0])return;const r=n.get(Qo),o=n.get(J3);1===n.get(jA)&&r.initialNavigation(),n.get(e5,null,dt.Optional)?.setUpPreloading(),n.get(BA,null,dt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const J3=new le("",{factory:()=>new B}),jA=new le("",{providedIn:"root",factory:()=>1}),e5=new le("");function Fae(n){return Ma(0,[{provide:e5,useExisting:Rae},{provide:Z3,useExisting:n}])}const t5=new le("ROUTER_FORROOT_GUARD"),Lae=[T0,{provide:km,useClass:CA},Qo,jm,{provide:Eu,useFactory:function Y3(n){return n.routerState.root},deps:[Qo]},UA,[]];function Uae(){return new dN("Router",Qo)}let n5=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Lae,[],{provide:rh,multi:!0,useValue:t},{provide:t5,useFactory:Hae,deps:[[Qo,new Dl,new mf]]},{provide:hE,useValue:r||{}},r?.useHash?{provide:Ll,useClass:tG}:{provide:Ll,useClass:HN},{provide:BA,useFactory:()=>{const n=fe(b7),e=fe(It),t=fe(hE),r=fe(dE),o=fe(km);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Q3(o,r,n,e,t)}},r?.preloadingStrategy?Fae(r.preloadingStrategy).\u0275providers:[],{provide:dN,multi:!0,useFactory:Uae},r?.initialNavigation?zae(r):[],r?.bindToComponentInputs?Ma(8,[A3,{provide:aE,useExisting:A3}]).\u0275providers:[],[{provide:r5,useFactory:X3},{provide:g0,multi:!0,useExisting:r5}]]}}static forChild(t){return{ngModule:n,providers:[{provide:rh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(W(t5,8))};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({})}return n})();function Hae(n){return"guarded"}function zae(n){return["disabled"===n.initialNavigation?Ma(3,[{provide:a0,multi:!0,useFactory:()=>{const e=fe(Qo);return()=>{e.setUpLocationChangeListener()}}},{provide:jA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ma(2,[{provide:jA,useValue:0},{provide:a0,multi:!0,deps:[jr],useFactory:e=>{const t=e.get(J8,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Qo),i=e.get(J3);W3(o,()=>{r(!0)}),e.get(dE).afterPreactivation=()=>(r(!0),i.closed?G(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const r5=new le("");let Gae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-dashboard"]],decls:20,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-4","mb-5"],["routerLink","/categories",1,"card","shadow-effect"],[1,"card-body","text-center","bg-secondary-theme"],[1,"mt-3","text-theme-primary"],[1,"fas","fa-clipboard-list"],[1,"text-theme-primary"],["routerLink","/posts",1,"card","shadow-effect"],[1,"fas","fa-file-image"]],template:function(r,o){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),Xe(6,"i",6),$(),q(7,"h2",7),Me(8,"Category"),$(),q(9,"p"),Me(10,"Manage Your Category Details Here."),$()()()(),q(11,"div",2)(12,"div",8)(13,"div",4)(14,"h1",5),Xe(15,"i",9),$(),q(16,"h2",7),Me(17,"Posts"),$(),q(18,"p"),Me(19,"Manage Your Posts Details Here."),$()()()()()())},dependencies:[oh],styles:[".card[_ngcontent-%COMP%]{height:200px;cursor:pointer}"]})}return n})(),o5=(()=>{class n{constructor(t,r){this.afs=t,this.toastr=r}saveData(t){this.afs.collection("categories").add(t).then(r=>{console.log(r),this.toastr.success("Data Inserted Successfully!")}).catch(r=>{console.log(r)})}loadData(){return this.afs.collection("categories").snapshotChanges().pipe(ve(t=>t.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,data:o}})))}updateData(t,r){this.afs.doc(`categories/${t}`).update(r).then(o=>{this.toastr.success("Data Updated Successfully!")})}deleteData(t){this.afs.doc(`categories/${t}`).delete().then(r=>{this.toastr.success("Data Deleted..!")})}static#e=this.\u0275fac=function(r){return new(r||n)(W(RD),W(VC))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wae(n,e){1&n&&(q(0,"div",20),Me(1," Category field is required "),$())}function Kae(n,e){if(1&n){const t=_i();q(0,"tr")(1,"td"),Me(2),$(),q(3,"td"),Me(4),$(),q(5,"td")(6,"button",21),Oe("click",function(){const i=Le(t).$implicit;return Ue(be().onEdit(i.data.category,i.id))}),Me(7,"Edit"),$(),q(8,"button",22),Oe("click",function(){const i=Le(t).$implicit;return Ue(be().onDelete(i.id))}),Xe(9,"i",23),$()()()}if(2&n){const t=e.$implicit,r=e.index;ie(2),bs(r+1),ie(2),bs(t.data.category)}}const Zae=function(n){return{"is-invalid":n}};let Qae=(()=>{class n{constructor(t){this.categoryService=t,this.categoryArray=[],this.formStatus="Add"}ngOnInit(){this.categoryService.loadData().subscribe(t=>{console.log(t),this.categoryArray=t})}onSubmit(t){let r={category:t.value.category};"Add"==this.formStatus?(this.categoryService.saveData(r),t.reset()):"Edit"==this.formStatus&&(this.categoryService.updateData(this.categoryId,r),t.reset(),this.formStatus="Add")}onEdit(t,r){this.formCategory=t,this.formStatus="Edit",this.categoryId=r}onDelete(t){this.categoryService.deleteData(t)}static#e=this.\u0275fac=function(r){return new(r||n)(X(o5))};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-categories"]],decls:33,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-12","bg-secondary-theme","p-5","shadow-effect"],[1,"text-center","text-theme-primary"],[1,"text-center","mb-5"],[1,"form-inline","text-center",3,"ngSubmit"],["categoryForm","ngForm"],[1,"form-group","col-md-10"],["type","text","name","category","placeholder","Add New Categories","name","category","required","",1,"form-control","shadow-effect",3,"ngModel","ngClass","ngModelChange"],["newCategory","ngModel"],["class","alert alert-danger","style","width: 100%;",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-block","btn-info","mb-2","btn-theme",3,"disabled"],[1,"row","mt-5","mb-5"],[1,"col-md-3"],[1,"col-md-6"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger",2,"width","100%"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"],[1,"fas","fa-trash"]],template:function(r,o){if(1&r){const i=_i();q(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),Me(4),$(),q(5,"p",4),Me(6,"You can add new categories from here ..!"),$(),q(7,"form",5,6),Oe("ngSubmit",function(){Le(i);const a=ra(8);return Ue(o.onSubmit(a))}),q(9,"div",7)(10,"input",8,9),Oe("ngModelChange",function(a){return o.formCategory=a}),$(),lt(12,Wae,2,0,"div",10),$(),q(13,"div",11)(14,"button",12),Me(15),$()()()()(),q(16,"div",13),Xe(17,"div",14),q(18,"div",15)(19,"div",16)(20,"div",17)(21,"table",18)(22,"thead")(23,"tr")(24,"th"),Me(25,"No"),$(),q(26,"th"),Me(27,"Category"),$(),q(28,"th"),Me(29,"Action"),$()()(),q(30,"tbody"),lt(31,Kae,10,2,"tr",19),$()()()()(),Xe(32,"div",14),$()()}if(2&r){const i=ra(8),s=ra(11);ie(4),Tr("",o.formStatus," Categories"),ie(6),ue("ngModel",o.formCategory)("ngClass",vs(7,Zae,s.touched&&s.invalid)),ie(2),ue("ngIf",s.touched&&s.invalid),ie(2),ue("disabled",i.invalid),ie(1),Tr("",o.formStatus," Category"),ie(16),ue("ngForOf",o.categoryArray)}},dependencies:[Mb,Wp,cc,uT,Qp,Nb,tT,Wb,zb,Hb]})}return n})(),i5=(()=>{class n{constructor(t,r,o,i){this.storage=t,this.afs=r,this.toastr=o,this.router=i}uploadImage(t,r,o,i){const s=`postIMG/${Date.now()}`;console.log(s),this.storage.upload(s,t).then(()=>{console.log("Post image uploaded successfully!"),this.storage.ref(s).getDownloadURL().subscribe(a=>{r.postImgPath=a,"Edit"==o?this.updateData(i,r):this.saveData(r)})})}saveData(t){this.afs.collection("posts").add(t).then(r=>{this.toastr.success("Data Inserted Successfully!"),this.router.navigate(["/posts"])})}loadData(){return this.afs.collection("posts").snapshotChanges().pipe(ve(t=>t.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,data:o}})))}loadOneData(t){return this.afs.collection("posts").doc(t).valueChanges()}updateData(t,r){this.afs.doc(`posts/${t}`).update(r).then(()=>{this.toastr.success("Data Updated Successfully!"),this.router.navigate(["/posts"])})}deleteImage(t,r){this.storage.storage.refFromURL(t).delete().then(()=>{this.deleteData(r)})}deleteData(t){this.afs.doc(`posts/${t}`).delete().then(()=>{this.toastr.warning("Data Deleted...!")})}static#e=this.\u0275fac=function(r){return new(r||n)(W(uj),W(RD),W(VC),W(Qo))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yae=function(n){return{id:n}};function Xae(n,e){if(1&n){const t=_i();q(0,"tr")(1,"td"),Me(2),$(),q(3,"td"),Xe(4,"img",13),$(),q(5,"td"),Me(6),$(),q(7,"td"),Me(8),$(),q(9,"td"),Me(10),$(),q(11,"td"),Me(12),function Px(n,e){const t=gt();let r;const o=n+st;t.firstCreatePass?(r=function K9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks??=[]).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=ui(r.type)),a=hr(X);try{const c=Cl(!1),u=i();return Cl(c),function Rz(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ne(),o,u),u}finally{hr(a)}}(13,"date"),$(),q(14,"td")(15,"button",14),Me(16,"Edit"),$(),q(17,"button",15),Oe("click",function(){const i=Le(t).$implicit;return Ue(be().onDelete(i.data.postImgPath,i.id))}),Me(18,"Delete"),$()()()}if(2&n){const t=e.$implicit,r=e.index;ie(2),bs(r+1),ie(2),AI("src",t.data.postImgPath,Ay),ie(2),bs(t.data.title),ie(2),bs(t.data.excerpt),ie(2),bs(t.data.category.category),ie(2),bs(Mx(13,7,t.data.createdAt.toMillis())),ie(3),ue("queryParams",vs(9,Yae,t.id))}}let Jae=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.postService.loadData().subscribe(t=>{console.log(t),this.postArray=t})}onDelete(t,r){this.postService.deleteImage(t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(X(i5))};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-all-post"]],decls:36,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-effect","bg-secondary-theme"],[1,"card-body","text-center"],[1,"text-theme-center"],["routerLink","/posts/new",1,"btn","btn-info","bg-theme"],["routerLink","/",1,"btn","btn-warning","ml-2"],[1,"col-md-12","mt-3","mb-3"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],[4,"ngFor","ngForOf"],[1,"img","img-fluid",3,"src"],["routerLink","/posts/new",1,"btn","btn-sm","btn-warning",3,"queryParams"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"]],template:function(r,o){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),Me(6,"All Blog Posts"),$(),q(7,"p"),Me(8,"From here you can manage your blog posts."),$(),q(9,"button",6),Me(10,"Add New Post"),$(),q(11,"button",7),Me(12,"Bact to Dashboard"),$()()()()(),q(13,"div",1)(14,"div",8)(15,"div",9)(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),Me(21,"No"),$(),q(22,"th"),Me(23,"Post Image"),$(),q(24,"th"),Me(25,"Title"),$(),q(26,"th"),Me(27,"Excerpt"),$(),q(28,"th"),Me(29,"Category"),$(),q(30,"th"),Me(31,"Date"),$(),q(32,"th"),Me(33,"Actions"),$()()(),q(34,"tbody"),lt(35,Xae,19,11,"tr",12),$()()()()()()()),2&r&&(ie(35),ue("ngForOf",o.postArray))},dependencies:[Wp,oh,sk]})}return n})();function ece(n,e){1&n&&(q(0,"div",28),Me(1," Title is required "),$())}function tce(n,e){if(1&n&&(q(0,"div"),lt(1,ece,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.title.touched&&t.fc.title.invalid)}}function nce(n,e){1&n&&(q(0,"div",28),Me(1," Title must be at least 10 characters long. "),$())}function rce(n,e){if(1&n&&(q(0,"div"),lt(1,nce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.title.touched&&t.fc.title.invalid)}}function oce(n,e){1&n&&(q(0,"div",28),Me(1," Permalink is required "),$())}function ice(n,e){if(1&n&&(q(0,"div"),lt(1,oce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.permalink.touched&&t.fc.permalink.invalid)}}function sce(n,e){1&n&&(q(0,"div",28),Me(1," Excerpt is required "),$())}function ace(n,e){if(1&n&&(q(0,"div"),lt(1,sce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.excerpt.touched&&t.fc.excerpt.invalid)}}function cce(n,e){1&n&&(q(0,"div",28),Me(1," Excerpt must be at least 50 characters long. "),$())}function lce(n,e){if(1&n&&(q(0,"div"),lt(1,cce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.excerpt.touched&&t.fc.excerpt.invalid)}}function uce(n,e){if(1&n&&(q(0,"option",29),Me(1),$()),2&n){const t=e.$implicit;SI("value","",t.id,"-",t.data.category,""),ie(1),Tr(" ",t.data.category," ")}}function fce(n,e){1&n&&(q(0,"div",28),Me(1," Please select a category "),$())}function dce(n,e){if(1&n&&(q(0,"div"),lt(1,fce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.category.touched&&t.fc.category.invalid)}}function hce(n,e){1&n&&(q(0,"div",28),Me(1," Post Image is required "),$())}function pce(n,e){if(1&n&&(q(0,"div"),lt(1,hce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.postImg.touched&&t.fc.postImg.invalid)}}function gce(n,e){1&n&&(q(0,"div",28),Me(1," Content is required "),$())}function mce(n,e){if(1&n&&(q(0,"div"),lt(1,gce,2,0,"div",27),$()),2&n){const t=be(2);ie(1),ue("ngIf",t.fc.content.touched&&t.fc.content.invalid)}}const Km=function(n){return{"is-invalid":n}};function _ce(n,e){if(1&n){const t=_i();q(0,"div")(1,"form",6),Oe("ngSubmit",function(){return Le(t),Ue(be().onSubmit())}),q(2,"div",1)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"label"),Me(8,"Title"),$(),q(9,"input",11),Oe("keyup",function(o){return Le(t),Ue(be().onTitleChanged(o))}),$(),lt(10,tce,2,1,"div",5),lt(11,rce,2,1,"div",5),$(),q(12,"div",10)(13,"label"),Me(14,"Permalink"),$(),q(15,"input",12),Oe("ngModelChange",function(o){return Le(t),Ue(be().permalink=o)}),$(),lt(16,ice,2,1,"div",5),$(),q(17,"div",10)(18,"label"),Me(19,"Excerpt"),$(),Xe(20,"textarea",13),lt(21,ace,2,1,"div",5),lt(22,lce,2,1,"div",5),$()()()(),q(23,"div",14)(24,"div",8)(25,"div",9)(26,"div",10)(27,"label",15),Me(28,"Please select a post category"),$(),q(29,"select",16)(30,"option",17),Me(31,"Please select a category"),$(),lt(32,uce,2,3,"option",18),$(),lt(33,dce,2,1,"div",5),$(),q(34,"div",10)(35,"label",15),Me(36,"Post Image"),$(),Xe(37,"img",19),q(38,"input",20),Oe("change",function(o){return Le(t),Ue(be().showPreview(o))}),$(),lt(39,pce,2,1,"div",5),$()()()()(),q(40,"div",21)(41,"div",22)(42,"div",8)(43,"div",9)(44,"div",10)(45,"label",15),Me(46,"Content"),$(),Xe(47,"angular-editor",23),lt(48,mce,2,1,"div",5),$()()()(),q(49,"div",24)(50,"button",25),Me(51),$(),q(52,"button",26),Me(53," Back to Post "),$()()()()()}if(2&n){const t=be();ie(1),ue("formGroup",t.postForm),ie(8),ue("ngClass",vs(19,Km,t.fc.title.touched&&t.fc.title.invalid)),ie(1),ue("ngIf",null==t.fc.title.errors?null:t.fc.title.errors.required),ie(1),ue("ngIf",null==t.fc.title.errors?null:t.fc.title.errors.minlength),ie(4),ue("ngModel",t.permalink)("ngClass",vs(21,Km,t.fc.permalink.touched&&t.fc.permalink.invalid)),ie(1),ue("ngIf",null==t.fc.permalink.errors?null:t.fc.permalink.errors.required),ie(4),ue("ngClass",vs(23,Km,t.fc.excerpt.touched&&t.fc.excerpt.invalid)),ie(1),ue("ngIf",null==t.fc.excerpt.errors?null:t.fc.excerpt.errors.required),ie(1),ue("ngIf",null==t.fc.excerpt.errors?null:t.fc.excerpt.errors.minlength),ie(7),ue("ngClass",vs(25,Km,t.fc.category.touched&&t.fc.category.invalid)),ie(3),ue("ngForOf",t.categories),ie(1),ue("ngIf",null==t.fc.category.errors?null:t.fc.category.errors.required),ie(4),ue("src",t.imgSrc,Ay),ie(1),ue("ngClass",vs(27,Km,t.fc.postImg.touched&&t.fc.postImg.invalid)),ie(1),ue("ngIf",null==t.fc.postImg.errors?null:t.fc.postImg.errors.required),ie(9),ue("ngIf",null==t.fc.content.errors?null:t.fc.content.errors.required),ie(2),ue("disabled",t.postForm.invalid),ie(1),Tr("",t.formStatus," Post")}}const yce=[{path:"",component:Gae},{path:"categories",component:Qae},{path:"posts",component:Jae},{path:"posts/new",component:(()=>{class n{constructor(t,r,o,i){this.categoriesService=t,this.formBuilder=r,this.postService=o,this.activatedRoute=i,this.permalink="",this.imgSrc="./assets/placeholder-image.png",this.categories=[],this.formStatus="Add New",this.activatedRoute.queryParams.subscribe(s=>{this.docId=s.id,this.docId?this.postService.loadOneData(s.id).subscribe(a=>{this.post=a,this.postForm=this.formBuilder.group({title:[this.post.title,[qr.required,qr.minLength(10)]],permalink:[this.post.permalink,qr.required],excerpt:[this.post.excerpt,[qr.required,qr.minLength(50)]],category:[`${this.post.category.categoryId}-${this.post.category.category}`,qr.required],postImg:["",qr.required],content:[this.post.content,qr.required]}),this.imgSrc=this.post.postImgPath,this.formStatus="Edit"}):this.postForm=this.formBuilder.group({title:["",[qr.required,qr.minLength(10)]],permalink:["",qr.required],excerpt:["",[qr.required,qr.minLength(50)]],category:["",qr.required],postImg:["",qr.required],content:["",qr.required]})})}ngOnInit(){this.categoriesService.loadData().subscribe(t=>{this.categories=t})}get fc(){return this.postForm.controls}onTitleChanged(t){this.permalink=t.target.value.replace(/\s/g,"-")}showPreview(t){const r=new FileReader;r.onload=o=>{this.imgSrc=o.target?.result},r.readAsDataURL(t.target.files[0]),this.selectedImg=t.target.files[0]}onSubmit(){let t=this.postForm.value.category.split("-");console.log(t),this.postService.uploadImage(this.selectedImg,{title:this.postForm.value.title,permalink:this.postForm.value.permalink,category:{categoryId:t[0],category:t[1]},postImgPath:"",excerpt:this.postForm.value.excerpt,content:this.postForm.value.content,isFeatured:!1,views:0,status:"new",createdAt:new Date},this.formStatus,this.docId),this.postForm.reset(),this.imgSrc="./assets/placeholder-image.png"}static#e=this.\u0275fac=function(r){return new(r||n)(X(o5),X(mK),X(i5),X(Eu))};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-new-post"]],decls:8,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"text-theme-primary"],[1,"mb-5"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-md-7"],[1,"card","shadow-effect"],[1,"card-body"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass","keyup"],["type","text","name","permalink","formControlName","permalink",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["cols","30","rows","10","formControlName","excerpt",1,"form-control",3,"ngClass"],[1,"col-md-5"],["for",""],["formControlName","category",1,"form-control",3,"ngClass"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","img-fluid","img-preview",3,"src"],["type","file","accept","image/*","formControlName","postImg",1,"form-control",3,"ngClass","change"],[1,"row","mt-3","mb-5"],[1,"col-md-12"],["placeholder","Add your content here","formControlName","content"],[1,"col-md-12","text-center","mt-5","mb-5"],[1,"btn","btn-info","bg-theme",3,"disabled"],["routerLink","/posts",1,"btn","btn-warning","ml-3"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"]],template:function(r,o){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),Me(4),$(),q(5,"p",4),Me(6),$()()(),lt(7,_ce,54,29,"div",5),$()),2&r&&(ie(4),Tr("",o.formStatus," Post"),ie(2),Tr("You can ",o.formStatus," your new post here"),ie(1),ue("ngIf",o.postForm))},dependencies:[Mb,Wp,cc,oh,uT,P2,D2,Qp,Gb,Nb,tT,wie,qb,pT],styles:[".img-preview[_ngcontent-%COMP%]{height:280px}"]})}return n})()}];let bce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n});static#n=this.\u0275inj=vn({imports:[n5.forRoot(yce),n5]})}return n})(),vce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["href","#",1,"site-logo"]],template:function(r,o){1&r&&(q(0,"header",0)(1,"div",1)(2,"a",2),Me(3,"MSI-BLOG"),$()()())},styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em}"]})}return n})(),Cce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"mb-2","mt-2"]],template:function(r,o){1&r&&(q(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),Me(5,"MSI-BLOG"),$(),q(6,"p",4),Me(7,"Copyright @ 2023 Angular Blogsite"),$()()()()())},styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]})}return n})(),Ece=(()=>{class n{constructor(){this.title="angular-portfolio"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=pr({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"app-body"]],template:function(r,o){1&r&&(Xe(0,"app-header"),q(1,"div",0),Xe(2,"router-outlet"),$(),Xe(3,"app-footer"))},dependencies:[xA,vce,Cce],styles:[".app-body[_ngcontent-%COMP%]{min-height:45vh;margin-top:150px}"]})}return n})(),wce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Cn({type:n,bootstrap:[Ece]});static#n=this.\u0275inj=vn({imports:[Mk,bce,fZ.initializeApp(Tie_firebaseConfig),Qee,j2,lre.forRoot(),oie,Iie,BK,$2,Une]})}return n})();uW().bootstrapModule(wce).catch(n=>console.error(n))},106:(Pi,Wn,Qe)=>{Qe.d(Wn,{Z:()=>Zn});var E=Qe(58),$e=Qe(537),z=Qe(534),He=Qe(879);class Tt{constructor(We,tt){this._delegate=We,this.firebase=tt,(0,z._addComponent)(We,new $e.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(We,tt=z._DEFAULT_ENTRY_NAME){var Qn;this._delegate.checkDestroyed();const Yn=this._delegate.container.getProvider(We);return!Yn.isInitialized()&&"EXPLICIT"===(null===(Qn=Yn.getComponent())||void 0===Qn?void 0:Qn.instantiationMode)&&Yn.initialize(),Yn.getImmediate({identifier:tt})}_removeServiceInstance(We,tt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(tt)}_addComponent(We){(0,z._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,z._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const hn=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ut(){const At=function Kn(At){const We={},tt={__esModule:!0,initializeApp:function Kt(nt,Un={}){const J=z.initializeApp(nt,Un);if((0,E.r3)(We,J.name))return We[J.name];const on=new At(J,tt);return We[J.name]=on,on},app:Yn,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function jt(nt){const Un=nt.name,J=Un.replace("-compat","");if(z._registerComponent(nt)&&"PUBLIC"===nt.type){const on=(Zt=Yn())=>{if("function"!=typeof Zt[J])throw hn.create("invalid-app-argument",{appName:Un});return Zt[J]()};void 0!==nt.serviceProps&&(0,E.ZB)(on,nt.serviceProps),tt[J]=on,At.prototype[J]=function(...Zt){return this._getService.bind(this,Un).apply(this,nt.multipleInstances?Zt:[])}}return"PUBLIC"===nt.type?tt[J]:null},removeApp:function Qn(nt){delete We[nt]},useAsService:function Rr(nt,Un){return"serverAuth"===Un?null:Un},modularAPIs:z}};function Yn(nt){if(!(0,E.r3)(We,nt=nt||z._DEFAULT_ENTRY_NAME))throw hn.create("no-app",{appName:nt});return We[nt]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function Ot(){return Object.keys(We).map(nt=>We[nt])}}),Yn.App=At,tt}(Tt);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:ut,extendNamespace:function We(tt){(0,E.ZB)(At,tt)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),At}(),ae=new He.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zn=ee;!function Pt(At){(0,z.registerVersion)("@firebase/app-compat","0.2.25",At)}()},534:(Pi,Wn,Qe)=>{Qe.r(Wn),Qe.d(Wn,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>Zi,_DEFAULT_ENTRY_NAME:()=>ko,_addComponent:()=>Ki,_addOrOverwriteComponent:()=>fr,_apps:()=>Nr,_clearComponents:()=>jn,_components:()=>Di,_getProvider:()=>Qt,_registerComponent:()=>$s,_removeServiceInstance:()=>Fo,deleteApp:()=>dr,getApp:()=>Qi,getApps:()=>Sa,initializeApp:()=>Oa,onLog:()=>Ra,registerVersion:()=>Yi,setLogLevel:()=>Tu});var E=Qe(861),$e=Qe(537),z=Qe(879),He=Qe(58);const Tt=(F,A)=>A.some(oe=>F instanceof oe);let rn,hn;const ee=new WeakMap,ae=new WeakMap,Ae=new WeakMap,at=new WeakMap,Pt=new WeakMap;let We={get(F,A,oe){if(F instanceof IDBTransaction){if("done"===A)return ae.get(F);if("objectStoreNames"===A)return F.objectStoreNames||Ae.get(F);if("store"===A)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return Kt(F[A])},set:(F,A,oe)=>(F[A]=oe,!0),has:(F,A)=>F instanceof IDBTransaction&&("done"===A||"store"===A)||A in F};function Yn(F){return"function"==typeof F?function Qn(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ut(){return hn||(hn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...A){return F.apply(Ot(this),A),Kt(ee.get(this))}:function(...A){return Kt(F.apply(Ot(this),A))}:function(A,...oe){const Ie=F.call(Ot(this),A,...oe);return Ae.set(Ie,A.sort?A.sort():[A]),Kt(Ie)}}(F):(F instanceof IDBTransaction&&function At(F){if(ae.has(F))return;const A=new Promise((oe,Ie)=>{const Ke=()=>{F.removeEventListener("complete",ft),F.removeEventListener("error",N),F.removeEventListener("abort",N)},ft=()=>{oe(),Ke()},N=()=>{Ie(F.error||new DOMException("AbortError","AbortError")),Ke()};F.addEventListener("complete",ft),F.addEventListener("error",N),F.addEventListener("abort",N)});ae.set(F,A)}(F),Tt(F,function Kn(){return rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,We):F)}function Kt(F){if(F instanceof IDBRequest)return function Zn(F){const A=new Promise((oe,Ie)=>{const Ke=()=>{F.removeEventListener("success",ft),F.removeEventListener("error",N)},ft=()=>{oe(Kt(F.result)),Ke()},N=()=>{Ie(F.error),Ke()};F.addEventListener("success",ft),F.addEventListener("error",N)});return A.then(oe=>{oe instanceof IDBCursor&&ee.set(oe,F)}).catch(()=>{}),Pt.set(A,F),A}(F);if(at.has(F))return at.get(F);const A=Yn(F);return A!==F&&(at.set(F,A),Pt.set(A,F)),A}const Ot=F=>Pt.get(F),nt=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],J=new Map;function on(F,A){if(!(F instanceof IDBDatabase)||A in F||"string"!=typeof A)return;if(J.get(A))return J.get(A);const oe=A.replace(/FromIndex$/,""),Ie=A!==oe,Ke=Un.includes(oe);if(!(oe in(Ie?IDBIndex:IDBObjectStore).prototype)||!Ke&&!nt.includes(oe))return;const ft=function(){var N=(0,E.Z)(function*(pn,...Te){const ct=this.transaction(pn,Ke?"readwrite":"readonly");let Na=ct.store;return Ie&&(Na=Na.index(Te.shift())),(yield Promise.all([Na[oe](...Te),Ke&&ct.done]))[0]});return function(Te){return N.apply(this,arguments)}}();return J.set(A,ft),ft}!function tt(F){We=F(We)}(F=>({...F,get:(A,oe,Ie)=>on(A,oe)||F.get(A,oe,Ie),has:(A,oe)=>!!on(A,oe)||F.has(A,oe)}));class Zt{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Rn(F){const A=F.getComponent();return"VERSION"===A?.type}(oe)){const Ie=oe.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(oe=>oe).join(" ")}}const Xo="@firebase/app",ht=new z.Yd("@firebase/app"),ko="[DEFAULT]",qc={[Xo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nr=new Map,Di=new Map;function Ki(F,A){try{F.container.addComponent(A)}catch(oe){ht.debug(`Component ${A.name} failed to register with FirebaseApp ${F.name}`,oe)}}function fr(F,A){F.container.addOrOverwriteComponent(A)}function $s(F){const A=F.name;if(Di.has(A))return ht.debug(`There were multiple attempts to register component ${A}.`),!1;Di.set(A,F);for(const oe of Nr.values())Ki(oe,F);return!0}function Qt(F,A){const oe=F.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),F.container.getProvider(A)}function Fo(F,A,oe=ko){Qt(F,A).clearInstance(oe)}function jn(){Di.clear()}const wo=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Io{constructor(A,oe,Ie){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new $e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}const Zi="10.7.1";function Oa(F,A={}){let oe=F;"object"!=typeof A&&(A={name:A});const Ie=Object.assign({name:ko,automaticDataCollectionEnabled:!1},A),Ke=Ie.name;if("string"!=typeof Ke||!Ke)throw wo.create("bad-app-name",{appName:String(Ke)});if(oe||(oe=(0,He.aH)()),!oe)throw wo.create("no-options");const ft=Nr.get(Ke);if(ft){if((0,He.vZ)(oe,ft.options)&&(0,He.vZ)(Ie,ft.config))return ft;throw wo.create("duplicate-app",{appName:Ke})}const N=new $e.H0(Ke);for(const Te of Di.values())N.addComponent(Te);const pn=new Io(oe,Ie,N);return Nr.set(Ke,pn),pn}function Qi(F=ko){const A=Nr.get(F);if(!A&&F===ko&&(0,He.aH)())return Oa();if(!A)throw wo.create("no-app",{appName:F});return A}function Sa(){return Array.from(Nr.values())}function dr(F){return kr.apply(this,arguments)}function kr(){return(kr=(0,E.Z)(function*(F){const A=F.name;Nr.has(A)&&(Nr.delete(A),yield Promise.all(F.container.getProviders().map(oe=>oe.delete())),F.isDeleted=!0)})).apply(this,arguments)}function Yi(F,A,oe){var Ie;let Ke=null!==(Ie=qc[F])&&void 0!==Ie?Ie:F;oe&&(Ke+=`-${oe}`);const ft=Ke.match(/\s|\//),N=A.match(/\s|\//);if(ft||N){const pn=[`Unable to register library "${Ke}" with version "${A}":`];return ft&&pn.push(`library name "${Ke}" contains illegal characters (whitespace or "/")`),ft&&N&&pn.push("and"),N&&pn.push(`version name "${A}" contains illegal characters (whitespace or "/")`),void ht.warn(pn.join(" "))}$s(new $e.wA(`${Ke}-version`,()=>({library:Ke,version:A}),"VERSION"))}function Ra(F,A){if(null!==F&&"function"!=typeof F)throw wo.create("invalid-log-argument");(0,z.Am)(F,A)}function Tu(F){(0,z.Ub)(F)}const Gc="firebase-heartbeat-database",xa=1,P="firebase-heartbeat-store";let T=null;function M(){return T||(T=function jt(F,A,{blocked:oe,upgrade:Ie,blocking:Ke,terminated:ft}={}){const N=indexedDB.open(F,A),pn=Kt(N);return Ie&&N.addEventListener("upgradeneeded",Te=>{Ie(Kt(N.result),Te.oldVersion,Te.newVersion,Kt(N.transaction),Te)}),oe&&N.addEventListener("blocked",Te=>oe(Te.oldVersion,Te.newVersion,Te)),pn.then(Te=>{ft&&Te.addEventListener("close",()=>ft()),Ke&&Te.addEventListener("versionchange",ct=>Ke(ct.oldVersion,ct.newVersion,ct))}).catch(()=>{}),pn}(Gc,xa,{upgrade:(F,A)=>{0===A&&F.createObjectStore(P)}}).catch(F=>{throw wo.create("idb-open",{originalErrorMessage:F.message})})),T}function x(){return(x=(0,E.Z)(function*(F){try{return yield(yield M()).transaction(P).objectStore(P).get(rt(F))}catch(A){if(A instanceof He.ZR)ht.warn(A.message);else{const oe=wo.create("idb-get",{originalErrorMessage:A?.message});ht.warn(oe.message)}}})).apply(this,arguments)}function G(F,A){return ze.apply(this,arguments)}function ze(){return(ze=(0,E.Z)(function*(F,A){try{const Ie=(yield M()).transaction(P,"readwrite");yield Ie.objectStore(P).put(A,rt(F)),yield Ie.done}catch(oe){if(oe instanceof He.ZR)ht.warn(oe.message);else{const Ie=wo.create("idb-set",{originalErrorMessage:oe?.message});ht.warn(Ie.message)}}})).apply(this,arguments)}function rt(F){return`${F.name}!${F.options.appId}`}class $n{constructor(A){this.container=A,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Ft(oe),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var A=this;return(0,E.Z)(function*(){var oe,Ie;const ft=A.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),N=we();if((null!=(null===(oe=A._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||(A._heartbeatsCache=yield A._heartbeatsCachePromise,null!=(null===(Ie=A._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)))&&A._heartbeatsCache.lastSentHeartbeatDate!==N&&!A._heartbeatsCache.heartbeats.some(pn=>pn.date===N))return A._heartbeatsCache.heartbeats.push({date:N,agent:ft}),A._heartbeatsCache.heartbeats=A._heartbeatsCache.heartbeats.filter(pn=>{const Te=new Date(pn.date).valueOf();return Date.now()-Te<=2592e6}),A._storage.overwrite(A._heartbeatsCache)})()}getHeartbeatsHeader(){var A=this;return(0,E.Z)(function*(){var oe;if(null===A._heartbeatsCache&&(yield A._heartbeatsCachePromise),null==(null===(oe=A._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===A._heartbeatsCache.heartbeats.length)return"";const Ie=we(),{heartbeatsToSend:Ke,unsentEntries:ft}=function Xn(F,A=1024){const oe=[];let Ie=F.slice();for(const Ke of F){const ft=oe.find(N=>N.agent===Ke.agent);if(ft){if(ft.dates.push(Ke.date),ti(oe)>A){ft.dates.pop();break}}else if(oe.push({agent:Ke.agent,dates:[Ke.date]}),ti(oe)>A){oe.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Ie}}(A._heartbeatsCache.heartbeats),N=(0,He.L)(JSON.stringify({version:2,heartbeats:Ke}));return A._heartbeatsCache.lastSentHeartbeatDate=Ie,ft.length>0?(A._heartbeatsCache.heartbeats=ft,yield A._storage.overwrite(A._heartbeatsCache)):(A._heartbeatsCache.heartbeats=[],A._storage.overwrite(A._heartbeatsCache)),N})()}}function we(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var A=this;return(0,E.Z)(function*(){if(yield A._canUseIndexedDBPromise){const Ie=yield function Y(F){return x.apply(this,arguments)}(A.app);return Ie?.heartbeats?Ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(A){var oe=this;return(0,E.Z)(function*(){var Ie;if(yield oe._canUseIndexedDBPromise){const ft=yield oe.read();return G(oe.app,{lastSentHeartbeatDate:null!==(Ie=A.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ft.lastSentHeartbeatDate,heartbeats:A.heartbeats})}})()}add(A){var oe=this;return(0,E.Z)(function*(){var Ie;if(yield oe._canUseIndexedDBPromise){const ft=yield oe.read();return G(oe.app,{lastSentHeartbeatDate:null!==(Ie=A.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...A.heartbeats]})}})()}}function ti(F){return(0,He.L)(JSON.stringify({version:2,heartbeats:F})).length}!function Pu(F){$s(new $e.wA("platform-logger",A=>new Zt(A),"PRIVATE")),$s(new $e.wA("heartbeat",A=>new $n(A),"PRIVATE")),Yi(Xo,"0.9.25",F),Yi(Xo,"0.9.25","esm2017"),Yi("fire-js","")}("")},537:(Pi,Wn,Qe)=>{Qe.d(Wn,{H0:()=>Kn,wA:()=>z});var E=Qe(861),$e=Qe(58);class z{constructor(ee,ae,Ae){this.name=ee,this.instanceFactory=ae,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const He="[DEFAULT]";class Tt{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const Ae=new $e.BH;if(this.instancesDeferred.set(ae,Ae),this.isInitialized(ae)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ae});at&&Ae.resolve(at)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const Ae=this.normalizeInstanceIdentifier(ee?.identifier),at=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Pt){if(at)return null;throw Pt}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function hn(ut){return"EAGER"===ut.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[ae,Ae]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ae);try{const Pt=this.getOrInitializeService({instanceIdentifier:at});Ae.resolve(Pt)}catch{}}}}clearInstance(ee=He){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,E.Z)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ae.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=He){return this.instances.has(ee)}getOptions(ee=He){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,Ae=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Ae,options:ae});for(const[Pt,Zn]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Pt)&&Zn.resolve(at);return at}onInit(ee,ae){var Ae;const at=this.normalizeInstanceIdentifier(ae),Pt=null!==(Ae=this.onInitCallbacks.get(at))&&void 0!==Ae?Ae:new Set;Pt.add(ee),this.onInitCallbacks.set(at,Pt);const Zn=this.instances.get(at);return Zn&&ee(Zn,at),()=>{Pt.delete(ee)}}invokeOnInitCallbacks(ee,ae){const Ae=this.onInitCallbacks.get(ae);if(Ae)for(const at of Ae)try{at(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let Ae=this.instances.get(ee);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(ut=ee,ut===He?void 0:ut),options:ae}),this.instances.set(ee,Ae),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(Ae,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ae)}catch{}var ut;return Ae||null}normalizeInstanceIdentifier(ee=He){return this.component?this.component.multipleInstances?ee:He:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kn{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new Tt(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(Pi,Wn,Qe)=>{Qe.d(Wn,{Am:()=>ut,Ub:()=>Kn,Yd:()=>hn,in:()=>$e});const E=[];var $e=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}($e||{});const z={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},He=$e.INFO,Tt={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},rn=(ee,ae,...Ae)=>{if(ae<ee.logLevel)return;const at=(new Date).toISOString(),Pt=Tt[ae];if(!Pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Pt](`[${at}]  ${ee.name}:`,...Ae)};class hn{constructor(ae){this.name=ae,this._logLevel=He,this._logHandler=rn,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in $e))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?z[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...ae),this._logHandler(this,$e.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...ae),this._logHandler(this,$e.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...ae),this._logHandler(this,$e.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...ae),this._logHandler(this,$e.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...ae),this._logHandler(this,$e.ERROR,...ae)}}function Kn(ee){E.forEach(ae=>{ae.setLogLevel(ee)})}function ut(ee,ae){for(const Ae of E){let at=null;ae&&ae.level&&(at=z[ae.level]),Ae.userLogHandler=null===ee?null:(Pt,Zn,...At)=>{const We=At.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");Zn>=(at??Pt.logLevel)&&ee({level:$e[Zn].toLowerCase(),message:We,args:At,type:Pt.name})}}}},230:(Pi,Wn,Qe)=>{Qe.r(Wn);var E=Qe(861),$e=Qe(106),z=Qe(58),He=Qe(534),Tt=Qe(879),rn=Qe(582),hn=Qe(537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Zn=function at(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},At=function Pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new Tt.Yd("@firebase/auth");function Kt(h,...l){Qn.logLevel<=Tt.in.ERROR&&Qn.error(`Auth (${He.SDK_VERSION}): ${h}`,...l)}function Ot(h,...l){throw Un(h,...l)}function jt(h,...l){return Un(h,...l)}function Rr(h,l,f){const p=Object.assign(Object.assign({},At()),{[l]:f});return new z.LL("auth","Firebase",p).create(l,{appName:h.name})}function nt(h,l,f){if(!(l instanceof f))throw f.name!==l.constructor.name&&Ot(h,"argument-error"),Rr(h,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Un(h,...l){if("string"!=typeof h){const f=l[0],p=[...l.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(f,...p)}return We.create(h,...l)}function J(h,l,...f){if(!h)throw Un(l,...f)}function on(h){const l="INTERNAL ASSERTION FAILED: "+h;throw Kt(l),new Error(l)}function Zt(h,l){h||on(l)}function Rn(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Xo(){return"http:"===Jo()||"https:"===Jo()}function Jo(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class ei{constructor(l,f){this.shortDelay=l,this.longDelay=f,Zt(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xo()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(h,l){Zt(h.emulator,"Emulator should always be set here");const{url:f}=h.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}class j{static initialize(l,f,p){this.fetchImpl=l,f&&(this.headersImpl=f),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void on("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void on("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void on("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},K=new ei(3e4,6e4);function te(h,l){return h.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:h.tenantId}):l}function H(h,l,f,p){return me.apply(this,arguments)}function me(){return(me=(0,E.Z)(function*(h,l,f,p,_={}){return mt(h,_,(0,E.Z)(function*(){let b={},I={};p&&("GET"===l?I=p:b={body:JSON.stringify(p)});const R=(0,z.xO)(Object.assign({key:h.config.apiKey},I)).slice(1),Z=yield h._getAdditionalHeaders();return Z["Content-Type"]="application/json",h.languageCode&&(Z["X-Firebase-Locale"]=h.languageCode),j.fetch()(sn(h,h.config.apiHost,f,R),Object.assign({method:l,headers:Z,referrerPolicy:"no-referrer"},b))}))})).apply(this,arguments)}function mt(h,l,f){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.Z)(function*(h,l,f){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},B),l);try{const _=new ur(h),b=yield Promise.race([f(),_.promise]);_.clearNetworkTimeout();const I=yield b.json();if("needConfirmation"in I)throw Bn(h,"account-exists-with-different-credential",I);if(b.ok&&!("errorMessage"in I))return I;{const R=b.ok?I.errorMessage:I.error.message,[Z,he]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Z)throw Bn(h,"credential-already-in-use",I);if("EMAIL_EXISTS"===Z)throw Bn(h,"email-already-in-use",I);if("USER_DISABLED"===Z)throw Bn(h,"user-disabled",I);const Ce=p[Z]||Z.toLowerCase().replace(/[_\s]+/g,"-");if(he)throw Rr(h,Ce,he);Ot(h,Ce)}}catch(_){if(_ instanceof z.ZR)throw _;Ot(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Se(h,l,f,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.Z)(function*(h,l,f,p,_={}){const b=yield H(h,l,f,p,_);return"mfaPendingCredential"in b&&Ot(h,"multi-factor-auth-required",{_serverResponse:b}),b})).apply(this,arguments)}function sn(h,l,f,p){const _=`${l}${f}?${p}`;return h.config.emulator?V(h.config,_):`${h.config.apiScheme}://${_}`}function zt(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,p)=>{this.timer=setTimeout(()=>p(jt(this.auth,"network-request-failed")),K.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(h,l,f){const p={appName:h.name};f.email&&(p.email=f.email),f.phoneNumber&&(p.phoneNumber=f.phoneNumber);const _=jt(h,l,p);return _.customData._tokenResponse=f,_}function Cr(h){return void 0!==h&&void 0!==h.getResponse}function xr(h){return void 0!==h&&void 0!==h.enterprise}class Jr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===l)return zt(f.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Mi(){return(Mi=(0,E.Z)(function*(h){return(yield H(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(h,l){return Da.apply(this,arguments)}function Da(){return(Da=(0,E.Z)(function*(h,l){return H(h,"GET","/v2/recaptchaConfig",te(h,l))})).apply(this,arguments)}function ko(){return(ko=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Nr(){return(Nr=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ki(){return(Ki=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function fr(h){if(h)try{const l=new Date(Number(h));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Fo(){return(Fo=(0,E.Z)(function*(h,l=!1){const f=(0,z.m9)(h),p=yield f.getIdToken(l),_=Aa(p);J(_&&_.exp&&_.auth_time&&_.iat,f.auth,"internal-error");const b="object"==typeof _.firebase?_.firebase:void 0,I=b?.sign_in_provider;return{claims:_,token:p,authTime:fr(jn(_.auth_time)),issuedAtTime:fr(jn(_.iat)),expirationTime:fr(jn(_.exp)),signInProvider:I||null,signInSecondFactor:b?.sign_in_second_factor||null}})).apply(this,arguments)}function jn(h){return 1e3*Number(h)}function Aa(h){const[l,f,p]=h.split(".");if(void 0===l||void 0===f||void 0===p)return Kt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.tV)(f);return _?JSON.parse(_):(Kt("Failed to decode base64 JWT payload"),null)}catch(_){return Kt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Io(h,l){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,E.Z)(function*(h,l,f=!1){if(f)return l;try{return yield l}catch(p){throw p instanceof z.ZR&&function Oa({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class Qi{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const p=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield f.iteration()}),p)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&l.schedule(!0))}l.schedule()})()}}class Sa{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(h){return kr.apply(this,arguments)}function kr(){return kr=(0,E.Z)(function*(h){var l;const f=h.auth,p=yield h.getIdToken(),_=yield Io(h,function Di(h,l){return Ki.apply(this,arguments)}(f,{idToken:p}));J(_?.users.length,f,"internal-error");const b=_.users[0];h._notifyReloadListener(b);const I=null!==(l=b.providerUserInfo)&&void 0!==l&&l.length?function Gc(h){return h.map(l=>{var{providerId:f}=l,p=(0,rn._T)(l,["providerId"]);return{providerId:f,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(b.providerUserInfo):[],R=function Tu(h,l){return[...h.filter(p=>!l.some(_=>_.providerId===p.providerId)),...l]}(h.providerData,I),Ce=!!h.isAnonymous&&!(h.email&&b.passwordHash||R?.length),Pe={uid:b.localId,displayName:b.displayName||null,photoURL:b.photoUrl||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,tenantId:b.tenantId||null,providerData:R,metadata:new Sa(b.createdAt,b.lastLoginAt),isAnonymous:Ce};Object.assign(h,Pe)}),kr.apply(this,arguments)}function Ra(){return(Ra=(0,E.Z)(function*(h){const l=(0,z.m9)(h);yield dr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function P(){return(P=(0,E.Z)(function*(h,l){const f=yield mt(h,{},(0,E.Z)(function*(){const p=(0,z.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:b}=h.config,I=sn(h,_,"/v1/token",`key=${b}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(I,{method:"POST",headers:R,body:p})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,E.Z)(function*(h,l){return H(h,"POST","/v2/accounts:revokeToken",te(h,l))})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function wo(h){const l=Aa(h);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var p=this;return(0,E.Z)(function*(){return J(!p.accessToken||p.refreshToken,l,"user-token-expired"),f||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(l,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var p=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:b,expiresIn:I}=yield function xa(h,l){return P.apply(this,arguments)}(l,f);p.updateTokensAndExpiration(_,b,Number(I))})()}updateTokensAndExpiration(l,f,p){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(l,f){const{refreshToken:p,accessToken:_,expirationTime:b}=f,I=new Y;return p&&(J("string"==typeof p,"internal-error",{appName:l}),I.refreshToken=p),_&&(J("string"==typeof _,"internal-error",{appName:l}),I.accessToken=_),b&&(J("number"==typeof b,"internal-error",{appName:l}),I.expirationTime=b),I}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return on("not implemented")}}function x(h,l){J("string"==typeof h||typeof h>"u","internal-error",{appName:l})}class G{constructor(l){var{uid:f,auth:p,stsTokenManager:_}=l,b=(0,rn._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=b.displayName||null,this.email=b.email||null,this.emailVerified=b.emailVerified||!1,this.phoneNumber=b.phoneNumber||null,this.photoURL=b.photoURL||null,this.isAnonymous=b.isAnonymous||!1,this.tenantId=b.tenantId||null,this.providerData=b.providerData?[...b.providerData]:[],this.metadata=new Sa(b.createdAt||void 0,b.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,E.Z)(function*(){const p=yield Io(f,f.stsTokenManager.getToken(f.auth,l));return J(p,f.auth,"internal-error"),f.accessToken!==p&&(f.accessToken=p,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),p})()}getIdTokenResult(l){return function Qt(h){return Fo.apply(this,arguments)}(this,l)}reload(){return function Yi(h){return Ra.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const f=new G(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var p=this;return(0,E.Z)(function*(){let _=!1;l.idToken&&l.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(l),_=!0),f&&(yield dr(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var l=this;return(0,E.Z)(function*(){const f=yield l.getIdToken();return yield Io(l,function zc(h,l){return ko.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var p,_,b,I,R,Z,he,Ce;const Pe=null!==(p=f.displayName)&&void 0!==p?p:void 0,mn=null!==(_=f.email)&&void 0!==_?_:void 0,Uo=null!==(b=f.phoneNumber)&&void 0!==b?b:void 0,_f=null!==(I=f.photoURL)&&void 0!==I?I:void 0,fy=null!==(R=f.tenantId)&&void 0!==R?R:void 0,tc=null!==(Z=f._redirectEventId)&&void 0!==Z?Z:void 0,cp=null!==(he=f.createdAt)&&void 0!==he?he:void 0,dy=null!==(Ce=f.lastLoginAt)&&void 0!==Ce?Ce:void 0,{uid:yf,emailVerified:_w,isAnonymous:lp,providerData:hy,stsTokenManager:py}=f;J(yf&&py,l,"internal-error");const yw=Y.fromJSON(this.name,py);J("string"==typeof yf,l,"internal-error"),x(Pe,l.name),x(mn,l.name),J("boolean"==typeof _w,l,"internal-error"),J("boolean"==typeof lp,l,"internal-error"),x(Uo,l.name),x(_f,l.name),x(fy,l.name),x(tc,l.name),x(cp,l.name),x(dy,l.name);const Al=new G({uid:yf,auth:l,email:mn,emailVerified:_w,displayName:Pe,isAnonymous:lp,photoURL:_f,phoneNumber:Uo,tenantId:fy,stsTokenManager:yw,createdAt:cp,lastLoginAt:dy});return hy&&Array.isArray(hy)&&(Al.providerData=hy.map(PO=>Object.assign({},PO))),tc&&(Al._redirectEventId=tc),Al}static _fromIdTokenResponse(l,f,p=!1){return(0,E.Z)(function*(){const _=new Y;_.updateFromServerResponse(f);const b=new G({uid:f.localId,auth:l,stsTokenManager:_,isAnonymous:p});return yield dr(b),b})()}}const ze=new Map;function rt(h){Zt(h instanceof Function,"Expected a class definition");let l=ze.get(h);return l?(Zt(l instanceof h,"Instance stored in cache mismatched with class"),l):(l=new h,ze.set(h,l),l)}const an=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(f,p){var _=this;return(0,E.Z)(function*(){_.storage[f]=p})()}_get(f){var p=this;return(0,E.Z)(function*(){const _=p.storage[f];return void 0===_?null:_})()}_remove(f){var p=this;return(0,E.Z)(function*(){delete p.storage[f]})()}_addListener(f,p){}_removeListener(f,p){}}return h.type="NONE",h})();function $n(h,l,f){return`firebase:${h}:${l}:${f}`}class we{constructor(l,f,p){this.persistence=l,this.auth=f,this.userKey=p;const{config:_,name:b}=this.auth;this.fullUserKey=$n(this.userKey,_.apiKey,b),this.fullPersistenceKey=$n("persistence",_.apiKey,b),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?G._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,E.Z)(function*(){if(f.persistence===l)return;const p=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,p?f.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,p="authUser"){return(0,E.Z)(function*(){if(!f.length)return new we(rt(an),l,p);const _=(yield Promise.all(f.map(function(){var he=(0,E.Z)(function*(Ce){if(yield Ce._isAvailable())return Ce});return function(Ce){return he.apply(this,arguments)}}()))).filter(he=>he);let b=_[0]||rt(an);const I=$n(p,l.config.apiKey,l.name);let R=null;for(const he of f)try{const Ce=yield he._get(I);if(Ce){const Pe=G._fromJSON(l,Ce);he!==b&&(R=Pe),b=he;break}}catch{}const Z=_.filter(he=>he._shouldAllowMigration);return b._shouldAllowMigration&&Z.length?(b=Z[0],R&&(yield b._set(I,R.toJSON())),yield Promise.all(f.map(function(){var he=(0,E.Z)(function*(Ce){if(Ce!==b)try{yield Ce._remove(I)}catch{}});return function(Ce){return he.apply(this,arguments)}}())),new we(b,l,p)):new we(b,l,p)})()}}function Xn(h){const l=h.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(F(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Ft(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(oe(l))return"Blackberry";if(Ie(l))return"Webos";if(ti(l))return"Safari";if((l.includes("chrome/")||Pu(l))&&!l.includes("edge/"))return"Chrome";if(A(l))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Ft(h=(0,z.z$)()){return/firefox\//i.test(h)}function ti(h=(0,z.z$)()){const l=h.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Pu(h=(0,z.z$)()){return/crios\//i.test(h)}function F(h=(0,z.z$)()){return/iemobile/i.test(h)}function A(h=(0,z.z$)()){return/android/i.test(h)}function oe(h=(0,z.z$)()){return/blackberry/i.test(h)}function Ie(h=(0,z.z$)()){return/webos/i.test(h)}function Ke(h=(0,z.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function Te(h=(0,z.z$)()){return Ke(h)||A(h)||Ie(h)||oe(h)||/windows phone/i.test(h)||F(h)}function Na(h,l=[]){let f;switch(h){case"Browser":f=Xn((0,z.z$)());break;case"Worker":f=`${Xn((0,z.z$)())}-${h}`;break;default:f=h}const p=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${He.SDK_VERSION}/${p}`}class HA{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const p=b=>new Promise((I,R)=>{try{I(l(b))}catch(Z){R(Z)}});p.onAbort=f,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,E.Z)(function*(){if(f.auth.currentUser===l)return;const p=[];try{for(const _ of f.queue)yield _(l),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const b of p)try{b()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Wc(){return(Wc=(0,E.Z)(function*(h,l={}){return H(h,"GET","/v2/passwordPolicy",te(h,l))})).apply(this,arguments)}class zA{constructor(l){var f,p,_,b;const I=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=I.minPasswordLength)&&void 0!==f?f:6,I.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=I.maxPasswordLength),void 0!==I.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=I.containsLowercaseCharacter),void 0!==I.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=I.containsUppercaseCharacter),void 0!==I.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=I.containsNumericCharacter),void 0!==I.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=I.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=l.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(b=l.forceUpgradeOnSignin)&&void 0!==b&&b,this.schemaVersion=l.schemaVersion}validatePassword(l){var f,p,_,b,I,R;const Z={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,Z),this.validatePasswordCharacterOptions(l,Z),Z.isValid&&(Z.isValid=null===(f=Z.meetsMinPasswordLength)||void 0===f||f),Z.isValid&&(Z.isValid=null===(p=Z.meetsMaxPasswordLength)||void 0===p||p),Z.isValid&&(Z.isValid=null===(_=Z.containsLowercaseLetter)||void 0===_||_),Z.isValid&&(Z.isValid=null===(b=Z.containsUppercaseLetter)||void 0===b||b),Z.isValid&&(Z.isValid=null===(I=Z.containsNumericCharacter)||void 0===I||I),Z.isValid&&(Z.isValid=null===(R=Z.containsNonAlphanumericCharacter)||void 0===R||R),Z}validatePasswordLengthOptions(l,f){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(f.meetsMinPasswordLength=l.length>=p),_&&(f.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,f){let p;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let _=0;_<l.length;_++)p=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(f,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(l,f,p,_,b){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=b))}}class _E{constructor(l,f,p,_){this.app=l,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new HA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,f){var p=this;return f&&(this._popupRedirectResolver=rt(f)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,b;if(!p._deleted&&(p.persistenceManager=yield we.create(p,l),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(f),p.lastNotifiedUid=(null===(b=p.currentUser)||void 0===b?void 0:b.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,E.Z)(function*(){var p;const _=yield f.assertedPersistence.getCurrentUser();let b=_,I=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const R=null===(p=f.redirectUser)||void 0===p?void 0:p._redirectEventId,Z=b?._redirectEventId,he=yield f.tryRedirectSignIn(l);(!R||R===Z)&&he?.user&&(b=he.user,I=!0)}if(!b)return f.directlySetCurrentUser(null);if(!b._redirectEventId){if(I)try{yield f.beforeStateQueue.runMiddleware(b)}catch(R){b=_,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(R))}return b?f.reloadAndSetCurrentUserOrClear(b):f.directlySetCurrentUser(null)}return J(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===b._redirectEventId?f.directlySetCurrentUser(b):f.reloadAndSetCurrentUserOrClear(b)})()}tryRedirectSignIn(l){var f=this;return(0,E.Z)(function*(){let p=null;try{p=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,E.Z)(function*(){try{yield dr(l)}catch(p){if("auth/network-request-failed"!==p?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function js(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,E.Z)(function*(){const p=l?(0,z.m9)(l):null;return p&&J(p.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(p&&p._clone(f))})()}_updateCurrentUser(l,f=!1){var p=this;return(0,E.Z)(function*(){if(!p._deleted)return l&&J(p.tenantId===l.tenantId,p,"tenant-id-mismatch"),f||(yield p.beforeStateQueue.runMiddleware(l)),p.queue((0,E.Z)(function*(){yield p.directlySetCurrentUser(l),p.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,E.Z)(function*(){yield f.assertedPersistence.setPersistence(rt(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var f=this;return(0,E.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const p=f._getPasswordPolicyInternal();return p.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,E.Z)(function*(){const f=yield function mE(h){return Wc.apply(this,arguments)}(l),p=new zA(f);null===l.tenantId?l._projectPasswordPolicy=p:l._tenantPasswordPolicies[l.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new z.LL("auth","Firebase",l())}onAuthStateChanged(l,f,p){return this.registerStateListener(this.authStateSubscription,l,f,p)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,p){return this.registerStateListener(this.idTokenSubscription,l,f,p)}authStateReady(){return new Promise((l,f)=>{if(this.currentUser)l();else{const p=this.onAuthStateChanged(()=>{p(),l()},f)}})}revokeAccessToken(l){var f=this;return(0,E.Z)(function*(){if(f.currentUser){const p=yield f.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:p};null!=f.tenantId&&(_.tenantId=f.tenantId),yield function T(h,l){return M.apply(this,arguments)}(f,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var p=this;return(0,E.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(f);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,E.Z)(function*(){if(!f.redirectPersistenceManager){const p=l&&rt(l)||f._popupRedirectResolver;J(p,f,"argument-error"),f.redirectPersistenceManager=yield we.create(f,[rt(p._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,E.Z)(function*(){var p,_;return f._isInitialized&&(yield f.queue((0,E.Z)(function*(){}))),(null===(p=f._currentUser)||void 0===p?void 0:p._redirectEventId)===l?f._currentUser:(null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,E.Z)(function*(){if(l===f.currentUser)return f.queue((0,E.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,p,_){if(this._deleted)return()=>{};const b="function"==typeof f?f:f.next.bind(f);let I=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(R,this,"internal-error"),R.then(()=>{I||b(this.currentUser)}),"function"==typeof f){const Z=l.addObserver(f,p,_);return()=>{I=!0,Z()}}{const Z=l.addObserver(f);return()=>{I=!0,Z()}}}directlySetCurrentUser(l){var f=this;return(0,E.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Na(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){var f;const p={"X-Client-Version":l.clientVersion};l.app.options.appId&&(p["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const b=yield l._getAppCheckToken();return b&&(p["X-Firebase-AppCheck"]=b),p})()}_getAppCheckToken(){var l=this;return(0,E.Z)(function*(){var f;const p=yield null===(f=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return p?.error&&function Yn(h,...l){Qn.logLevel<=Tt.in.WARN&&Qn.warn(`Auth (${He.SDK_VERSION}): ${h}`,...l)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Yt(h){return(0,z.m9)(h)}class Xi{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,z.ne)(f=>this.observer=f)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qm(h){return new Promise((l,f)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=l,p.onerror=_=>{const b=jt("internal-error");b.customData=_,f(b)},p.type="text/javascript",p.charset="UTF-8",function qA(){var h,l;return null!==(l=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==l?l:document}().appendChild(p)})}function yE(h){return`__${h}${Math.floor(1e6*Math.random())}`}class Ym{constructor(l){this.type="recaptcha-enterprise",this.auth=Yt(l)}verify(l="verify",f=!1){var p=this;return(0,E.Z)(function*(){function b(){return b=(0,E.Z)(function*(R){if(!f){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var Z=(0,E.Z)(function*(he,Ce){xn(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pe=>{if(void 0!==Pe.recaptchaKey){const mn=new Jr(Pe);return null==R.tenantId?R._agentRecaptchaConfig=mn:R._tenantRecaptchaConfigs[R.tenantId]=mn,he(mn.siteKey)}Ce(new Error("recaptcha Enterprise site key undefined"))}).catch(Pe=>{Ce(Pe)})});return function(he,Ce){return Z.apply(this,arguments)}}())}),b.apply(this,arguments)}function I(R,Z,he){const Ce=window.grecaptcha;xr(Ce)?Ce.enterprise.ready(()=>{Ce.enterprise.execute(R,{action:l}).then(Pe=>{Z(Pe)}).catch(()=>{Z("NO_RECAPTCHA")})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,Z)=>{(function _(R){return b.apply(this,arguments)})(p.auth).then(he=>{if(!f&&xr(window.grecaptcha))I(he,R,Z);else{if(typeof window>"u")return void Z(new Error("RecaptchaVerifier is only supported in browser"));Qm("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{I(he,R,Z)}).catch(Ce=>{Z(Ce)})}}).catch(he=>{Z(he)})})})()}}function vE(h,l,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,E.Z)(function*(h,l,f,p=!1){const _=new Ym(h);let b;try{b=yield _.verify(f)}catch{b=yield _.verify(f,!0)}const I=Object.assign({},l);return Object.assign(I,p?{captchaResp:b}:{captchaResponse:b}),Object.assign(I,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(I,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),I})).apply(this,arguments)}function ke(h,l,f,p){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,E.Z)(function*(h,l,f,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const b=yield vE(h,l,f,"getOobCode"===f);return p(h,b)}return p(h,l).catch(function(){var b=(0,E.Z)(function*(I){if("auth/missing-recaptcha-token"===I.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield vE(h,l,f,"getOobCode"===f);return p(h,R)}return Promise.reject(I)});return function(I){return b.apply(this,arguments)}}())}),Xm.apply(this,arguments)}function Kc(h){const l=h.indexOf(":");return l<0?"":h.substr(0,l+1)}function ih(h){if(!h)return null;const l=Number(h);return isNaN(l)?null:l}class Ai{constructor(l,f){this.providerId=l,this.signInMethod=f}toJSON(){return on("not implemented")}_getIdTokenResponse(l){return on("not implemented")}_linkToIdToken(l,f){return on("not implemented")}_getReauthenticationResolver(l){return on("not implemented")}}function Zc(h,l){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:resetPassword",te(h,l))})).apply(this,arguments)}function sh(){return(sh=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function dt(h,l){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function hr(){return(hr=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:update",te(h,l))})).apply(this,arguments)}function n_(h,l){return r_.apply(this,arguments)}function r_(){return(r_=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithPassword",te(h,l))})).apply(this,arguments)}function Rt(h,l){return o_.apply(this,arguments)}function o_(){return(o_=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:sendOobCode",te(h,l))})).apply(this,arguments)}function le(){return(le=(0,E.Z)(function*(h,l){return Rt(h,l)})).apply(this,arguments)}function ah(h,l){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,E.Z)(function*(h,l){return Rt(h,l)})).apply(this,arguments)}function i_(h,l){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,E.Z)(function*(h,l){return Rt(h,l)})).apply(this,arguments)}function el(){return(el=(0,E.Z)(function*(h,l){return Rt(h,l)})).apply(this,arguments)}function s_(){return(s_=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithEmailLink",te(h,l))})).apply(this,arguments)}function a_(){return(a_=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithEmailLink",te(h,l))})).apply(this,arguments)}class Mu extends Ai{constructor(l,f,p,_=null){super("password",p),this._email=l,this._password=f,this._tenantId=_}static _fromEmailAndPassword(l,f){return new Mu(l,f,"password")}static _fromEmailAndCode(l,f,p=null){return new Mu(l,f,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(l){var f=this;return(0,E.Z)(function*(){switch(f.signInMethod){case"password":return ke(l,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",n_);case"emailLink":return function YA(h,l){return s_.apply(this,arguments)}(l,{email:f._email,oobCode:f._password});default:Ot(l,"internal-error")}})()}_linkToIdToken(l,f){var p=this;return(0,E.Z)(function*(){switch(p.signInMethod){case"password":return ke(l,{idToken:f,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dt);case"emailLink":return function XA(h,l){return a_.apply(this,arguments)}(l,{idToken:f,email:p._email,oobCode:p._password});default:Ot(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function to(h,l){return tl.apply(this,arguments)}function tl(){return(tl=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithIdp",te(h,l))})).apply(this,arguments)}class ni extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const f=new ni(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(f.idToken=l.idToken),l.accessToken&&(f.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(f.nonce=l.nonce),l.pendingToken&&(f.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(f.accessToken=l.oauthToken,f.secret=l.oauthTokenSecret):Ot("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_}=f,b=(0,rn._T)(f,["providerId","signInMethod"]);if(!p||!_)return null;const I=new ni(p,_);return I.idToken=b.idToken||void 0,I.accessToken=b.accessToken||void 0,I.secret=b.secret,I.nonce=b.nonce,I.pendingToken=b.pendingToken||null,I}_getIdTokenResponse(l){return to(l,this.buildRequest())}_linkToIdToken(l,f){const p=this.buildRequest();return p.idToken=f,to(l,p)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,to(l,f)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),l.postBody=(0,z.xO)(f)}return l}}function ch(){return(ch=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:sendVerificationCode",te(h,l))})).apply(this,arguments)}function Ji(){return(Ji=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithPhoneNumber",te(h,l))})).apply(this,arguments)}function ri(){return(ri=(0,E.Z)(function*(h,l){const f=yield Se(h,"POST","/v1/accounts:signInWithPhoneNumber",te(h,l));if(f.temporaryProof)throw Bn(h,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const PE={USER_NOT_FOUND:"user-not-found"};function Au(){return(Au=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithPhoneNumber",te(h,Object.assign(Object.assign({},l),{operation:"REAUTH"})),PE)})).apply(this,arguments)}class fe extends Ai{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,f){return new fe({verificationId:l,verificationCode:f})}static _fromTokenResponse(l,f){return new fe({phoneNumber:l,temporaryProof:f})}_getIdTokenResponse(l){return function c_(h,l){return Ji.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,f){return function TE(h,l){return ri.apply(this,arguments)}(l,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function W(h,l){return Au.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:f,verificationId:p,verificationCode:_}=this.params;return l&&f?{temporaryProof:l,phoneNumber:f}:{sessionInfo:p,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:f,verificationCode:p,phoneNumber:_,temporaryProof:b}=l;return p||f||_||b?new fe({verificationId:f,verificationCode:p,phoneNumber:_,temporaryProof:b}):null}}class Oi{constructor(l){var f,p,_,b,I,R;const Z=(0,z.zd)((0,z.pd)(l)),he=null!==(f=Z.apiKey)&&void 0!==f?f:null,Ce=null!==(p=Z.oobCode)&&void 0!==p?p:null,Pe=function Ou(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Z.mode)&&void 0!==_?_:null);J(he&&Ce&&Pe,"argument-error"),this.apiKey=he,this.operation=Pe,this.code=Ce,this.continueUrl=null!==(b=Z.continueUrl)&&void 0!==b?b:null,this.languageCode=null!==(I=Z.languageCode)&&void 0!==I?I:null,this.tenantId=null!==(R=Z.tenantId)&&void 0!==R?R:null}static parseLink(l){const f=function lh(h){const l=(0,z.zd)((0,z.pd)(h)).link,f=l?(0,z.zd)((0,z.pd)(l)).deep_link_id:null,p=(0,z.zd)((0,z.pd)(h)).deep_link_id;return(p?(0,z.zd)((0,z.pd)(p)).link:null)||p||f||l||h}(l);try{return new Oi(f)}catch{return null}}}let uh=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(f,p){return Mu._fromEmailAndPassword(f,p)}static credentialWithLink(f,p){const _=Oi.parseLink(p);return J(_,"argument-error"),Mu._fromEmailAndCode(f,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Si{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Vr extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ri extends Vr{static credentialFromJSON(l){const f="string"==typeof l?JSON.parse(l):l;return J("providerId"in f&&"signInMethod"in f,"argument-error"),ni._fromParams(f)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),ni._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ri.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ri.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:f,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:b,nonce:I,providerId:R}=l;if(!p&&!_&&!f&&!b||!R)return null;try{return new Ri(R)._credential({idToken:f,accessToken:p,nonce:I,pendingToken:b})}catch{return null}}}let no=(()=>{class h extends Vr{constructor(){super("facebook.com")}static credential(f){return ni._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return h.credentialFromTaggedObject(f)}static credentialFromError(f){return h.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return h.credential(f.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),Vo=(()=>{class h extends Vr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,p){return ni._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:p})}static credentialFromResult(f){return h.credentialFromTaggedObject(f)}static credentialFromError(f){return h.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:_}=f;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),wt=(()=>{class h extends Vr{constructor(){super("github.com")}static credential(f){return ni._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return h.credentialFromTaggedObject(f)}static credentialFromError(f){return h.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return h.credential(f.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class es extends Ai{constructor(l,f){super(l,l),this.pendingToken=f}_getIdTokenResponse(l){return to(l,this.buildRequest())}_linkToIdToken(l,f){const p=this.buildRequest();return p.idToken=f,to(l,p)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,to(l,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_,pendingToken:b}=f;return p&&_&&b&&p===_?new es(p,b):null}static _create(l,f){return new es(l,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nl extends Si{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return nl.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return nl.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const f=es.fromJSON(l);return J(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:f,providerId:p}=l;if(!f||!p)return null;try{return es._create(p,f)}catch{return null}}}let oi=(()=>{class h extends Vr{constructor(){super("twitter.com")}static credential(f,p){return ni._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:p})}static credentialFromResult(f){return h.credentialFromTaggedObject(f)}static credentialFromError(f){return h.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=f;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function ka(h,l){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signUp",te(h,l))})).apply(this,arguments)}class ro{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,f,p,_=!1){return(0,E.Z)(function*(){const b=yield G._fromIdTokenResponse(l,p,_),I=xu(p);return new ro({user:b,providerId:I,_tokenResponse:p,operationType:f})})()}static _forOperation(l,f,p){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(p,!0);const _=xu(p);return new ro({user:l,providerId:_,_tokenResponse:p,operationType:f})})()}}function xu(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Nu(){return(Nu=(0,E.Z)(function*(h){var l;const f=Yt(h);if(yield f._initializationPromise,null!==(l=f.currentUser)&&void 0!==l&&l.isAnonymous)return new ro({user:f.currentUser,providerId:null,operationType:"signIn"});const p=yield ka(f,{returnSecureToken:!0}),_=yield ro._fromIdTokenResponse(f,"signIn",p,!0);return yield f._updateCurrentUser(_.user),_})).apply(this,arguments)}class ts extends z.ZR{constructor(l,f,p,_){var b;super(f.code,f.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:l.name,tenantId:null!==(b=l.tenantId)&&void 0!==b?b:void 0,_serverResponse:f.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(l,f,p,_){return new ts(l,f,p,_)}}function dh(h,l,f,p){return("reauthenticate"===l?f._getReauthenticationResolver(h):f._getIdTokenResponse(h)).catch(b=>{throw"auth/multi-factor-auth-required"===b.code?ts._fromErrorAndOperation(h,b,l,p):b})}function hh(h){return new Set(h.map(({providerId:l})=>l).filter(l=>!!l))}function ku(){return ku=(0,E.Z)(function*(h,l){const f=(0,z.m9)(h);yield Lr(!0,f,l);const{providerUserInfo:p}=yield function qc(h,l){return Nr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[l]}),_=hh(p||[]);return f.providerData=f.providerData.filter(b=>_.has(b.providerId)),_.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),ku.apply(this,arguments)}function ph(h,l){return gh.apply(this,arguments)}function gh(){return(gh=(0,E.Z)(function*(h,l,f=!1){const p=yield Io(h,l._linkToIdToken(h.auth,yield h.getIdToken()),f);return ro._forOperation(h,"link",p)})).apply(this,arguments)}function Lr(h,l,f){return mh.apply(this,arguments)}function mh(){return(mh=(0,E.Z)(function*(h,l,f){yield dr(l);const _=!1===h?"provider-already-linked":"no-such-provider";J(hh(l.providerData).has(f)===h,l.auth,_)})).apply(this,arguments)}function _h(h,l){return yh.apply(this,arguments)}function yh(){return(yh=(0,E.Z)(function*(h,l,f=!1){const{auth:p}=h,_="reauthenticate";try{const b=yield Io(h,dh(p,_,l,h),f);J(b.idToken,p,"internal-error");const I=Aa(b.idToken);J(I,p,"internal-error");const{sub:R}=I;return J(h.uid===R,p,"user-mismatch"),ro._forOperation(h,_,b)}catch(b){throw"auth/user-not-found"===b?.code&&Ot(p,"user-mismatch"),b}})).apply(this,arguments)}function u_(h,l){return bh.apply(this,arguments)}function bh(){return(bh=(0,E.Z)(function*(h,l,f=!1){const p="signIn",_=yield dh(h,p,l),b=yield ro._fromIdTokenResponse(h,p,_);return f||(yield h._updateCurrentUser(b.user)),b})).apply(this,arguments)}function Fu(h,l){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,E.Z)(function*(h,l){return u_(Yt(h),l)})).apply(this,arguments)}function f_(h,l){return vh.apply(this,arguments)}function vh(){return(vh=(0,E.Z)(function*(h,l){const f=(0,z.m9)(h);return yield Lr(!1,f,l.providerId),ph(f,l)})).apply(this,arguments)}function d_(h,l){return pr.apply(this,arguments)}function pr(){return(pr=(0,E.Z)(function*(h,l){return _h((0,z.m9)(h),l)})).apply(this,arguments)}function Ch(){return(Ch=(0,E.Z)(function*(h,l){return Se(h,"POST","/v1/accounts:signInWithCustomToken",te(h,l))})).apply(this,arguments)}function Cn(){return Cn=(0,E.Z)(function*(h,l){const f=Yt(h),p=yield function DE(h,l){return Ch.apply(this,arguments)}(f,{token:l,returnSecureToken:!0}),_=yield ro._fromIdTokenResponse(f,"signIn",p);return yield f._updateCurrentUser(_.user),_}),Cn.apply(this,arguments)}class rl{constructor(l,f){this.factorId=l,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(l,f){return"phoneInfo"in f?Lu._fromServerResponse(l,f):"totpInfo"in f?je._fromServerResponse(l,f):Ot(l,"internal-error")}}class Lu extends rl{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,f){return new Lu(f)}}class je extends rl{constructor(l){super("totp",l)}static _fromServerResponse(l,f){return new je(f)}}function Jn(h,l,f){var p;J((null===(p=f.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),J(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),l.continueUrl=f.url,l.dynamicLinkDomain=f.dynamicLinkDomain,l.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(J(f.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),l.iOSBundleId=f.iOS.bundleId),f.android&&(J(f.android.packageName.length>0,h,"missing-android-pkg-name"),l.androidInstallApp=f.android.installApp,l.androidMinimumVersionCode=f.android.minimumVersion,l.androidPackageName=f.android.packageName)}function pt(h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,E.Z)(function*(h){const l=Yt(h);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function ns(){return(ns=(0,E.Z)(function*(h,l,f){const p=Yt(h),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};f&&Jn(p,_,f),yield ke(p,_,"getOobCode",ah)})).apply(this,arguments)}function Uu(){return Uu=(0,E.Z)(function*(h,l,f){yield Zc((0,z.m9)(h),{oobCode:l,newPassword:f}).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&pt(h),_});return function(_){return p.apply(this,arguments)}}())}),Uu.apply(this,arguments)}function Fa(){return Fa=(0,E.Z)(function*(h,l){yield function t_(h,l){return hr.apply(this,arguments)}((0,z.m9)(h),{oobCode:l})}),Fa.apply(this,arguments)}function p_(h,l){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,E.Z)(function*(h,l){const f=(0,z.m9)(h),p=yield Zc(f,{oobCode:l}),_=p.requestType;switch(J(_,f,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(p.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(p.mfaInfo,f,"internal-error");default:J(p.email,f,"internal-error")}let b=null;return p.mfaInfo&&(b=rl._fromServerResponse(Yt(f),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:b},operation:_}})).apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(h,l){const{data:f}=yield p_((0,z.m9)(h),l);return f.email})).apply(this,arguments)}function $t(){return($t=(0,E.Z)(function*(h,l,f){const p=Yt(h),I=yield ke(p,{returnSecureToken:!0,email:l,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ka).catch(Z=>{throw"auth/password-does-not-meet-requirements"===Z.code&&pt(h),Z}),R=yield ro._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function Hn(){return(Hn=(0,E.Z)(function*(h,l,f){const p=Yt(h),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function b(I,R){J(R.handleCodeInApp,p,"argument-error"),R&&Jn(p,I,R)})(_,f),yield ke(p,_,"getOobCode",i_)})).apply(this,arguments)}function ii(){return(ii=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h),_=uh.credentialWithLink(l,f||Rn());return J(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Fu(p,_)})).apply(this,arguments)}function qe(){return(qe=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:createAuthUri",te(h,l))})).apply(this,arguments)}function Bu(){return Bu=(0,E.Z)(function*(h,l){const p={identifier:l,continueUri:Xo()?Rn():"http://localhost"},{signinMethods:_}=yield function La(h,l){return qe.apply(this,arguments)}((0,z.m9)(h),p);return _||[]}),Bu.apply(this,arguments)}function cn(){return cn=(0,E.Z)(function*(h,l){const f=(0,z.m9)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};l&&Jn(f.auth,_,l);const{email:b}=yield function QA(h,l){return le.apply(this,arguments)}(f.auth,_);b!==h.email&&(yield h.reload())}),cn.apply(this,arguments)}function rs(){return rs=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h),b={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:l};f&&Jn(p.auth,b,f);const{email:I}=yield function wE(h,l){return el.apply(this,arguments)}(p.auth,b);I!==h.email&&(yield h.reload())}),rs.apply(this,arguments)}function Hs(){return(Hs=(0,E.Z)(function*(h,l){return H(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ai(){return ai=(0,E.Z)(function*(h,{displayName:l,photoURL:f}){if(void 0===l&&void 0===f)return;const p=(0,z.m9)(h),b={idToken:yield p.getIdToken(),displayName:l,photoUrl:f,returnSecureToken:!0},I=yield Io(p,function si(h,l){return Hs.apply(this,arguments)}(p.auth,b));p.displayName=I.displayName||null,p.photoURL=I.photoUrl||null;const R=p.providerData.find(({providerId:Z})=>"password"===Z);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(I)}),ai.apply(this,arguments)}function Ba(h,l,f){return st.apply(this,arguments)}function st(){return st=(0,E.Z)(function*(h,l,f){const{auth:p}=h,b={idToken:yield h.getIdToken(),returnSecureToken:!0};l&&(b.email=l),f&&(b.password=f);const I=yield Io(h,function e_(h,l){return sh.apply(this,arguments)}(p,b));yield h._updateTokensIfNecessary(I,!0)}),st.apply(this,arguments)}class os{constructor(l,f,p={}){this.isNewUser=l,this.providerId=f,this.profile=p}}class wh extends os{constructor(l,f,p,_){super(l,f,p),this.username=_}}class ci extends os{constructor(l,f){super(l,"facebook.com",f)}}class ju extends wh{constructor(l,f){super(l,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ja extends os{constructor(l,f){super(l,"google.com",f)}}class cl extends wh{constructor(l,f,p){super(l,"twitter.com",f,p)}}function er(h){const{user:l,_tokenResponse:f}=h;return l.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function eO(h){var l,f;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},b=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const I=null===(f=null===(l=Aa(h.idToken))||void 0===l?void 0:l.firebase)||void 0===f?void 0:f.sign_in_provider;if(I)return new os(b,"anonymous"!==I&&"custom"!==I?I:null)}if(!p)return null;switch(p){case"facebook.com":return new ci(b,_);case"github.com":return new ju(b,_);case"google.com":return new ja(b,_);case"twitter.com":return new cl(b,_,h.screenName||null);case"custom":case"anonymous":return new os(b,null);default:return new os(b,p,_)}}(f)}class $a{constructor(l,f,p){this.type=l,this.credential=f,this.user=p}static _fromIdtoken(l,f){return new $a("enroll",l,f)}static _fromMfaPendingCredential(l){return new $a("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var f,p;if(l?.multiFactorSession){if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.pendingCredential)return $a._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(p=l.multiFactorSession)&&void 0!==p&&p.idToken)return $a._fromIdtoken(l.multiFactorSession.idToken)}return null}}class __{constructor(l,f,p){this.session=l,this.hints=f,this.signInResolver=p}static _fromError(l,f){const p=Yt(l),_=f.customData._serverResponse,b=(_.mfaInfo||[]).map(R=>rl._fromServerResponse(p,R));J(_.mfaPendingCredential,p,"internal-error");const I=$a._fromMfaPendingCredential(_.mfaPendingCredential);return new __(I,b,function(){var R=(0,E.Z)(function*(Z){const he=yield Z._process(p,I);delete _.mfaInfo,delete _.mfaPendingCredential;const Ce=Object.assign(Object.assign({},_),{idToken:he.idToken,refreshToken:he.refreshToken});switch(f.operationType){case"signIn":const Pe=yield ro._fromIdTokenResponse(p,f.operationType,Ce);return yield p._updateCurrentUser(Pe.user),Pe;case"reauthenticate":return J(f.user,p,"internal-error"),ro._forOperation(f.user,f.operationType,Ce);default:Ot(p,"internal-error")}});return function(Z){return R.apply(this,arguments)}}())}resolveSignIn(l){var f=this;return(0,E.Z)(function*(){return f.signInResolver(l)})()}}class y_{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(p=>rl._fromServerResponse(l.auth,p)))})}static _fromUser(l){return new y_(l)}getSession(){var l=this;return(0,E.Z)(function*(){return $a._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,f){var p=this;return(0,E.Z)(function*(){const _=l,b=yield p.getSession(),I=yield Io(p.user,_._process(p.user.auth,b,f));return yield p.user._updateTokensIfNecessary(I),p.user.reload()})()}unenroll(l){var f=this;return(0,E.Z)(function*(){const p="string"==typeof l?l:l.uid,_=yield f.user.getIdToken();try{const b=yield Io(f.user,function cO(h,l){return H(h,"POST","/v2/accounts/mfaEnrollment:withdraw",te(h,l))}(f.user.auth,{idToken:_,mfaEnrollmentId:p}));f.enrolledFactors=f.enrolledFactors.filter(({uid:I})=>I!==p),yield f.user._updateTokensIfNecessary(b),yield f.user.reload()}catch(b){throw b}})()}}const b_=new WeakMap,Th="__sak";class Ph{constructor(l,f){this.storageRetriever=l,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,f){return this.storage.setItem(l,JSON.stringify(f)),Promise.resolve()}_get(l){const f=this.storage.getItem(l);return Promise.resolve(f?JSON.parse(f):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ui=(()=>{class h extends Ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,p)=>this.onStorageEvent(f,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function v_(){const h=(0,z.z$)();return ti(h)||Ke(h)}()&&function ct(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),b=this.localCache[p];_!==b&&f(p,b,_)}}onStorageEvent(f,p=!1){if(!f.key)return void this.forAllChangedKeys((R,Z,he)=>{this.notifyListeners(R,he)});const _=f.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(f.newValue!==R)null!==f.newValue?this.storage.setItem(_,f.newValue):this.storage.removeItem(_);else if(this.localCache[_]===f.newValue&&!p)return}const b=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},I=this.storage.getItem(_);!function pn(){return(0,z.w1)()&&10===document.documentMode}()||I===f.newValue||f.newValue===f.oldValue?b():setTimeout(b,10)}notifyListeners(f,p){this.localCache[f]=p;const _=this.listeners[f];if(_)for(const b of Array.from(_))b(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(p)}_removeListener(f,p){this.listeners[f]&&(this.listeners[f].delete(p),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,p){var _=()=>super._set,b=this;return(0,E.Z)(function*(){yield _().call(b,f,p),b.localCache[f]=JSON.stringify(p)})()}_get(f){var p=()=>super._get,_=this;return(0,E.Z)(function*(){const b=yield p().call(_,f);return _.localCache[f]=JSON.stringify(b),b})()}_remove(f){var p=()=>super._remove,_=this;return(0,E.Z)(function*(){yield p().call(_,f),delete _.localCache[f]})()}}return h.type="LOCAL",h})(),Gs=(()=>{class h extends Ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,p){}_removeListener(f,p){}}return h.type="SESSION",h})();let tr=(()=>{class h{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const p=this.receivers.find(b=>b.isListeningto(f));if(p)return p;const _=new h(f);return this.receivers.push(_),_}isListeningto(f){return this.eventTarget===f}handleEvent(f){var p=this;return(0,E.Z)(function*(){const _=f,{eventId:b,eventType:I,data:R}=_.data,Z=p.handlersMap[I];if(!Z?.size)return;_.ports[0].postMessage({status:"ack",eventId:b,eventType:I});const he=Array.from(Z).map(function(){var Pe=(0,E.Z)(function*(mn){return mn(_.origin,R)});return function(mn){return Pe.apply(this,arguments)}}()),Ce=yield function dO(h){return Promise.all(h.map(function(){var l=(0,E.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(p){return{fulfilled:!1,reason:p}}});return function(f){return l.apply(this,arguments)}}()))}(he);_.ports[0].postMessage({status:"done",eventId:b,eventType:I,response:Ce})})()}_subscribe(f,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(p)}_unsubscribe(f,p){this.handlersMap[f]&&p&&this.handlersMap[f].delete(p),(!p||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function is(h="",l=10){let f="";for(let p=0;p<l;p++)f+=Math.floor(10*Math.random());return h+f}class To{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,f,p=50){var _=this;return(0,E.Z)(function*(){const b=typeof MessageChannel<"u"?new MessageChannel:null;if(!b)throw new Error("connection_unavailable");let I,R;return new Promise((Z,he)=>{const Ce=is("",20);b.port1.start();const Pe=setTimeout(()=>{he(new Error("unsupported_event"))},p);R={messageChannel:b,onMessage(mn){const Uo=mn;if(Uo.data.eventId===Ce)switch(Uo.data.status){case"ack":clearTimeout(Pe),I=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(I),Z(Uo.data.response);break;default:clearTimeout(Pe),clearTimeout(I),he(new Error("invalid_response"))}}},_.handlers.add(R),b.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:l,eventId:Ce,data:f},[b.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function wn(){return window}function Hu(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function ul(){return(ul=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zu="firebaseLocalStorageDb",fl="firebaseLocalStorage",Dh="fbase_key";class ss{constructor(l){this.request=l}toPromise(){return new Promise((l,f)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function as(h,l){return h.transaction([fl],l?"readwrite":"readonly").objectStore(fl)}function qu(){const h=indexedDB.open(zu,1);return new Promise((l,f)=>{h.addEventListener("error",()=>{f(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(fl,{keyPath:Dh})}catch(_){f(_)}}),h.addEventListener("success",(0,E.Z)(function*(){const p=h.result;p.objectStoreNames.contains(fl)?l(p):(p.close(),yield function Ha(){const h=indexedDB.deleteDatabase(zu);return new ss(h).toPromise()}(),l(yield qu()))}))})}function OE(h,l,f){return T_.apply(this,arguments)}function T_(){return(T_=(0,E.Z)(function*(h,l,f){const p=as(h,!0).put({[Dh]:l,value:f});return new ss(p).toPromise()})).apply(this,arguments)}function Ah(){return(Ah=(0,E.Z)(function*(h,l){const f=as(h,!1).get(l),p=yield new ss(f).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function P_(h,l){const f=as(h,!0).delete(l);return new ss(f).toPromise()}const za=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,E.Z)(function*(){return f.db||(f.db=yield qu()),f.db})()}_withRetries(f){var p=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const b=yield p._openDb();return yield f(b)}catch(b){if(_++>3)throw b;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,E.Z)(function*(){return Hu()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,E.Z)(function*(){f.receiver=tr._getInstance(function Mh(){return Hu()?self:null}()),f.receiver._subscribe("keyChanged",function(){var p=(0,E.Z)(function*(_,b){return{keyProcessed:(yield f._poll()).includes(b.key)}});return function(_,b){return p.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var p=(0,E.Z)(function*(_,b){return["keyChanged"]});return function(_,b){return p.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,E.Z)(function*(){var p,_;if(f.activeServiceWorker=yield function E_(){return ul.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new To(f.activeServiceWorker);const b=yield f.sender._send("ping",{},800);b&&null!==(p=b[0])&&void 0!==p&&p.fulfilled&&null!==(_=b[0])&&void 0!==_&&_.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var p=this;return(0,E.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function w_(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:f},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const f=yield qu();return yield OE(f,Th,"1"),yield P_(f,Th),!0}catch{}return!1})()}_withPendingWrite(f){var p=this;return(0,E.Z)(function*(){p.pendingWrites++;try{yield f()}finally{p.pendingWrites--}})()}_set(f,p){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(b=>OE(b,f,p)),_.localCache[f]=p,_.notifyServiceWorker(f)}))})()}_get(f){var p=this;return(0,E.Z)(function*(){const _=yield p._withRetries(b=>function hO(h,l){return Ah.apply(this,arguments)}(b,f));return p.localCache[f]=_,_})()}_remove(f){var p=this;return(0,E.Z)(function*(){return p._withPendingWrite((0,E.Z)(function*(){return yield p._withRetries(_=>P_(_,f)),delete p.localCache[f],p.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,E.Z)(function*(){const p=yield f._withRetries(I=>{const R=as(I,!1).getAll();return new ss(R).toPromise()});if(!p)return[];if(0!==f.pendingWrites)return[];const _=[],b=new Set;if(0!==p.length)for(const{fbase_key:I,value:R}of p)b.add(I),JSON.stringify(f.localCache[I])!==JSON.stringify(R)&&(f.notifyListeners(I,R),_.push(I));for(const I of Object.keys(f.localCache))f.localCache[I]&&!b.has(I)&&(f.notifyListeners(I,null),_.push(I));return _})()}notifyListeners(f,p){this.localCache[f]=p;const _=this.listeners[f];if(_)for(const b of Array.from(_))b(p)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(p)}_removeListener(f,p){this.listeners[f]&&(this.listeners[f].delete(p),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),dl=1e12;class RE{constructor(l){this.auth=l,this.counter=dl,this._widgets=new Map}render(l,f){const p=this.counter;return this._widgets.set(p,new xE(l,this.auth.name,f||{})),this.counter++,p}reset(l){var f;const p=l||dl;null===(f=this._widgets.get(p))||void 0===f||f.delete(),this._widgets.delete(p)}getResponse(l){var f;return(null===(f=this._widgets.get(l||dl))||void 0===f?void 0:f.getResponse())||""}execute(l){var f=this;return(0,E.Z)(function*(){var p;return null===(p=f._widgets.get(l||dl))||void 0===p||p.execute(),""})()}}class xE{constructor(l,f,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:f}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function NE(h){const l=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)l.push(f.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":f}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gu=yE("rcb"),kE=new ei(3e4,6e4);class FE{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=wn().grecaptcha)||void 0===l||!l.render)}load(l,f=""){return J(function _O(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(f),l,"argument-error"),this.shouldResolveImmediately(f)&&Cr(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((p,_)=>{const b=wn().setTimeout(()=>{_(jt(l,"network-request-failed"))},kE.get());wn()[Gu]=()=>{wn().clearTimeout(b),delete wn()[Gu];const R=wn().grecaptcha;if(!R||!Cr(R))return void _(jt(l,"internal-error"));const Z=R.render;R.render=(he,Ce)=>{const Pe=Z(he,Ce);return this.counter++,Pe},this.hostLanguage=f,p(R)},Qm(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Gu,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(b),_(jt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var f;return!(null===(f=wn().grecaptcha)||void 0===f||!f.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class VE{load(l){return(0,E.Z)(function*(){return new RE(l)})()}clearedOneInstance(){}}const so="recaptcha",S_={theme:"light",type:"image"};class LE{constructor(l,f,p=Object.assign({},S_)){this.parameters=p,this.type=so,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof f?document.getElementById(f):f;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VE:new FE,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const f=yield l.render(),p=l.getAssertedRecaptcha();return p.getResponse(f)||new Promise(b=>{const I=R=>{R&&(l.tokenChangeListeners.delete(I),b(R))};l.tokenChangeListeners.add(I),l.isInvisible&&p.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return f=>{if(this.tokenChangeListeners.forEach(p=>p(f)),"function"==typeof l)l(f);else if("string"==typeof l){const p=wn()[l];"function"==typeof p&&p(f)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let f=l.container;if(!l.isInvisible){const p=document.createElement("div");f.appendChild(p),f=p}l.widgetId=l.getAssertedRecaptcha().render(f,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){J(Xo()&&!Hu(),l.auth,"internal-error"),yield function UE(){let h=null;return new Promise(l=>{"complete"!==document.readyState?(h=()=>l(),window.addEventListener("load",h)):l()}).catch(l=>{throw h&&window.removeEventListener("load",h),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const f=yield function Hc(h){return Mi.apply(this,arguments)}(l.auth);J(f,l.auth,"internal-error"),l.parameters.sitekey=f})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wu{constructor(l,f){this.verificationId=l,this.onConfirmation=f}confirm(l){const f=fe._fromVerification(this.verificationId,l);return this.onConfirmation(f)}}function Sh(){return(Sh=(0,E.Z)(function*(h,l,f){const p=Yt(h),_=yield hl(p,l,(0,z.m9)(f));return new Wu(_,b=>Fu(p,b))})).apply(this,arguments)}function xh(){return(xh=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h);yield Lr(!1,p,"phone");const _=yield hl(p.auth,l,(0,z.m9)(f));return new Wu(_,b=>f_(p,b))})).apply(this,arguments)}function Ku(){return(Ku=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h),_=yield hl(p.auth,l,(0,z.m9)(f));return new Wu(_,b=>d_(p,b))})).apply(this,arguments)}function hl(h,l,f){return kt.apply(this,arguments)}function kt(){return kt=(0,E.Z)(function*(h,l,f){var p;const _=yield f.verify();try{let b;if(J("string"==typeof _,h,"argument-error"),J(f.type===so,h,"argument-error"),b="string"==typeof l?{phoneNumber:l}:l,"session"in b){const I=b.session;if("phoneNumber"in b)return J("enroll"===I.type,h,"internal-error"),(yield function iO(h,l){return H(h,"POST","/v2/accounts/mfaEnrollment:start",te(h,l))}(h,{idToken:I.credential,phoneEnrollmentInfo:{phoneNumber:b.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===I.type,h,"internal-error");const R=(null===(p=b.multiFactorHint)||void 0===p?void 0:p.uid)||b.multiFactorUid;return J(R,h,"missing-multi-factor-info"),(yield function Oh(h,l){return H(h,"POST","/v2/accounts/mfaSignIn:start",te(h,l))}(h,{mfaPendingCredential:I.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:I}=yield function IE(h,l){return ch.apply(this,arguments)}(h,{phoneNumber:b.phoneNumber,recaptchaToken:_});return I}}finally{f._reset()}}),kt.apply(this,arguments)}function qa(){return(qa=(0,E.Z)(function*(h,l){yield ph((0,z.m9)(h),l)})).apply(this,arguments)}let zn=(()=>{class h{constructor(f){this.providerId=h.PROVIDER_ID,this.auth=Yt(f)}verifyPhoneNumber(f,p){return hl(this.auth,f,(0,z.m9)(p))}static credential(f,p){return fe._fromVerification(f,p)}static credentialFromResult(f){return h.credentialFromTaggedObject(f)}static credentialFromError(f){return h.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:p,temporaryProof:_}=f;return p&&_?fe._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Ws(h,l){return l?rt(l):(J(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class Zu extends Ai{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return to(l,this._buildIdpRequest())}_linkToIdToken(l,f){return to(l,this._buildIdpRequest(f))}_getReauthenticationResolver(l){return to(l,this._buildIdpRequest())}_buildIdpRequest(l){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(f.idToken=l),f}}function Ga(h){return u_(h.auth,new Zu(h),h.bypassAuthState)}function ao(h){const{auth:l,user:f}=h;return J(f,l,"internal-error"),_h(f,new Zu(h),h.bypassAuthState)}function BE(h){return kh.apply(this,arguments)}function kh(){return(kh=(0,E.Z)(function*(h){const{auth:l,user:f}=h;return J(f,l,"internal-error"),ph(f,new Zu(h),h.bypassAuthState)})).apply(this,arguments)}class x_{constructor(l,f,p,_,b=!1){this.auth=l,this.resolver=p,this.user=_,this.bypassAuthState=b,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var l=this;return new Promise(function(){var f=(0,E.Z)(function*(p,_){l.pendingPromise={resolve:p,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(b){l.reject(b)}});return function(p,_){return f.apply(this,arguments)}}())}onAuthEvent(l){var f=this;return(0,E.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:b,tenantId:I,error:R,type:Z}=l;if(R)return void f.reject(R);const he={auth:f.auth,requestUri:p,sessionId:_,tenantId:I||void 0,postBody:b||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Z)(he))}catch(Ce){f.reject(Ce)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Ga;case"linkViaPopup":case"linkViaRedirect":return BE;case"reauthViaPopup":case"reauthViaRedirect":return ao;default:Ot(this.auth,"internal-error")}}resolve(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cs=new ei(2e3,1e4);function Fh(){return(Fh=(0,E.Z)(function*(h,l,f){const p=Yt(h);nt(h,l,Si);const _=Ws(p,f);return new Ve(p,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Qu(){return(Qu=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h);nt(p.auth,l,Si);const _=Ws(p.auth,f);return new Ve(p.auth,"reauthViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}function Vh(){return(Vh=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h);nt(p.auth,l,Si);const _=Ws(p.auth,f);return new Ve(p.auth,"linkViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}let Ve=(()=>{class h extends x_{constructor(f,p,_,b,I){super(f,p,b,I),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var f=this;return(0,E.Z)(function*(){const p=yield f.execute();return J(p,f.auth,"internal-error"),p})()}onExecution(){var f=this;return(0,E.Z)(function*(){Zt(1===f.filter.length,"Popup operations only handle one event");const p=is();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],p),f.authWindow.associatedEvent=p,f.resolver._originValidation(f.auth).catch(_=>{f.reject(_)}),f.resolver._isIframeWebStorageSupported(f.auth,_=>{_||f.reject(jt(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const f=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,cs.get())};f()}}return h.currentPopupAction=null,h})();const V_="pendingRedirect",Yu=new Map;class jE extends x_{constructor(l,f,p=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,p),this.eventId=null}execute(){var l=()=>super.execute,f=this;return(0,E.Z)(function*(){let p=Yu.get(f.auth._key());if(!p){try{const b=(yield function $E(h,l){return Lh.apply(this,arguments)}(f.resolver,f.auth))?yield l().call(f):null;p=()=>Promise.resolve(b)}catch(_){p=()=>Promise.reject(_)}Yu.set(f.auth._key(),p)}return f.bypassAuthState||Yu.set(f.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(l){var f=()=>super.onAuthEvent,p=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return f().call(p,l);if("unknown"!==l.type){if(l.eventId){const _=yield p.auth._redirectUserForId(l.eventId);if(_)return p.user=_,f().call(p,l);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Lh(){return(Lh=(0,E.Z)(function*(h,l){const f=U_(l),p=L_(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(f));return yield p._remove(f),_})).apply(this,arguments)}function Xu(h,l){return ls.apply(this,arguments)}function ls(){return(ls=(0,E.Z)(function*(h,l){return L_(h)._set(U_(l),"true")})).apply(this,arguments)}function Uh(h,l){Yu.set(h._key(),l)}function L_(h){return rt(h._redirectPersistence)}function U_(h){return $n(V_,h.config.apiKey,h.name)}function zE(h,l,f){return function ne(h,l,f){return gt.apply(this,arguments)}(h,l,f)}function gt(){return(gt=(0,E.Z)(function*(h,l,f){const p=Yt(h);nt(h,l,Si),yield p._initializationPromise;const _=Ws(p,f);return yield Xu(_,p),_._openRedirect(p,l,"signInViaRedirect")})).apply(this,arguments)}function Le(h,l,f){return function Ue(h,l,f){return kn.apply(this,arguments)}(h,l,f)}function kn(){return(kn=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h);nt(p.auth,l,Si),yield p.auth._initializationPromise;const _=Ws(p.auth,f);yield Xu(_,p.auth);const b=yield jh(p);return _._openRedirect(p.auth,l,"reauthViaRedirect",b)})).apply(this,arguments)}function B_(h,l,f){return function pl(h,l,f){return Po.apply(this,arguments)}(h,l,f)}function Po(){return(Po=(0,E.Z)(function*(h,l,f){const p=(0,z.m9)(h);nt(p.auth,l,Si),yield p.auth._initializationPromise;const _=Ws(p.auth,f);yield Lr(!1,p,l.providerId),yield Xu(_,p.auth);const b=yield jh(p);return _._openRedirect(p.auth,l,"linkViaRedirect",b)})).apply(this,arguments)}function gl(){return(gl=(0,E.Z)(function*(h,l){return yield Yt(h)._initializationPromise,Ju(h,l,!1)})).apply(this,arguments)}function Ju(h,l){return j_.apply(this,arguments)}function j_(){return(j_=(0,E.Z)(function*(h,l,f=!1){const p=Yt(h),_=Ws(p,l),I=yield new jE(p,_,f).execute();return I&&!f&&(delete I.user._redirectEventId,yield p._persistUserIfCurrent(I.user),yield p._setRedirectUser(null,l)),I})).apply(this,arguments)}function jh(h){return nr.apply(this,arguments)}function nr(){return(nr=(0,E.Z)(function*(h){const l=is(`${h.uid}:::`);return h._redirectEventId=l,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),l})).apply(this,arguments)}class $h{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let f=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(l,p)&&(f=!0,this.sendToConsumer(l,p),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function qE(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return di(h);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=l,f=!0)),f}sendToConsumer(l,f){var p;if(l.error&&!di(l)){const _=(null===(p=l.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";f.onError(jt(this.auth,_))}else f.onAuthEvent(l)}isEventForConsumer(l,f){const p=null===f.eventId||!!l.eventId&&l.eventId===f.eventId;return f.filter.includes(l.type)&&p}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ks(l))}saveEventToCache(l){this.cachedEventUids.add(Ks(l)),this.lastProcessedEventTime=Date.now()}}function Ks(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(l=>l).join("-")}function di({type:h,error:l}){return"unknown"===h&&"auth/no-auth-event"===l?.code}function Hh(h){return zh.apply(this,arguments)}function zh(){return(zh=(0,E.Z)(function*(h,l={}){return H(h,"GET","/v1/projects",l)})).apply(this,arguments)}const GE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qh=/^https?/;function ef(){return(ef=(0,E.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:l}=yield Hh(h);for(const f of l)try{if(Wh(f))return}catch{}Ot(h,"unauthorized-domain")})).apply(this,arguments)}function Wh(h){const l=Rn(),{protocol:f,hostname:p}=new URL(l);if(h.startsWith("chrome-extension://")){const I=new URL(h);return""===I.hostname&&""===p?"chrome-extension:"===f&&h.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===f&&I.hostname===p}if(!qh.test(f))return!1;if(GE.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const WE=new ei(3e4,6e4);function Kh(){const h=wn().___jsl;if(h?.H)for(const l of Object.keys(h.H))if(h.H[l].r=h.H[l].r||[],h.H[l].L=h.H[l].L||[],h.H[l].r=[...h.H[l].L],h.CP)for(let f=0;f<h.CP.length;f++)h.CP[f]=null}let ml=null;const H_=new ei(5e3,15e3),z_="__/auth/iframe",Qh="emulator/auth/iframe",KE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wr(h){const l=h.config;J(l.authDomain,h,"auth-domain-config-required");const f=l.emulator?V(l,Qh):`https://${h.config.authDomain}/${z_}`,p={apiKey:l.apiKey,appName:h.name,v:He.SDK_VERSION},_=ZE.get(h.config.apiHost);_&&(p.eid=_);const b=h._getFrameworks();return b.length&&(p.fw=b.join(",")),`${f}?${(0,z.xO)(p).slice(1)}`}function qt(){return qt=(0,E.Z)(function*(h){const l=yield function $_(h){return ml=ml||function Zh(h){return new Promise((l,f)=>{var p,_,b;function I(){Kh(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Kh(),f(jt(h,"network-request-failed"))},timeout:WE.get()})}if(null!==(_=null===(p=wn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(b=wn().gapi)||void 0===b||!b.load){const R=yE("iframefcb");return wn()[R]=()=>{gapi.load?I():f(jt(h,"network-request-failed"))},Qm(`https://apis.google.com/js/api.js?onload=${R}`).catch(Z=>f(Z))}I()}}).catch(l=>{throw ml=null,l})}(h),ml}(h),f=wn().gapi;return J(f,h,"internal-error"),l.open({where:document.body,url:wr(h),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KE,dontclear:!0},p=>new Promise(function(){var _=(0,E.Z)(function*(b,I){yield p.restyle({setHideOnLeave:!1});const R=jt(h,"network-request-failed"),Z=wn().setTimeout(()=>{I(R)},H_.get());function he(){wn().clearTimeout(Z),b(p)}p.ping(he).then(he,()=>{I(R)})});return function(b,I){return _.apply(this,arguments)}}()))}),qt.apply(this,arguments)}const q_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yh{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const XE="__/auth/handler",nf="emulator/auth/handler",rf=encodeURIComponent("fac");function Wa(h,l,f,p,_,b){return _l.apply(this,arguments)}function _l(){return(_l=(0,E.Z)(function*(h,l,f,p,_,b){J(h.config.authDomain,h,"auth-domain-config-required"),J(h.config.apiKey,h,"invalid-api-key");const I={apiKey:h.config.apiKey,appName:h.name,authType:f,redirectUrl:p,v:He.SDK_VERSION,eventId:_};if(l instanceof Si){l.setDefaultLanguage(h.languageCode),I.providerId=l.providerId||"",(0,z.xb)(l.getCustomParameters())||(I.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Ce,Pe]of Object.entries(b||{}))I[Ce]=Pe}if(l instanceof Vr){const Ce=l.getScopes().filter(Pe=>""!==Pe);Ce.length>0&&(I.scopes=Ce.join(","))}h.tenantId&&(I.tid=h.tenantId);const R=I;for(const Ce of Object.keys(R))void 0===R[Ce]&&delete R[Ce];const Z=yield h._getAppCheckToken(),he=Z?`#${rf}=${encodeURIComponent(Z)}`:"";return`${function K_({config:h}){return h.emulator?V(h,nf):`https://${h.authDomain}/${XE}`}(h)}?${(0,z.xO)(R).slice(1)}${he}`})).apply(this,arguments)}const sf="webStorageSupport",Qs=class JE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=Ju,this._overrideRedirectResult=Uh}_openPopup(l,f,p,_){var b=this;return(0,E.Z)(function*(){var I;Zt(null===(I=b.eventManagers[l._key()])||void 0===I?void 0:I.manager,"_initialize() not called before _openPopup()");const R=yield Wa(l,f,p,Rn(),_);return function tf(h,l,f,p=500,_=600){const b=Math.max((window.screen.availHeight-_)/2,0).toString(),I=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const Z=Object.assign(Object.assign({},q_),{width:p.toString(),height:_.toString(),top:b,left:I}),he=(0,z.z$)().toLowerCase();f&&(R=Pu(he)?"_blank":f),Ft(he)&&(l=l||"http://localhost",Z.scrollbars="yes");const Ce=Object.entries(Z).reduce((mn,[Uo,_f])=>`${mn}${Uo}=${_f},`,"");if(function N(h=(0,z.z$)()){var l;return Ke(h)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(he)&&"_self"!==R)return function us(h,l){const f=document.createElement("a");f.href=h,f.target=l;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(p)}(l||"",R),new Yh(null);const Pe=window.open(l||"",R,Ce);J(Pe,h,"popup-blocked");try{Pe.focus()}catch{}return new Yh(Pe)}(l,R,is())})()}_openRedirect(l,f,p,_){var b=this;return(0,E.Z)(function*(){return yield b._originValidation(l),function C_(h){wn().location.href=h}(yield Wa(l,f,p,Rn(),_)),new Promise(()=>{})})()}_initialize(l){const f=l._key();if(this.eventManagers[f]){const{manager:_,promise:b}=this.eventManagers[f];return _?Promise.resolve(_):(Zt(b,"If manager is not set, promise should be"),b)}const p=this.initAndGetManager(l);return this.eventManagers[f]={promise:p},p.catch(()=>{delete this.eventManagers[f]}),p}initAndGetManager(l){var f=this;return(0,E.Z)(function*(){const p=yield function Zs(h){return qt.apply(this,arguments)}(l),_=new $h(l);return p.register("authEvent",b=>(J(b?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(b.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[l._key()]={manager:_},f.iframes[l._key()]=p,_})()}_isIframeWebStorageSupported(l,f){this.iframes[l._key()].send(sf,{type:sf},_=>{var b;const I=null===(b=_?.[0])||void 0===b?void 0:b[sf];void 0!==I&&f(!!I),Ot(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Gh(h){return ef.apply(this,arguments)}(l)),this.originValidationPromises[f]}get _shouldInitProactively(){return Te()||ti()||Ke()}};class yl{constructor(l){this.factorId=l}_process(l,f,p){switch(f.type){case"enroll":return this._finalizeEnroll(l,f.credential,p);case"signin":return this._finalizeSignIn(l,f.credential);default:return on("unexpected MultiFactorSessionType")}}}class Xh extends yl{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Xh(l)}_finalizeEnroll(l,f,p){return function sO(h,l){return H(h,"POST","/v2/accounts/mfaEnrollment:finalize",te(h,l))}(l,{idToken:f,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,f){return function gO(h,l){return H(h,"POST","/v2/accounts/mfaSignIn:finalize",te(h,l))}(l,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yO=(()=>{class h{constructor(){}static assertion(f){return Xh._fromCredential(f)}}return h.FACTOR_ID="phone",h})();var ew="@firebase/auth";class Jh{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,E.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(p=>{l(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);f&&(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fs(){return window}(0,z.Pz)("authIdTokenMaxAge"),function nw(h){(0,He._registerComponent)(new hn.wA("auth",(l,{options:f})=>{const p=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),b=l.getProvider("app-check-internal"),{apiKey:I,authDomain:R}=p.options;J(I&&!I.includes(":"),"invalid-api-key",{appName:p.name});const Z={apiKey:I,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Na(h)},he=new _E(p,_,b,Z);return function ZA(h,l){const f=l?.persistence||[],p=(Array.isArray(f)?f:[f]).map(rt);l?.errorMap&&h._updateErrorMap(l.errorMap),h._initializeWithPersistence(p,l?.popupRedirectResolver)}(he,f),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,p)=>{l.getProvider("auth-internal").initialize()})),(0,He._registerComponent)(new hn.wA("auth-internal",l=>{const f=Yt(l.getProvider("auth").getImmediate());return new Jh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)(ew,"1.5.1",function bl(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(h)),(0,He.registerVersion)(ew,"1.5.1","esm2017")}("Browser");function tp(){return tp=(0,E.Z)(function*(h,l,f){var p;const{BuildInfo:_}=fs();Zt(l.sessionId,"AuthEvent did not contain a session ID");const b=yield function J_(h){return uf.apply(this,arguments)}(l.sessionId),I={};return Ke()?I.ibi=_.packageName:A()?I.apn=_.packageName:Ot(h,"operation-not-supported-in-this-environment"),_.displayName&&(I.appDisplayName=_.displayName),I.sessionId=b,Wa(h,f,l.type,void 0,null!==(p=l.eventId)&&void 0!==p?p:void 0,I)}),tp.apply(this,arguments)}function El(){return(El=(0,E.Z)(function*(h){const{BuildInfo:l}=fs(),f={};Ke()?f.iosBundleId=l.packageName:A()?f.androidPackageName=l.packageName:Ot(h,"operation-not-supported-in-this-environment"),yield Hh(h,f)})).apply(this,arguments)}function wl(){return(wl=(0,E.Z)(function*(h,l,f){const{cordova:p}=fs();let _=()=>{};try{yield new Promise((b,I)=>{let R=null;function Z(){var Pe;b();const mn=null===(Pe=p.plugins.browsertab)||void 0===Pe?void 0:Pe.close;"function"==typeof mn&&mn(),"function"==typeof f?.close&&f.close()}function he(){R||(R=window.setTimeout(()=>{I(jt(h,"redirect-cancelled-by-user"))},2e3))}function Ce(){"visible"===document?.visibilityState&&he()}l.addPassiveListener(Z),document.addEventListener("resume",he,!1),A()&&document.addEventListener("visibilitychange",Ce,!1),_=()=>{l.removePassiveListener(Z),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",Ce,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function uf(){return(uf=(0,E.Z)(function*(h){const l=function ey(h){if(Zt(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const l=new ArrayBuffer(h.length),f=new Uint8Array(l);for(let p=0;p<h.length;p++)f[p]=h.charCodeAt(p);return f}(h),f=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(f)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class sw extends $h{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function ny(h){return df.apply(this,arguments)}function df(){return(df=(0,E.Z)(function*(h){const l=yield np()._get(rr(h));return l&&(yield np()._remove(rr(h))),l})).apply(this,arguments)}function Il(){const h=[];for(let f=0;f<20;f++){const p=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return h.join("")}function np(){return rt(ui)}function rr(h){return $n("authEvent",h.config.apiKey,h.name)}function Ka(h){if(!h?.includes("?"))return{};const[l,...f]=h.split("?");return(0,z.zd)(f.join("?"))}const Za=class oy{constructor(){this._redirectPersistence=Gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ju,this._overrideRedirectResult=Uh}_initialize(l){var f=this;return(0,E.Z)(function*(){const p=l._key();let _=f.eventManagers.get(p);return _||(_=new sw(l),f.eventManagers.set(p,_),f.attachCallbackListeners(l,_)),_})()}_openPopup(l){Ot(l,"operation-not-supported-in-this-environment")}_openRedirect(l,f,p,_){var b=this;return(0,E.Z)(function*(){!function iw(h){var l,f,p,_,b,I,R,Z,he,Ce;const Pe=fs();J("function"==typeof(null===(l=Pe?.universalLinks)||void 0===l?void 0:l.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(f=Pe?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(b=null===(_=null===(p=Pe?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===b?void 0:b.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Z=null===(R=null===(I=Pe?.cordova)||void 0===I?void 0:I.plugins)||void 0===R?void 0:R.browsertab)||void 0===Z?void 0:Z.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Ce=null===(he=Pe?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===Ce?void 0:Ce.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const I=yield b._initialize(l);yield I.initialized(),I.resetRedirect(),function HE(){Yu.clear()}(),yield b._originValidation(l);const R=function ff(h,l,f=null){return{type:l,eventId:f,urlResponse:null,sessionId:Il(),postBody:null,tenantId:h.tenantId,error:jt(h,"no-auth-event")}}(l,p,_);yield function Ys(h,l){return np()._set(rr(h),l)}(l,R);const Z=yield function hi(h,l,f){return tp.apply(this,arguments)}(l,R,f),he=yield function X_(h){const{cordova:l}=fs();return new Promise(f=>{l.plugins.browsertab.isAvailable(p=>{let _=null;p?l.plugins.browsertab.openUrl(h):_=l.InAppBrowser.open(h,function ft(h=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),f(_)})})}(Z);return function lf(h,l,f){return wl.apply(this,arguments)}(l,I,he)})()}_isIframeWebStorageSupported(l,f){throw new Error("Method not implemented.")}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function cf(h){return El.apply(this,arguments)}(l)),this.originValidationPromises[f]}attachCallbackListeners(l,f){const{universalLinks:p,handleOpenURL:_,BuildInfo:b}=fs(),I=setTimeout((0,E.Z)(function*(){yield ny(l),f.onEvent(Xs())}),500),R=function(){var Ce=(0,E.Z)(function*(Pe){clearTimeout(I);const mn=yield ny(l);let Uo=null;mn&&Pe?.url&&(Uo=function ry(h,l){var f,p;const _=function or(h){const l=Ka(h),f=l.link?decodeURIComponent(l.link):void 0,p=Ka(f).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ka(_).link||_||p||f||h}(l);if(_.includes("/__/auth/callback")){const b=Ka(_),I=b.firebaseError?function aw(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(b.firebaseError)):null,R=null===(p=null===(f=I?.code)||void 0===f?void 0:f.split("auth/"))||void 0===p?void 0:p[1],Z=R?jt(R):null;return Z?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:Z,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(mn,Pe.url)),f.onEvent(Uo||Xs())});return function(mn){return Ce.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const Z=_,he=`${b.packageName.toLowerCase()}://`;fs().handleOpenURL=function(){var Ce=(0,E.Z)(function*(Pe){if(Pe.toLowerCase().startsWith(he)&&R({url:Pe}),"function"==typeof Z)try{Z(Pe)}catch(mn){console.error(mn)}});return function(Pe){return Ce.apply(this,arguments)}}()}};function Xs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:jt("no-auth-event")}}function pi(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function sy(h=(0,z.z$)()){return!("file:"!==pi()&&"ionic:"!==pi()&&"capacitor:"!==pi()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function lw(){try{const h=self.localStorage,l=is();if(h)return h.setItem(l,"1"),h.removeItem(l),!function IO(h=(0,z.z$)()){return function EO(){return(0,z.w1)()&&11===document?.documentMode}()||function wO(h=(0,z.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,z.hl)()}catch{return ay()&&(0,z.hl)()}return!1}function ay(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ds(){return(function vO(){return"http:"===pi()||"https:"===pi()}()||(0,z.ru)()||sy())&&!function CO(){return(0,z.b$)()||(0,z.UG)()}()&&lw()&&!ay()}function cy(){return sy()&&typeof document<"u"}function In(){return(In=(0,E.Z)(function*(){return!!cy()&&new Promise(h=>{const l=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),h(!0)})})})).apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},Tl=J,co="persistence";function hf(h){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,E.Z)(function*(h){yield h._initializationPromise;const l=ly(),f=$n(co,h.config.apiKey,h.name);l&&l.setItem(f,h._getPersistence())})).apply(this,arguments)}function ly(){var h;try{return(null===(h=function fw(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const TO=J;class hs{constructor(){this.browserResolver=rt(Qs),this.cordovaResolver=rt(Za),this.underlyingResolver=null,this._redirectPersistence=Gs,this._completeRedirectFn=Ju,this._overrideRedirectResult=Uh}_initialize(l){var f=this;return(0,E.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,f,p,_){var b=this;return(0,E.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._openPopup(l,f,p,_)})()}_openRedirect(l,f,p,_){var b=this;return(0,E.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._openRedirect(l,f,p,_)})()}_isIframeWebStorageSupported(l,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,f)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return cy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return TO(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const f=yield function uw(){return In.apply(this,arguments)}();l.underlyingResolver=f?l.cordovaResolver:l.browserResolver})()}}function dw(h){return h.unwrap()}function op(h){return hw(h)}function hw(h){const{_tokenResponse:l}=h instanceof z.ZR?h.customData:h;if(!l)return null;if(!(h instanceof z.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return zn.credentialFromResult(h);const f=l.providerId;if(!f||f===ut.PASSWORD)return null;let p;switch(f){case ut.GOOGLE:p=Vo;break;case ut.FACEBOOK:p=no;break;case ut.GITHUB:p=wt;break;case ut.TWITTER:p=oi;break;default:const{oauthIdToken:_,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:R,nonce:Z}=l;return b||I||_||R?R?f.startsWith("saml.")?es._create(f,R):ni._fromParams({providerId:f,signInMethod:f,pendingToken:R,idToken:_,accessToken:b}):new Ri(f).credential({idToken:_,accessToken:b,rawNonce:Z}):null}return h instanceof z.ZR?p.credentialFromError(h):p.credentialFromResult(h)}function Ir(h,l){return l.catch(f=>{throw f instanceof z.ZR&&function ec(h,l){var f;const p=null===(f=l.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new pw(h,function oO(h,l){var f;const p=(0,z.m9)(h),_=l;return J(l.customData.operationType,p,"argument-error"),J(null===(f=_.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,p,"argument-error"),__._fromError(p,_)}(h,l));else if(p){const _=hw(l),b=l;_&&(b.credential=_,b.tenantId=p.tenantId||void 0,b.email=p.email||void 0,b.phoneNumber=p.phoneNumber||void 0)}}(h,f),f}).then(f=>{const _=f.user;return{operationType:f.operationType,credential:op(f),additionalUserInfo:er(f),user:ki.getOrCreate(_)}})}function ip(h,l){return sp.apply(this,arguments)}function sp(){return(sp=(0,E.Z)(function*(h,l){const f=yield l;return{verificationId:f.verificationId,confirm:p=>Ir(h,f.confirm(p))}})).apply(this,arguments)}class pw{constructor(l,f){this.resolver=f,this.auth=function lo(h){return h.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ir(dw(this.auth),this.resolver.resolveSignIn(l))}}class ki{constructor(l){this._delegate=l,this.multiFactor=function lO(h){const l=(0,z.m9)(h);return b_.has(l)||b_.set(l,y_._fromUser(l)),b_.get(l)}(l)}static getOrCreate(l){return ki.USER_MAP.has(l)||ki.USER_MAP.set(l,new ki(l)),ki.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var f=this;return(0,E.Z)(function*(){return Ir(f.auth,f_(f._delegate,l))})()}linkWithPhoneNumber(l,f){var p=this;return(0,E.Z)(function*(){return ip(p.auth,function Rh(h,l,f){return xh.apply(this,arguments)}(p._delegate,l,f))})()}linkWithPopup(l){var f=this;return(0,E.Z)(function*(){return Ir(f.auth,function F_(h,l,f){return Vh.apply(this,arguments)}(f._delegate,l,hs))})()}linkWithRedirect(l){var f=this;return(0,E.Z)(function*(){return yield hf(Yt(f.auth)),B_(f._delegate,l,hs)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var f=this;return(0,E.Z)(function*(){return Ir(f.auth,d_(f._delegate,l))})()}reauthenticateWithPhoneNumber(l,f){return ip(this.auth,function fi(h,l,f){return Ku.apply(this,arguments)}(this._delegate,l,f))}reauthenticateWithPopup(l){return Ir(this.auth,function k_(h,l,f){return Qu.apply(this,arguments)}(this._delegate,l,hs))}reauthenticateWithRedirect(l){var f=this;return(0,E.Z)(function*(){return yield hf(Yt(f.auth)),Le(f._delegate,l,hs)})()}sendEmailVerification(l){return function Ua(h,l){return cn.apply(this,arguments)}(this._delegate,l)}unlink(l){var f=this;return(0,E.Z)(function*(){return yield function ME(h,l){return ku.apply(this,arguments)}(f._delegate,l),f})()}updateEmail(l){return function xi(h,l){return Ba((0,z.m9)(h),l,null)}(this._delegate,l)}updatePassword(l){return function al(h,l){return Ba((0,z.m9)(h),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Nh(h,l){return qa.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function g_(h,l){return ai.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,f){return function sl(h,l,f){return rs.apply(this,arguments)}(this._delegate,l,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ki.USER_MAP=new WeakMap;const Ml=J;let uy=(()=>{class h{constructor(f,p){if(this.app=f,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=f.options;Ml(_,"invalid-api-key",{appName:f.name}),Ml(_,"invalid-api-key",{appName:f.name});const b=typeof window<"u"?hs:void 0;this._delegate=p.initialize({options:{persistence:gf(_,f.name),popupRedirectResolver:b}}),this._delegate._updateErrorMap(Zn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ki.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,p){!function vn(h,l,f){const p=Yt(h);J(p._canInitEmulator,p,"emulator-config-failed"),J(/^https?:\/\//.test(l),p,"invalid-emulator-scheme");const _=!!f?.disableWarnings,b=Kc(l),{host:I,port:R}=function CE(h){const l=Kc(h),f=/(\/\/)?([^?#/]+)/.exec(h.substr(l.length));if(!f)return{host:"",port:null};const p=f[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const b=_[1];return{host:b,port:ih(p.substr(b.length+1))}}{const[b,I]=p.split(":");return{host:b,port:ih(I)}}}(l);p.config.emulator={url:`${b}//${I}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:I,port:R,protocol:b.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function EE(){function h(){const l=document.createElement("p"),f=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,f,p)}applyActionCode(f){return function h_(h,l){return Fa.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return p_(this._delegate,f)}confirmPasswordReset(f,p){return function oo(h,l,f){return Uu.apply(this,arguments)}(this._delegate,f,p)}createUserWithEmailAndPassword(f,p){var _=this;return(0,E.Z)(function*(){return Ir(_._delegate,function Ye(h,l,f){return $t.apply(this,arguments)}(_._delegate,f,p))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function il(h,l){return Bu.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Va(h,l){const f=Oi.parseLink(l);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,E.Z)(function*(){Ml(ds(),f._delegate,"operation-not-supported-in-this-environment");const p=yield function Bh(h,l){return gl.apply(this,arguments)}(f._delegate,hs);return p?Ir(f._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Qa(h,l){Yt(h)._logFramework(l)}(this._delegate,f)}onAuthStateChanged(f,p,_){const{next:b,error:I,complete:R}=pf(f,p,_);return this._delegate.onAuthStateChanged(b,I,R)}onIdTokenChanged(f,p,_){const{next:b,error:I,complete:R}=pf(f,p,_);return this._delegate.onIdTokenChanged(b,I,R)}sendSignInLinkToEmail(f,p){return function ol(h,l,f){return Hn.apply(this,arguments)}(this._delegate,f,p)}sendPasswordResetEmail(f,p){return function Er(h,l,f){return ns.apply(this,arguments)}(this._delegate,f,p||void 0)}setPersistence(f){var p=this;return(0,E.Z)(function*(){let _;switch(function Xa(h,l){Tl(Object.values(ir).includes(l),h,"invalid-persistence-type"),(0,z.b$)()?Tl(l!==ir.SESSION,h,"unsupported-persistence-type"):(0,z.UG)()?Tl(l===ir.NONE,h,"unsupported-persistence-type"):ay()?Tl(l===ir.NONE||l===ir.LOCAL&&(0,z.hl)(),h,"unsupported-persistence-type"):Tl(l===ir.NONE||lw(),h,"unsupported-persistence-type")}(p._delegate,f),f){case ir.SESSION:_=Gs;break;case ir.LOCAL:_=(yield rt(za)._isAvailable())?za:ui;break;case ir.NONE:_=an;break;default:return Ot("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Ir(this._delegate,function l_(h){return Nu.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Ir(this._delegate,Fu(this._delegate,f))}signInWithCustomToken(f){return Ir(this._delegate,function AE(h,l){return Cn.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,p){return Ir(this._delegate,function Lo(h,l,f){return Fu((0,z.m9)(h),uh.credential(l,f)).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&pt(h),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,f,p))}signInWithEmailLink(f,p){return Ir(this._delegate,function En(h,l,f){return ii.apply(this,arguments)}(this._delegate,f,p))}signInWithPhoneNumber(f,p){return ip(this._delegate,function R_(h,l,f){return Sh.apply(this,arguments)}(this._delegate,f,p))}signInWithPopup(f){var p=this;return(0,E.Z)(function*(){return Ml(ds(),p._delegate,"operation-not-supported-in-this-environment"),Ir(p._delegate,function N_(h,l,f){return Fh.apply(this,arguments)}(p._delegate,f,hs))})()}signInWithRedirect(f){var p=this;return(0,E.Z)(function*(){return Ml(ds(),p._delegate,"operation-not-supported-in-this-environment"),yield hf(p._delegate),zE(p._delegate,f,hs)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function gn(h,l){return ge.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=ir,h})();function pf(h,l,f){let p=h;"function"!=typeof h&&({next:p,error:l,complete:f}=h);const _=p;return{next:I=>_(I&&ki.getOrCreate(I)),error:l,complete:f}}function gf(h,l){const f=function Pl(h,l){const f=ly();if(!f)return[];const p=$n(co,h,l);switch(f.getItem(p)){case ir.NONE:return[an];case ir.LOCAL:return[za,Gs];case ir.SESSION:return[Gs];default:return[]}}(h,l);if(typeof self<"u"&&!f.includes(za)&&f.push(za),typeof window<"u")for(const p of[ui,Gs])f.includes(p)||f.push(p);return f.includes(an)||f.push(an),f}class ap{constructor(){this.providerId="phone",this._delegate=new zn(dw($e.Z.auth()))}static credential(l,f){return zn.credential(l,f)}verifyPhoneNumber(l,f){return this._delegate.verifyPhoneNumber(l,f)}unwrap(){return this._delegate}}ap.PHONE_SIGN_IN_METHOD=zn.PHONE_SIGN_IN_METHOD,ap.PROVIDER_ID=zn.PROVIDER_ID;const Dl=J;class gw{constructor(l,f,p=$e.Z.app()){var _;Dl(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new LE(p.auth(),l,f),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mw(h){h.INTERNAL.registerComponent(new hn.wA("auth-compat",l=>{const f=l.getProvider("app-compat").getImmediate(),p=l.getProvider("auth");return new uy(f,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:uh,FacebookAuthProvider:no,GithubAuthProvider:wt,GoogleAuthProvider:Vo,OAuthProvider:Ri,SAMLAuthProvider:nl,PhoneAuthProvider:ap,PhoneMultiFactorGenerator:yO,RecaptchaVerifier:gw,TwitterAuthProvider:oi,Auth:uy,AuthCredential:Ai,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.1")}($e.Z)},861:(Pi,Wn,Qe)=>{function E(z,He,Tt,rn,hn,Kn,ut){try{var ee=z[Kn](ut),ae=ee.value}catch(Ae){return void Tt(Ae)}ee.done?He(ae):Promise.resolve(ae).then(rn,hn)}function $e(z){return function(){var He=this,Tt=arguments;return new Promise(function(rn,hn){var Kn=z.apply(He,Tt);function ut(ae){E(Kn,rn,hn,ut,ee,"next",ae)}function ee(ae){E(Kn,rn,hn,ut,ee,"throw",ae)}ut(void 0)})}}Qe.d(Wn,{Z:()=>$e})},582:(Pi,Wn,Qe)=>{function He(V,j){var B={};for(var K in V)Object.prototype.hasOwnProperty.call(V,K)&&j.indexOf(K)<0&&(B[K]=V[K]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(K=Object.getOwnPropertySymbols(V);te<K.length;te++)j.indexOf(K[te])<0&&Object.prototype.propertyIsEnumerable.call(V,K[te])&&(B[K[te]]=V[K[te]])}return B}function Ae(V,j,B,K){return new(B||(B=Promise))(function(H,me){function mt(Et){try{Se(K.next(Et))}catch(sn){me(sn)}}function ve(Et){try{Se(K.throw(Et))}catch(sn){me(sn)}}function Se(Et){Et.done?H(Et.value):function te(H){return H instanceof B?H:new B(function(me){me(H)})}(Et.value).then(mt,ve)}Se((K=K.apply(V,j||[])).next())})}function Kt(V){return this instanceof Kt?(this.v=V,this):new Kt(V)}function Ot(V,j,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,K=B.apply(V,j||[]),H=[];return te={},me("next"),me("throw"),me("return"),te[Symbol.asyncIterator]=function(){return this},te;function me(zt){K[zt]&&(te[zt]=function(ur){return new Promise(function(Bn,Cr){H.push([zt,ur,Bn,Cr])>1||mt(zt,ur)})})}function mt(zt,ur){try{!function ve(zt){zt.value instanceof Kt?Promise.resolve(zt.value.v).then(Se,Et):sn(H[0][2],zt)}(K[zt](ur))}catch(Bn){sn(H[0][3],Bn)}}function Se(zt){mt("next",zt)}function Et(zt){mt("throw",zt)}function sn(zt,ur){zt(ur),H.shift(),H.length&&mt(H[0][0],H[0][1])}}function Rr(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,j=V[Symbol.asyncIterator];return j?j.call(V):(V=function At(V){var j="function"==typeof Symbol&&Symbol.iterator,B=j&&V[j],K=0;if(B)return B.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&K>=V.length&&(V=void 0),{value:V&&V[K++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),B={},K("next"),K("throw"),K("return"),B[Symbol.asyncIterator]=function(){return this},B);function K(H){B[H]=V[H]&&function(me){return new Promise(function(mt,ve){!function te(H,me,mt,ve){Promise.resolve(ve).then(function(Se){H({value:Se,done:mt})},me)}(mt,ve,(me=V[H](me)).done,me.value)})}}}Qe.d(Wn,{FC:()=>Ot,KL:()=>Rr,_T:()=>He,mG:()=>Ae,qq:()=>Kt}),"function"==typeof SuppressedError&&SuppressedError}},Pi=>{Pi(Pi.s=406)}]);